(function(){const z=document.createElement("link").relList;if(z&&z.supports&&z.supports("modulepreload"))return;for(const y of document.querySelectorAll('link[rel="modulepreload"]'))f(y);new MutationObserver(y=>{for(const p of y)if(p.type==="childList")for(const C of p.addedNodes)C.tagName==="LINK"&&C.rel==="modulepreload"&&f(C)}).observe(document,{childList:!0,subtree:!0});function B(y){const p={};return y.integrity&&(p.integrity=y.integrity),y.referrerPolicy&&(p.referrerPolicy=y.referrerPolicy),y.crossOrigin==="use-credentials"?p.credentials="include":y.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function f(y){if(y.ep)return;y.ep=!0;const p=B(y);fetch(y.href,p)}})();function Am(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Tu={exports:{}},qn={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kf;function Mm(){if(kf)return qn;kf=1;var r=Symbol.for("react.transitional.element"),z=Symbol.for("react.fragment");function B(f,y,p){var C=null;if(p!==void 0&&(C=""+p),y.key!==void 0&&(C=""+y.key),"key"in y){p={};for(var w in y)w!=="key"&&(p[w]=y[w])}else p=y;return y=p.ref,{$$typeof:r,type:f,key:C,ref:y!==void 0?y:null,props:p}}return qn.Fragment=z,qn.jsx=B,qn.jsxs=B,qn}var Bf;function Nm(){return Bf||(Bf=1,Tu.exports=Mm()),Tu.exports}var s=Nm(),Cu={exports:{}},de={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wf;function Rm(){if(wf)return de;wf=1;var r=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),p=Symbol.for("react.consumer"),C=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),J=Symbol.iterator;function q(o){return o===null||typeof o!="object"?null:(o=J&&o[J]||o["@@iterator"],typeof o=="function"?o:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,K={};function $(o,d,b){this.props=o,this.context=d,this.refs=K,this.updater=b||D}$.prototype.isReactComponent={},$.prototype.setState=function(o,d){if(typeof o!="object"&&typeof o!="function"&&o!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,o,d,"setState")},$.prototype.forceUpdate=function(o){this.updater.enqueueForceUpdate(this,o,"forceUpdate")};function V(){}V.prototype=$.prototype;function ae(o,d,b){this.props=o,this.context=d,this.refs=K,this.updater=b||D}var se=ae.prototype=new V;se.constructor=ae,Q(se,$.prototype),se.isPureReactComponent=!0;var L=Array.isArray;function ee(){}var le={H:null,A:null,T:null,S:null},Se=Object.prototype.hasOwnProperty;function Y(o,d,b){var R=b.ref;return{$$typeof:r,type:o,key:d,ref:R!==void 0?R:null,props:b}}function ue(o,d){return Y(o.type,d,o.props)}function re(o){return typeof o=="object"&&o!==null&&o.$$typeof===r}function me(o){var d={"=":"=0",":":"=2"};return"$"+o.replace(/[=:]/g,function(b){return d[b]})}var Re=/\/+/g;function We(o,d){return typeof o=="object"&&o!==null&&o.key!=null?me(""+o.key):d.toString(36)}function Oe(o){switch(o.status){case"fulfilled":return o.value;case"rejected":throw o.reason;default:switch(typeof o.status=="string"?o.then(ee,ee):(o.status="pending",o.then(function(d){o.status==="pending"&&(o.status="fulfilled",o.value=d)},function(d){o.status==="pending"&&(o.status="rejected",o.reason=d)})),o.status){case"fulfilled":return o.value;case"rejected":throw o.reason}}throw o}function M(o,d,b,R,Z){var W=typeof o;(W==="undefined"||W==="boolean")&&(o=null);var ce=!1;if(o===null)ce=!0;else switch(W){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(o.$$typeof){case r:case z:ce=!0;break;case G:return ce=o._init,M(ce(o._payload),d,b,R,Z)}}if(ce)return Z=Z(o),ce=R===""?"."+We(o,0):R,L(Z)?(b="",ce!=null&&(b=ce.replace(Re,"$&/")+"/"),M(Z,d,b,"",function(ct){return ct})):Z!=null&&(re(Z)&&(Z=ue(Z,b+(Z.key==null||o&&o.key===Z.key?"":(""+Z.key).replace(Re,"$&/")+"/")+ce)),d.push(Z)),1;ce=0;var Ce=R===""?".":R+":";if(L(o))for(var je=0;je<o.length;je++)R=o[je],W=Ce+We(R,je),ce+=M(R,d,b,W,Z);else if(je=q(o),typeof je=="function")for(o=je.call(o),je=0;!(R=o.next()).done;)R=R.value,W=Ce+We(R,je++),ce+=M(R,d,b,W,Z);else if(W==="object"){if(typeof o.then=="function")return M(Oe(o),d,b,R,Z);throw d=String(o),Error("Objects are not valid as a React child (found: "+(d==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":d)+"). If you meant to render a collection of children, use an array instead.")}return ce}function X(o,d,b){if(o==null)return o;var R=[],Z=0;return M(o,R,"","",function(W){return d.call(b,W,Z++)}),R}function ne(o){if(o._status===-1){var d=o._result;d=d(),d.then(function(b){(o._status===0||o._status===-1)&&(o._status=1,o._result=b)},function(b){(o._status===0||o._status===-1)&&(o._status=2,o._result=b)}),o._status===-1&&(o._status=0,o._result=d)}if(o._status===1)return o._result.default;throw o._result}var A=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},F={map:X,forEach:function(o,d,b){X(o,function(){d.apply(this,arguments)},b)},count:function(o){var d=0;return X(o,function(){d++}),d},toArray:function(o){return X(o,function(d){return d})||[]},only:function(o){if(!re(o))throw Error("React.Children.only expected to receive a single React element child.");return o}};return de.Activity=U,de.Children=F,de.Component=$,de.Fragment=B,de.Profiler=y,de.PureComponent=ae,de.StrictMode=f,de.Suspense=H,de.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=le,de.__COMPILER_RUNTIME={__proto__:null,c:function(o){return le.H.useMemoCache(o)}},de.cache=function(o){return function(){return o.apply(null,arguments)}},de.cacheSignal=function(){return null},de.cloneElement=function(o,d,b){if(o==null)throw Error("The argument must be a React element, but you passed "+o+".");var R=Q({},o.props),Z=o.key;if(d!=null)for(W in d.key!==void 0&&(Z=""+d.key),d)!Se.call(d,W)||W==="key"||W==="__self"||W==="__source"||W==="ref"&&d.ref===void 0||(R[W]=d[W]);var W=arguments.length-2;if(W===1)R.children=b;else if(1<W){for(var ce=Array(W),Ce=0;Ce<W;Ce++)ce[Ce]=arguments[Ce+2];R.children=ce}return Y(o.type,Z,R)},de.createContext=function(o){return o={$$typeof:C,_currentValue:o,_currentValue2:o,_threadCount:0,Provider:null,Consumer:null},o.Provider=o,o.Consumer={$$typeof:p,_context:o},o},de.createElement=function(o,d,b){var R,Z={},W=null;if(d!=null)for(R in d.key!==void 0&&(W=""+d.key),d)Se.call(d,R)&&R!=="key"&&R!=="__self"&&R!=="__source"&&(Z[R]=d[R]);var ce=arguments.length-2;if(ce===1)Z.children=b;else if(1<ce){for(var Ce=Array(ce),je=0;je<ce;je++)Ce[je]=arguments[je+2];Z.children=Ce}if(o&&o.defaultProps)for(R in ce=o.defaultProps,ce)Z[R]===void 0&&(Z[R]=ce[R]);return Y(o,W,Z)},de.createRef=function(){return{current:null}},de.forwardRef=function(o){return{$$typeof:w,render:o}},de.isValidElement=re,de.lazy=function(o){return{$$typeof:G,_payload:{_status:-1,_result:o},_init:ne}},de.memo=function(o,d){return{$$typeof:v,type:o,compare:d===void 0?null:d}},de.startTransition=function(o){var d=le.T,b={};le.T=b;try{var R=o(),Z=le.S;Z!==null&&Z(b,R),typeof R=="object"&&R!==null&&typeof R.then=="function"&&R.then(ee,A)}catch(W){A(W)}finally{d!==null&&b.types!==null&&(d.types=b.types),le.T=d}},de.unstable_useCacheRefresh=function(){return le.H.useCacheRefresh()},de.use=function(o){return le.H.use(o)},de.useActionState=function(o,d,b){return le.H.useActionState(o,d,b)},de.useCallback=function(o,d){return le.H.useCallback(o,d)},de.useContext=function(o){return le.H.useContext(o)},de.useDebugValue=function(){},de.useDeferredValue=function(o,d){return le.H.useDeferredValue(o,d)},de.useEffect=function(o,d){return le.H.useEffect(o,d)},de.useEffectEvent=function(o){return le.H.useEffectEvent(o)},de.useId=function(){return le.H.useId()},de.useImperativeHandle=function(o,d,b){return le.H.useImperativeHandle(o,d,b)},de.useInsertionEffect=function(o,d){return le.H.useInsertionEffect(o,d)},de.useLayoutEffect=function(o,d){return le.H.useLayoutEffect(o,d)},de.useMemo=function(o,d){return le.H.useMemo(o,d)},de.useOptimistic=function(o,d){return le.H.useOptimistic(o,d)},de.useReducer=function(o,d,b){return le.H.useReducer(o,d,b)},de.useRef=function(o){return le.H.useRef(o)},de.useState=function(o){return le.H.useState(o)},de.useSyncExternalStore=function(o,d,b){return le.H.useSyncExternalStore(o,d,b)},de.useTransition=function(){return le.H.useTransition()},de.version="19.2.4",de}var Uf;function ku(){return Uf||(Uf=1,Cu.exports=Rm()),Cu.exports}var _=ku();const Bu=Am(_);var _u={exports:{}},Yn={},Eu={exports:{}},Au={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hf;function Om(){return Hf||(Hf=1,(function(r){function z(M,X){var ne=M.length;M.push(X);e:for(;0<ne;){var A=ne-1>>>1,F=M[A];if(0<y(F,X))M[A]=X,M[ne]=F,ne=A;else break e}}function B(M){return M.length===0?null:M[0]}function f(M){if(M.length===0)return null;var X=M[0],ne=M.pop();if(ne!==X){M[0]=ne;e:for(var A=0,F=M.length,o=F>>>1;A<o;){var d=2*(A+1)-1,b=M[d],R=d+1,Z=M[R];if(0>y(b,ne))R<F&&0>y(Z,b)?(M[A]=Z,M[R]=ne,A=R):(M[A]=b,M[d]=ne,A=d);else if(R<F&&0>y(Z,ne))M[A]=Z,M[R]=ne,A=R;else break e}}return X}function y(M,X){var ne=M.sortIndex-X.sortIndex;return ne!==0?ne:M.id-X.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var p=performance;r.unstable_now=function(){return p.now()}}else{var C=Date,w=C.now();r.unstable_now=function(){return C.now()-w}}var H=[],v=[],G=1,U=null,J=3,q=!1,D=!1,Q=!1,K=!1,$=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;function se(M){for(var X=B(v);X!==null;){if(X.callback===null)f(v);else if(X.startTime<=M)f(v),X.sortIndex=X.expirationTime,z(H,X);else break;X=B(v)}}function L(M){if(Q=!1,se(M),!D)if(B(H)!==null)D=!0,ee||(ee=!0,me());else{var X=B(v);X!==null&&Oe(L,X.startTime-M)}}var ee=!1,le=-1,Se=5,Y=-1;function ue(){return K?!0:!(r.unstable_now()-Y<Se)}function re(){if(K=!1,ee){var M=r.unstable_now();Y=M;var X=!0;try{e:{D=!1,Q&&(Q=!1,V(le),le=-1),q=!0;var ne=J;try{t:{for(se(M),U=B(H);U!==null&&!(U.expirationTime>M&&ue());){var A=U.callback;if(typeof A=="function"){U.callback=null,J=U.priorityLevel;var F=A(U.expirationTime<=M);if(M=r.unstable_now(),typeof F=="function"){U.callback=F,se(M),X=!0;break t}U===B(H)&&f(H),se(M)}else f(H);U=B(H)}if(U!==null)X=!0;else{var o=B(v);o!==null&&Oe(L,o.startTime-M),X=!1}}break e}finally{U=null,J=ne,q=!1}X=void 0}}finally{X?me():ee=!1}}}var me;if(typeof ae=="function")me=function(){ae(re)};else if(typeof MessageChannel<"u"){var Re=new MessageChannel,We=Re.port2;Re.port1.onmessage=re,me=function(){We.postMessage(null)}}else me=function(){$(re,0)};function Oe(M,X){le=$(function(){M(r.unstable_now())},X)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(M){M.callback=null},r.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Se=0<M?Math.floor(1e3/M):5},r.unstable_getCurrentPriorityLevel=function(){return J},r.unstable_next=function(M){switch(J){case 1:case 2:case 3:var X=3;break;default:X=J}var ne=J;J=X;try{return M()}finally{J=ne}},r.unstable_requestPaint=function(){K=!0},r.unstable_runWithPriority=function(M,X){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var ne=J;J=M;try{return X()}finally{J=ne}},r.unstable_scheduleCallback=function(M,X,ne){var A=r.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?A+ne:A):ne=A,M){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=ne+F,M={id:G++,callback:X,priorityLevel:M,startTime:ne,expirationTime:F,sortIndex:-1},ne>A?(M.sortIndex=ne,z(v,M),B(H)===null&&M===B(v)&&(Q?(V(le),le=-1):Q=!0,Oe(L,ne-A))):(M.sortIndex=F,z(H,M),D||q||(D=!0,ee||(ee=!0,me()))),M},r.unstable_shouldYield=ue,r.unstable_wrapCallback=function(M){var X=J;return function(){var ne=J;J=X;try{return M.apply(this,arguments)}finally{J=ne}}}})(Au)),Au}var qf;function Dm(){return qf||(qf=1,Eu.exports=Om()),Eu.exports}var Mu={exports:{}},ut={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yf;function km(){if(Yf)return ut;Yf=1;var r=ku();function z(H){var v="https://react.dev/errors/"+H;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var G=2;G<arguments.length;G++)v+="&args[]="+encodeURIComponent(arguments[G])}return"Minified React error #"+H+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function B(){}var f={d:{f:B,r:function(){throw Error(z(522))},D:B,C:B,L:B,m:B,X:B,S:B,M:B},p:0,findDOMNode:null},y=Symbol.for("react.portal");function p(H,v,G){var U=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:y,key:U==null?null:""+U,children:H,containerInfo:v,implementation:G}}var C=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function w(H,v){if(H==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return ut.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=f,ut.createPortal=function(H,v){var G=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(z(299));return p(H,v,null,G)},ut.flushSync=function(H){var v=C.T,G=f.p;try{if(C.T=null,f.p=2,H)return H()}finally{C.T=v,f.p=G,f.d.f()}},ut.preconnect=function(H,v){typeof H=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,f.d.C(H,v))},ut.prefetchDNS=function(H){typeof H=="string"&&f.d.D(H)},ut.preinit=function(H,v){if(typeof H=="string"&&v&&typeof v.as=="string"){var G=v.as,U=w(G,v.crossOrigin),J=typeof v.integrity=="string"?v.integrity:void 0,q=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;G==="style"?f.d.S(H,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:U,integrity:J,fetchPriority:q}):G==="script"&&f.d.X(H,{crossOrigin:U,integrity:J,fetchPriority:q,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},ut.preinitModule=function(H,v){if(typeof H=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var G=w(v.as,v.crossOrigin);f.d.M(H,{crossOrigin:G,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&f.d.M(H)},ut.preload=function(H,v){if(typeof H=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var G=v.as,U=w(G,v.crossOrigin);f.d.L(H,G,{crossOrigin:U,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},ut.preloadModule=function(H,v){if(typeof H=="string")if(v){var G=w(v.as,v.crossOrigin);f.d.m(H,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:G,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else f.d.m(H)},ut.requestFormReset=function(H){f.d.r(H)},ut.unstable_batchedUpdates=function(H,v){return H(v)},ut.useFormState=function(H,v,G){return C.H.useFormState(H,v,G)},ut.useFormStatus=function(){return C.H.useHostTransitionStatus()},ut.version="19.2.4",ut}var Gf;function Bm(){if(Gf)return Mu.exports;Gf=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(z){console.error(z)}}return r(),Mu.exports=km(),Mu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lf;function wm(){if(Lf)return Yn;Lf=1;var r=Dm(),z=ku(),B=Bm();function f(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function y(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function p(e){var t=e,l=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(l=t.return),e=t.return;while(e)}return t.tag===3?l:null}function C(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function w(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function H(e){if(p(e)!==e)throw Error(f(188))}function v(e){var t=e.alternate;if(!t){if(t=p(e),t===null)throw Error(f(188));return t!==e?null:e}for(var l=e,a=t;;){var n=l.return;if(n===null)break;var i=n.alternate;if(i===null){if(a=n.return,a!==null){l=a;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===l)return H(n),e;if(i===a)return H(n),t;i=i.sibling}throw Error(f(188))}if(l.return!==a.return)l=n,a=i;else{for(var c=!1,u=n.child;u;){if(u===l){c=!0,l=n,a=i;break}if(u===a){c=!0,a=n,l=i;break}u=u.sibling}if(!c){for(u=i.child;u;){if(u===l){c=!0,l=i,a=n;break}if(u===a){c=!0,a=i,l=n;break}u=u.sibling}if(!c)throw Error(f(189))}}if(l.alternate!==a)throw Error(f(190))}if(l.tag!==3)throw Error(f(188));return l.stateNode.current===l?e:t}function G(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=G(e),t!==null)return t;e=e.sibling}return null}var U=Object.assign,J=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),V=Symbol.for("react.consumer"),ae=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),le=Symbol.for("react.memo"),Se=Symbol.for("react.lazy"),Y=Symbol.for("react.activity"),ue=Symbol.for("react.memo_cache_sentinel"),re=Symbol.iterator;function me(e){return e===null||typeof e!="object"?null:(e=re&&e[re]||e["@@iterator"],typeof e=="function"?e:null)}var Re=Symbol.for("react.client.reference");function We(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Re?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Q:return"Fragment";case $:return"Profiler";case K:return"StrictMode";case L:return"Suspense";case ee:return"SuspenseList";case Y:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case D:return"Portal";case ae:return e.displayName||"Context";case V:return(e._context.displayName||"Context")+".Consumer";case se:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case le:return t=e.displayName||null,t!==null?t:We(e.type)||"Memo";case Se:t=e._payload,e=e._init;try{return We(e(t))}catch{}}return null}var Oe=Array.isArray,M=z.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=B.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},A=[],F=-1;function o(e){return{current:e}}function d(e){0>F||(e.current=A[F],A[F]=null,F--)}function b(e,t){F++,A[F]=e.current,e.current=t}var R=o(null),Z=o(null),W=o(null),ce=o(null);function Ce(e,t){switch(b(W,t),b(Z,e),b(R,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?lf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=lf(t),e=af(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}d(R),b(R,e)}function je(){d(R),d(Z),d(W)}function ct(e){e.memoizedState!==null&&b(ce,e);var t=R.current,l=af(t,e.type);t!==l&&(b(Z,e),b(R,l))}function _t(e){Z.current===e&&(d(R),d(Z)),ce.current===e&&(d(ce),Bn._currentValue=ne)}var Gt,Ln;function Lt(e){if(Gt===void 0)try{throw Error()}catch(l){var t=l.stack.trim().match(/\n( *(at )?)/);Gt=t&&t[1]||"",Ln=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Gt+e+Ln}var La=!1;function la(e,t){if(!e||La)return"";La=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var k=function(){throw Error()};if(Object.defineProperty(k.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(k,[])}catch(E){var T=E}Reflect.construct(e,[],k)}else{try{k.call()}catch(E){T=E}e.call(k.prototype)}}else{try{throw Error()}catch(E){T=E}(k=e())&&typeof k.catch=="function"&&k.catch(function(){})}}catch(E){if(E&&T&&typeof E.stack=="string")return[E.stack,T.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=a.DetermineComponentFrameRoot(),c=i[0],u=i[1];if(c&&u){var h=c.split(`
`),j=u.split(`
`);for(n=a=0;a<h.length&&!h[a].includes("DetermineComponentFrameRoot");)a++;for(;n<j.length&&!j[n].includes("DetermineComponentFrameRoot");)n++;if(a===h.length||n===j.length)for(a=h.length-1,n=j.length-1;1<=a&&0<=n&&h[a]!==j[n];)n--;for(;1<=a&&0<=n;a--,n--)if(h[a]!==j[n]){if(a!==1||n!==1)do if(a--,n--,0>n||h[a]!==j[n]){var N=`
`+h[a].replace(" at new "," at ");return e.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",e.displayName)),N}while(1<=a&&0<=n);break}}}finally{La=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Lt(l):""}function os(e,t){switch(e.tag){case 26:case 27:case 5:return Lt(e.type);case 16:return Lt("Lazy");case 13:return e.child!==t&&t!==null?Lt("Suspense Fallback"):Lt("Suspense");case 19:return Lt("SuspenseList");case 0:case 15:return la(e.type,!1);case 11:return la(e.type.render,!1);case 1:return la(e.type,!0);case 31:return Lt("Activity");default:return""}}function Qn(e){try{var t="",l=null;do t+=os(e,l),l=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var Qa=Object.prototype.hasOwnProperty,Xa=r.unstable_scheduleCallback,Za=r.unstable_cancelCallback,rs=r.unstable_shouldYield,ds=r.unstable_requestPaint,ot=r.unstable_now,Va=r.unstable_getCurrentPriorityLevel,Xn=r.unstable_ImmediatePriority,Zn=r.unstable_UserBlockingPriority,x=r.unstable_NormalPriority,I=r.unstable_LowPriority,ye=r.unstable_IdlePriority,De=r.log,ze=r.unstable_setDisableYieldValue,Ge=null,et=null;function fl(e){if(typeof De=="function"&&ze(e),et&&typeof et.setStrictMode=="function")try{et.setStrictMode(Ge,e)}catch{}}var gt=Math.clz32?Math.clz32:hp,fp=Math.log,pp=Math.LN2;function hp(e){return e>>>=0,e===0?32:31-(fp(e)/pp|0)|0}var Vn=256,Kn=262144,Jn=4194304;function Ul(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function $n(e,t,l){var a=e.pendingLanes;if(a===0)return 0;var n=0,i=e.suspendedLanes,c=e.pingedLanes;e=e.warmLanes;var u=a&134217727;return u!==0?(a=u&~i,a!==0?n=Ul(a):(c&=u,c!==0?n=Ul(c):l||(l=u&~e,l!==0&&(n=Ul(l))))):(u=a&~i,u!==0?n=Ul(u):c!==0?n=Ul(c):l||(l=a&~e,l!==0&&(n=Ul(l)))),n===0?0:t!==0&&t!==n&&(t&i)===0&&(i=n&-n,l=t&-t,i>=l||i===32&&(l&4194048)!==0)?t:n}function Ka(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function mp(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wu(){var e=Jn;return Jn<<=1,(Jn&62914560)===0&&(Jn=4194304),e}function fs(e){for(var t=[],l=0;31>l;l++)t.push(e);return t}function Ja(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function yp(e,t,l,a,n,i){var c=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var u=e.entanglements,h=e.expirationTimes,j=e.hiddenUpdates;for(l=c&~l;0<l;){var N=31-gt(l),k=1<<N;u[N]=0,h[N]=-1;var T=j[N];if(T!==null)for(j[N]=null,N=0;N<T.length;N++){var E=T[N];E!==null&&(E.lane&=-536870913)}l&=~k}a!==0&&Uu(e,a,0),i!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=i&~(c&~t))}function Uu(e,t,l){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-gt(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|l&261930}function Hu(e,t){var l=e.entangledLanes|=t;for(e=e.entanglements;l;){var a=31-gt(l),n=1<<a;n&t|e[a]&t&&(e[a]|=t),l&=~n}}function qu(e,t){var l=t&-t;return l=(l&42)!==0?1:ps(l),(l&(e.suspendedLanes|t))!==0?0:l}function ps(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function hs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Yu(){var e=X.p;return e!==0?e:(e=window.event,e===void 0?32:Ef(e.type))}function Gu(e,t){var l=X.p;try{return X.p=e,t()}finally{X.p=l}}var pl=Math.random().toString(36).slice(2),tt="__reactFiber$"+pl,dt="__reactProps$"+pl,aa="__reactContainer$"+pl,ms="__reactEvents$"+pl,xp="__reactListeners$"+pl,gp="__reactHandles$"+pl,Lu="__reactResources$"+pl,$a="__reactMarker$"+pl;function ys(e){delete e[tt],delete e[dt],delete e[ms],delete e[xp],delete e[gp]}function na(e){var t=e[tt];if(t)return t;for(var l=e.parentNode;l;){if(t=l[aa]||l[tt]){if(l=t.alternate,t.child!==null||l!==null&&l.child!==null)for(e=df(e);e!==null;){if(l=e[tt])return l;e=df(e)}return t}e=l,l=e.parentNode}return null}function ia(e){if(e=e[tt]||e[aa]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Wa(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(f(33))}function sa(e){var t=e[Lu];return t||(t=e[Lu]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ie(e){e[$a]=!0}var Qu=new Set,Xu={};function Hl(e,t){ca(e,t),ca(e+"Capture",t)}function ca(e,t){for(Xu[e]=t,e=0;e<t.length;e++)Qu.add(t[e])}var vp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zu={},Vu={};function bp(e){return Qa.call(Vu,e)?!0:Qa.call(Zu,e)?!1:vp.test(e)?Vu[e]=!0:(Zu[e]=!0,!1)}function Wn(e,t,l){if(bp(t))if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+l)}}function Fn(e,t,l){if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+l)}}function Kt(e,t,l,a){if(a===null)e.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(t,l,""+a)}}function Et(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ku(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Sp(e,t,l){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var n=a.get,i=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(c){l=""+c,i.call(this,c)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(c){l=""+c},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function xs(e){if(!e._valueTracker){var t=Ku(e)?"checked":"value";e._valueTracker=Sp(e,t,""+e[t])}}function Ju(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var l=t.getValue(),a="";return e&&(a=Ku(e)?e.checked?"true":"false":e.value),e=a,e!==l?(t.setValue(e),!0):!1}function In(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var jp=/[\n"\\]/g;function At(e){return e.replace(jp,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function gs(e,t,l,a,n,i,c,u){e.name="",c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"?e.type=c:e.removeAttribute("type"),t!=null?c==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Et(t)):e.value!==""+Et(t)&&(e.value=""+Et(t)):c!=="submit"&&c!=="reset"||e.removeAttribute("value"),t!=null?vs(e,c,Et(t)):l!=null?vs(e,c,Et(l)):a!=null&&e.removeAttribute("value"),n==null&&i!=null&&(e.defaultChecked=!!i),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?e.name=""+Et(u):e.removeAttribute("name")}function $u(e,t,l,a,n,i,c,u){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||l!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){xs(e);return}l=l!=null?""+Et(l):"",t=t!=null?""+Et(t):l,u||t===e.value||(e.value=t),e.defaultValue=t}a=a??n,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=u?e.checked:!!a,e.defaultChecked=!!a,c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.name=c),xs(e)}function vs(e,t,l){t==="number"&&In(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function ua(e,t,l,a){if(e=e.options,t){t={};for(var n=0;n<l.length;n++)t["$"+l[n]]=!0;for(l=0;l<e.length;l++)n=t.hasOwnProperty("$"+e[l].value),e[l].selected!==n&&(e[l].selected=n),n&&a&&(e[l].defaultSelected=!0)}else{for(l=""+Et(l),t=null,n=0;n<e.length;n++){if(e[n].value===l){e[n].selected=!0,a&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function Wu(e,t,l){if(t!=null&&(t=""+Et(t),t!==e.value&&(e.value=t),l==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=l!=null?""+Et(l):""}function Fu(e,t,l,a){if(t==null){if(a!=null){if(l!=null)throw Error(f(92));if(Oe(a)){if(1<a.length)throw Error(f(93));a=a[0]}l=a}l==null&&(l=""),t=l}l=Et(t),e.defaultValue=l,a=e.textContent,a===l&&a!==""&&a!==null&&(e.value=a),xs(e)}function oa(e,t){if(t){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=t;return}}e.textContent=t}var zp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Iu(e,t,l){var a=t.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,l):typeof l!="number"||l===0||zp.has(t)?t==="float"?e.cssFloat=l:e[t]=(""+l).trim():e[t]=l+"px"}function Pu(e,t,l){if(t!=null&&typeof t!="object")throw Error(f(62));if(e=e.style,l!=null){for(var a in l)!l.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var n in t)a=t[n],t.hasOwnProperty(n)&&l[n]!==a&&Iu(e,n,a)}else for(var i in t)t.hasOwnProperty(i)&&Iu(e,i,t[i])}function bs(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pn(e){return Cp.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Jt(){}var Ss=null;function js(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ra=null,da=null;function eo(e){var t=ia(e);if(t&&(e=t.stateNode)){var l=e[dt]||null;e:switch(e=t.stateNode,t.type){case"input":if(gs(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),t=l.name,l.type==="radio"&&t!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+At(""+t)+'"][type="radio"]'),t=0;t<l.length;t++){var a=l[t];if(a!==e&&a.form===e.form){var n=a[dt]||null;if(!n)throw Error(f(90));gs(a,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<l.length;t++)a=l[t],a.form===e.form&&Ju(a)}break e;case"textarea":Wu(e,l.value,l.defaultValue);break e;case"select":t=l.value,t!=null&&ua(e,!!l.multiple,t,!1)}}}var zs=!1;function to(e,t,l){if(zs)return e(t,l);zs=!0;try{var a=e(t);return a}finally{if(zs=!1,(ra!==null||da!==null)&&(Yi(),ra&&(t=ra,e=da,da=ra=null,eo(t),e)))for(t=0;t<e.length;t++)eo(e[t])}}function Fa(e,t){var l=e.stateNode;if(l===null)return null;var a=l[dt]||null;if(a===null)return null;l=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(f(231,t,typeof l));return l}var $t=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ts=!1;if($t)try{var Ia={};Object.defineProperty(Ia,"passive",{get:function(){Ts=!0}}),window.addEventListener("test",Ia,Ia),window.removeEventListener("test",Ia,Ia)}catch{Ts=!1}var hl=null,Cs=null,ei=null;function lo(){if(ei)return ei;var e,t=Cs,l=t.length,a,n="value"in hl?hl.value:hl.textContent,i=n.length;for(e=0;e<l&&t[e]===n[e];e++);var c=l-e;for(a=1;a<=c&&t[l-a]===n[i-a];a++);return ei=n.slice(e,1<a?1-a:void 0)}function ti(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function li(){return!0}function ao(){return!1}function ft(e){function t(l,a,n,i,c){this._reactName=l,this._targetInst=n,this.type=a,this.nativeEvent=i,this.target=c,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(l=e[u],this[u]=l?l(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?li:ao,this.isPropagationStopped=ao,this}return U(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=li)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=li)},persist:function(){},isPersistent:li}),t}var ql={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ai=ft(ql),Pa=U({},ql,{view:0,detail:0}),_p=ft(Pa),_s,Es,en,ni=U({},Pa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ms,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&e.type==="mousemove"?(_s=e.screenX-en.screenX,Es=e.screenY-en.screenY):Es=_s=0,en=e),_s)},movementY:function(e){return"movementY"in e?e.movementY:Es}}),no=ft(ni),Ep=U({},ni,{dataTransfer:0}),Ap=ft(Ep),Mp=U({},Pa,{relatedTarget:0}),As=ft(Mp),Np=U({},ql,{animationName:0,elapsedTime:0,pseudoElement:0}),Rp=ft(Np),Op=U({},ql,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Dp=ft(Op),kp=U({},ql,{data:0}),io=ft(kp),Bp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Up={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Up[e])?!!t[e]:!1}function Ms(){return Hp}var qp=U({},Pa,{key:function(e){if(e.key){var t=Bp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ti(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ms,charCode:function(e){return e.type==="keypress"?ti(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ti(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Yp=ft(qp),Gp=U({},ni,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),so=ft(Gp),Lp=U({},Pa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ms}),Qp=ft(Lp),Xp=U({},ql,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zp=ft(Xp),Vp=U({},ni,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Kp=ft(Vp),Jp=U({},ql,{newState:0,oldState:0}),$p=ft(Jp),Wp=[9,13,27,32],Ns=$t&&"CompositionEvent"in window,tn=null;$t&&"documentMode"in document&&(tn=document.documentMode);var Fp=$t&&"TextEvent"in window&&!tn,co=$t&&(!Ns||tn&&8<tn&&11>=tn),uo=" ",oo=!1;function ro(e,t){switch(e){case"keyup":return Wp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fo(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fa=!1;function Ip(e,t){switch(e){case"compositionend":return fo(t);case"keypress":return t.which!==32?null:(oo=!0,uo);case"textInput":return e=t.data,e===uo&&oo?null:e;default:return null}}function Pp(e,t){if(fa)return e==="compositionend"||!Ns&&ro(e,t)?(e=lo(),ei=Cs=hl=null,fa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return co&&t.locale!=="ko"?null:t.data;default:return null}}var eh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function po(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!eh[e.type]:t==="textarea"}function ho(e,t,l,a){ra?da?da.push(a):da=[a]:ra=a,t=Ki(t,"onChange"),0<t.length&&(l=new ai("onChange","change",null,l,a),e.push({event:l,listeners:t}))}var ln=null,an=null;function th(e){Wd(e,0)}function ii(e){var t=Wa(e);if(Ju(t))return e}function mo(e,t){if(e==="change")return t}var yo=!1;if($t){var Rs;if($t){var Os="oninput"in document;if(!Os){var xo=document.createElement("div");xo.setAttribute("oninput","return;"),Os=typeof xo.oninput=="function"}Rs=Os}else Rs=!1;yo=Rs&&(!document.documentMode||9<document.documentMode)}function go(){ln&&(ln.detachEvent("onpropertychange",vo),an=ln=null)}function vo(e){if(e.propertyName==="value"&&ii(an)){var t=[];ho(t,an,e,js(e)),to(th,t)}}function lh(e,t,l){e==="focusin"?(go(),ln=t,an=l,ln.attachEvent("onpropertychange",vo)):e==="focusout"&&go()}function ah(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ii(an)}function nh(e,t){if(e==="click")return ii(t)}function ih(e,t){if(e==="input"||e==="change")return ii(t)}function sh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vt=typeof Object.is=="function"?Object.is:sh;function nn(e,t){if(vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var l=Object.keys(e),a=Object.keys(t);if(l.length!==a.length)return!1;for(a=0;a<l.length;a++){var n=l[a];if(!Qa.call(t,n)||!vt(e[n],t[n]))return!1}return!0}function bo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function So(e,t){var l=bo(e);e=0;for(var a;l;){if(l.nodeType===3){if(a=e+l.textContent.length,e<=t&&a>=t)return{node:l,offset:t-e};e=a}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=bo(l)}}function jo(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?jo(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function zo(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=In(e.document);t instanceof e.HTMLIFrameElement;){try{var l=typeof t.contentWindow.location.href=="string"}catch{l=!1}if(l)e=t.contentWindow;else break;t=In(e.document)}return t}function Ds(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var ch=$t&&"documentMode"in document&&11>=document.documentMode,pa=null,ks=null,sn=null,Bs=!1;function To(e,t,l){var a=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Bs||pa==null||pa!==In(a)||(a=pa,"selectionStart"in a&&Ds(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),sn&&nn(sn,a)||(sn=a,a=Ki(ks,"onSelect"),0<a.length&&(t=new ai("onSelect","select",null,t,l),e.push({event:t,listeners:a}),t.target=pa)))}function Yl(e,t){var l={};return l[e.toLowerCase()]=t.toLowerCase(),l["Webkit"+e]="webkit"+t,l["Moz"+e]="moz"+t,l}var ha={animationend:Yl("Animation","AnimationEnd"),animationiteration:Yl("Animation","AnimationIteration"),animationstart:Yl("Animation","AnimationStart"),transitionrun:Yl("Transition","TransitionRun"),transitionstart:Yl("Transition","TransitionStart"),transitioncancel:Yl("Transition","TransitionCancel"),transitionend:Yl("Transition","TransitionEnd")},ws={},Co={};$t&&(Co=document.createElement("div").style,"AnimationEvent"in window||(delete ha.animationend.animation,delete ha.animationiteration.animation,delete ha.animationstart.animation),"TransitionEvent"in window||delete ha.transitionend.transition);function Gl(e){if(ws[e])return ws[e];if(!ha[e])return e;var t=ha[e],l;for(l in t)if(t.hasOwnProperty(l)&&l in Co)return ws[e]=t[l];return e}var _o=Gl("animationend"),Eo=Gl("animationiteration"),Ao=Gl("animationstart"),uh=Gl("transitionrun"),oh=Gl("transitionstart"),rh=Gl("transitioncancel"),Mo=Gl("transitionend"),No=new Map,Us="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Us.push("scrollEnd");function Ht(e,t){No.set(e,t),Hl(t,[e])}var si=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Mt=[],ma=0,Hs=0;function ci(){for(var e=ma,t=Hs=ma=0;t<e;){var l=Mt[t];Mt[t++]=null;var a=Mt[t];Mt[t++]=null;var n=Mt[t];Mt[t++]=null;var i=Mt[t];if(Mt[t++]=null,a!==null&&n!==null){var c=a.pending;c===null?n.next=n:(n.next=c.next,c.next=n),a.pending=n}i!==0&&Ro(l,n,i)}}function ui(e,t,l,a){Mt[ma++]=e,Mt[ma++]=t,Mt[ma++]=l,Mt[ma++]=a,Hs|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function qs(e,t,l,a){return ui(e,t,l,a),oi(e)}function Ll(e,t){return ui(e,null,null,t),oi(e)}function Ro(e,t,l){e.lanes|=l;var a=e.alternate;a!==null&&(a.lanes|=l);for(var n=!1,i=e.return;i!==null;)i.childLanes|=l,a=i.alternate,a!==null&&(a.childLanes|=l),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(n=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,n&&t!==null&&(n=31-gt(l),e=i.hiddenUpdates,a=e[n],a===null?e[n]=[t]:a.push(t),t.lane=l|536870912),i):null}function oi(e){if(50<An)throw An=0,Jc=null,Error(f(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ya={};function dh(e,t,l,a){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bt(e,t,l,a){return new dh(e,t,l,a)}function Ys(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Wt(e,t){var l=e.alternate;return l===null?(l=bt(e.tag,t,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=t,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,t=e.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function Oo(e,t){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,t=l.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ri(e,t,l,a,n,i){var c=0;if(a=e,typeof e=="function")Ys(e)&&(c=1);else if(typeof e=="string")c=ym(e,l,R.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Y:return e=bt(31,l,t,n),e.elementType=Y,e.lanes=i,e;case Q:return Ql(l.children,n,i,t);case K:c=8,n|=24;break;case $:return e=bt(12,l,t,n|2),e.elementType=$,e.lanes=i,e;case L:return e=bt(13,l,t,n),e.elementType=L,e.lanes=i,e;case ee:return e=bt(19,l,t,n),e.elementType=ee,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ae:c=10;break e;case V:c=9;break e;case se:c=11;break e;case le:c=14;break e;case Se:c=16,a=null;break e}c=29,l=Error(f(130,e===null?"null":typeof e,"")),a=null}return t=bt(c,l,t,n),t.elementType=e,t.type=a,t.lanes=i,t}function Ql(e,t,l,a){return e=bt(7,e,a,t),e.lanes=l,e}function Gs(e,t,l){return e=bt(6,e,null,t),e.lanes=l,e}function Do(e){var t=bt(18,null,null,0);return t.stateNode=e,t}function Ls(e,t,l){return t=bt(4,e.children!==null?e.children:[],e.key,t),t.lanes=l,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ko=new WeakMap;function Nt(e,t){if(typeof e=="object"&&e!==null){var l=ko.get(e);return l!==void 0?l:(t={value:e,source:t,stack:Qn(t)},ko.set(e,t),t)}return{value:e,source:t,stack:Qn(t)}}var xa=[],ga=0,di=null,cn=0,Rt=[],Ot=0,ml=null,Qt=1,Xt="";function Ft(e,t){xa[ga++]=cn,xa[ga++]=di,di=e,cn=t}function Bo(e,t,l){Rt[Ot++]=Qt,Rt[Ot++]=Xt,Rt[Ot++]=ml,ml=e;var a=Qt;e=Xt;var n=32-gt(a)-1;a&=~(1<<n),l+=1;var i=32-gt(t)+n;if(30<i){var c=n-n%5;i=(a&(1<<c)-1).toString(32),a>>=c,n-=c,Qt=1<<32-gt(t)+n|l<<n|a,Xt=i+e}else Qt=1<<i|l<<n|a,Xt=e}function Qs(e){e.return!==null&&(Ft(e,1),Bo(e,1,0))}function Xs(e){for(;e===di;)di=xa[--ga],xa[ga]=null,cn=xa[--ga],xa[ga]=null;for(;e===ml;)ml=Rt[--Ot],Rt[Ot]=null,Xt=Rt[--Ot],Rt[Ot]=null,Qt=Rt[--Ot],Rt[Ot]=null}function wo(e,t){Rt[Ot++]=Qt,Rt[Ot++]=Xt,Rt[Ot++]=ml,Qt=t.id,Xt=t.overflow,ml=e}var lt=null,He=null,Te=!1,yl=null,Dt=!1,Zs=Error(f(519));function xl(e){var t=Error(f(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw un(Nt(t,e)),Zs}function Uo(e){var t=e.stateNode,l=e.type,a=e.memoizedProps;switch(t[tt]=e,t[dt]=a,l){case"dialog":ge("cancel",t),ge("close",t);break;case"iframe":case"object":case"embed":ge("load",t);break;case"video":case"audio":for(l=0;l<Nn.length;l++)ge(Nn[l],t);break;case"source":ge("error",t);break;case"img":case"image":case"link":ge("error",t),ge("load",t);break;case"details":ge("toggle",t);break;case"input":ge("invalid",t),$u(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":ge("invalid",t);break;case"textarea":ge("invalid",t),Fu(t,a.value,a.defaultValue,a.children)}l=a.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||t.textContent===""+l||a.suppressHydrationWarning===!0||ef(t.textContent,l)?(a.popover!=null&&(ge("beforetoggle",t),ge("toggle",t)),a.onScroll!=null&&ge("scroll",t),a.onScrollEnd!=null&&ge("scrollend",t),a.onClick!=null&&(t.onclick=Jt),t=!0):t=!1,t||xl(e,!0)}function Ho(e){for(lt=e.return;lt;)switch(lt.tag){case 5:case 31:case 13:Dt=!1;return;case 27:case 3:Dt=!0;return;default:lt=lt.return}}function va(e){if(e!==lt)return!1;if(!Te)return Ho(e),Te=!0,!1;var t=e.tag,l;if((l=t!==3&&t!==27)&&((l=t===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||ou(e.type,e.memoizedProps)),l=!l),l&&He&&xl(e),Ho(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(f(317));He=rf(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(f(317));He=rf(e)}else t===27?(t=He,Rl(e.type)?(e=hu,hu=null,He=e):He=t):He=lt?Bt(e.stateNode.nextSibling):null;return!0}function Xl(){He=lt=null,Te=!1}function Vs(){var e=yl;return e!==null&&(yt===null?yt=e:yt.push.apply(yt,e),yl=null),e}function un(e){yl===null?yl=[e]:yl.push(e)}var Ks=o(null),Zl=null,It=null;function gl(e,t,l){b(Ks,t._currentValue),t._currentValue=l}function Pt(e){e._currentValue=Ks.current,d(Ks)}function Js(e,t,l){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===l)break;e=e.return}}function $s(e,t,l,a){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var i=n.dependencies;if(i!==null){var c=n.child;i=i.firstContext;e:for(;i!==null;){var u=i;i=n;for(var h=0;h<t.length;h++)if(u.context===t[h]){i.lanes|=l,u=i.alternate,u!==null&&(u.lanes|=l),Js(i.return,l,e),a||(c=null);break e}i=u.next}}else if(n.tag===18){if(c=n.return,c===null)throw Error(f(341));c.lanes|=l,i=c.alternate,i!==null&&(i.lanes|=l),Js(c,l,e),c=null}else c=n.child;if(c!==null)c.return=n;else for(c=n;c!==null;){if(c===e){c=null;break}if(n=c.sibling,n!==null){n.return=c.return,c=n;break}c=c.return}n=c}}function ba(e,t,l,a){e=null;for(var n=t,i=!1;n!==null;){if(!i){if((n.flags&524288)!==0)i=!0;else if((n.flags&262144)!==0)break}if(n.tag===10){var c=n.alternate;if(c===null)throw Error(f(387));if(c=c.memoizedProps,c!==null){var u=n.type;vt(n.pendingProps.value,c.value)||(e!==null?e.push(u):e=[u])}}else if(n===ce.current){if(c=n.alternate,c===null)throw Error(f(387));c.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(Bn):e=[Bn])}n=n.return}e!==null&&$s(t,e,l,a),t.flags|=262144}function fi(e){for(e=e.firstContext;e!==null;){if(!vt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Vl(e){Zl=e,It=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function at(e){return qo(Zl,e)}function pi(e,t){return Zl===null&&Vl(e),qo(e,t)}function qo(e,t){var l=t._currentValue;if(t={context:t,memoizedValue:l,next:null},It===null){if(e===null)throw Error(f(308));It=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else It=It.next=t;return l}var fh=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(l,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(l){return l()})}},ph=r.unstable_scheduleCallback,hh=r.unstable_NormalPriority,Ve={$$typeof:ae,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ws(){return{controller:new fh,data:new Map,refCount:0}}function on(e){e.refCount--,e.refCount===0&&ph(hh,function(){e.controller.abort()})}var rn=null,Fs=0,Sa=0,ja=null;function mh(e,t){if(rn===null){var l=rn=[];Fs=0,Sa=eu(),ja={status:"pending",value:void 0,then:function(a){l.push(a)}}}return Fs++,t.then(Yo,Yo),t}function Yo(){if(--Fs===0&&rn!==null){ja!==null&&(ja.status="fulfilled");var e=rn;rn=null,Sa=0,ja=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function yh(e,t){var l=[],a={status:"pending",value:null,reason:null,then:function(n){l.push(n)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var n=0;n<l.length;n++)(0,l[n])(t)},function(n){for(a.status="rejected",a.reason=n,n=0;n<l.length;n++)(0,l[n])(void 0)}),a}var Go=M.S;M.S=function(e,t){Td=ot(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&mh(e,t),Go!==null&&Go(e,t)};var Kl=o(null);function Is(){var e=Kl.current;return e!==null?e:Ue.pooledCache}function hi(e,t){t===null?b(Kl,Kl.current):b(Kl,t.pool)}function Lo(){var e=Is();return e===null?null:{parent:Ve._currentValue,pool:e}}var za=Error(f(460)),Ps=Error(f(474)),mi=Error(f(542)),yi={then:function(){}};function Qo(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Xo(e,t,l){switch(l=e[l],l===void 0?e.push(t):l!==t&&(t.then(Jt,Jt),t=l),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Vo(e),e;default:if(typeof t.status=="string")t.then(Jt,Jt);else{if(e=Ue,e!==null&&100<e.shellSuspendCounter)throw Error(f(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=a}},function(a){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Vo(e),e}throw $l=t,za}}function Jl(e){try{var t=e._init;return t(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?($l=l,za):l}}var $l=null;function Zo(){if($l===null)throw Error(f(459));var e=$l;return $l=null,e}function Vo(e){if(e===za||e===mi)throw Error(f(483))}var Ta=null,dn=0;function xi(e){var t=dn;return dn+=1,Ta===null&&(Ta=[]),Xo(Ta,e,t)}function fn(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function gi(e,t){throw t.$$typeof===J?Error(f(525)):(e=Object.prototype.toString.call(t),Error(f(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Ko(e){function t(g,m){if(e){var S=g.deletions;S===null?(g.deletions=[m],g.flags|=16):S.push(m)}}function l(g,m){if(!e)return null;for(;m!==null;)t(g,m),m=m.sibling;return null}function a(g){for(var m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function n(g,m){return g=Wt(g,m),g.index=0,g.sibling=null,g}function i(g,m,S){return g.index=S,e?(S=g.alternate,S!==null?(S=S.index,S<m?(g.flags|=67108866,m):S):(g.flags|=67108866,m)):(g.flags|=1048576,m)}function c(g){return e&&g.alternate===null&&(g.flags|=67108866),g}function u(g,m,S,O){return m===null||m.tag!==6?(m=Gs(S,g.mode,O),m.return=g,m):(m=n(m,S),m.return=g,m)}function h(g,m,S,O){var ie=S.type;return ie===Q?N(g,m,S.props.children,O,S.key):m!==null&&(m.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===Se&&Jl(ie)===m.type)?(m=n(m,S.props),fn(m,S),m.return=g,m):(m=ri(S.type,S.key,S.props,null,g.mode,O),fn(m,S),m.return=g,m)}function j(g,m,S,O){return m===null||m.tag!==4||m.stateNode.containerInfo!==S.containerInfo||m.stateNode.implementation!==S.implementation?(m=Ls(S,g.mode,O),m.return=g,m):(m=n(m,S.children||[]),m.return=g,m)}function N(g,m,S,O,ie){return m===null||m.tag!==7?(m=Ql(S,g.mode,O,ie),m.return=g,m):(m=n(m,S),m.return=g,m)}function k(g,m,S){if(typeof m=="string"&&m!==""||typeof m=="number"||typeof m=="bigint")return m=Gs(""+m,g.mode,S),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case q:return S=ri(m.type,m.key,m.props,null,g.mode,S),fn(S,m),S.return=g,S;case D:return m=Ls(m,g.mode,S),m.return=g,m;case Se:return m=Jl(m),k(g,m,S)}if(Oe(m)||me(m))return m=Ql(m,g.mode,S,null),m.return=g,m;if(typeof m.then=="function")return k(g,xi(m),S);if(m.$$typeof===ae)return k(g,pi(g,m),S);gi(g,m)}return null}function T(g,m,S,O){var ie=m!==null?m.key:null;if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return ie!==null?null:u(g,m,""+S,O);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case q:return S.key===ie?h(g,m,S,O):null;case D:return S.key===ie?j(g,m,S,O):null;case Se:return S=Jl(S),T(g,m,S,O)}if(Oe(S)||me(S))return ie!==null?null:N(g,m,S,O,null);if(typeof S.then=="function")return T(g,m,xi(S),O);if(S.$$typeof===ae)return T(g,m,pi(g,S),O);gi(g,S)}return null}function E(g,m,S,O,ie){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return g=g.get(S)||null,u(m,g,""+O,ie);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case q:return g=g.get(O.key===null?S:O.key)||null,h(m,g,O,ie);case D:return g=g.get(O.key===null?S:O.key)||null,j(m,g,O,ie);case Se:return O=Jl(O),E(g,m,S,O,ie)}if(Oe(O)||me(O))return g=g.get(S)||null,N(m,g,O,ie,null);if(typeof O.then=="function")return E(g,m,S,xi(O),ie);if(O.$$typeof===ae)return E(g,m,S,pi(m,O),ie);gi(m,O)}return null}function P(g,m,S,O){for(var ie=null,_e=null,te=m,pe=m=0,be=null;te!==null&&pe<S.length;pe++){te.index>pe?(be=te,te=null):be=te.sibling;var Ee=T(g,te,S[pe],O);if(Ee===null){te===null&&(te=be);break}e&&te&&Ee.alternate===null&&t(g,te),m=i(Ee,m,pe),_e===null?ie=Ee:_e.sibling=Ee,_e=Ee,te=be}if(pe===S.length)return l(g,te),Te&&Ft(g,pe),ie;if(te===null){for(;pe<S.length;pe++)te=k(g,S[pe],O),te!==null&&(m=i(te,m,pe),_e===null?ie=te:_e.sibling=te,_e=te);return Te&&Ft(g,pe),ie}for(te=a(te);pe<S.length;pe++)be=E(te,g,pe,S[pe],O),be!==null&&(e&&be.alternate!==null&&te.delete(be.key===null?pe:be.key),m=i(be,m,pe),_e===null?ie=be:_e.sibling=be,_e=be);return e&&te.forEach(function(wl){return t(g,wl)}),Te&&Ft(g,pe),ie}function oe(g,m,S,O){if(S==null)throw Error(f(151));for(var ie=null,_e=null,te=m,pe=m=0,be=null,Ee=S.next();te!==null&&!Ee.done;pe++,Ee=S.next()){te.index>pe?(be=te,te=null):be=te.sibling;var wl=T(g,te,Ee.value,O);if(wl===null){te===null&&(te=be);break}e&&te&&wl.alternate===null&&t(g,te),m=i(wl,m,pe),_e===null?ie=wl:_e.sibling=wl,_e=wl,te=be}if(Ee.done)return l(g,te),Te&&Ft(g,pe),ie;if(te===null){for(;!Ee.done;pe++,Ee=S.next())Ee=k(g,Ee.value,O),Ee!==null&&(m=i(Ee,m,pe),_e===null?ie=Ee:_e.sibling=Ee,_e=Ee);return Te&&Ft(g,pe),ie}for(te=a(te);!Ee.done;pe++,Ee=S.next())Ee=E(te,g,pe,Ee.value,O),Ee!==null&&(e&&Ee.alternate!==null&&te.delete(Ee.key===null?pe:Ee.key),m=i(Ee,m,pe),_e===null?ie=Ee:_e.sibling=Ee,_e=Ee);return e&&te.forEach(function(Em){return t(g,Em)}),Te&&Ft(g,pe),ie}function we(g,m,S,O){if(typeof S=="object"&&S!==null&&S.type===Q&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case q:e:{for(var ie=S.key;m!==null;){if(m.key===ie){if(ie=S.type,ie===Q){if(m.tag===7){l(g,m.sibling),O=n(m,S.props.children),O.return=g,g=O;break e}}else if(m.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===Se&&Jl(ie)===m.type){l(g,m.sibling),O=n(m,S.props),fn(O,S),O.return=g,g=O;break e}l(g,m);break}else t(g,m);m=m.sibling}S.type===Q?(O=Ql(S.props.children,g.mode,O,S.key),O.return=g,g=O):(O=ri(S.type,S.key,S.props,null,g.mode,O),fn(O,S),O.return=g,g=O)}return c(g);case D:e:{for(ie=S.key;m!==null;){if(m.key===ie)if(m.tag===4&&m.stateNode.containerInfo===S.containerInfo&&m.stateNode.implementation===S.implementation){l(g,m.sibling),O=n(m,S.children||[]),O.return=g,g=O;break e}else{l(g,m);break}else t(g,m);m=m.sibling}O=Ls(S,g.mode,O),O.return=g,g=O}return c(g);case Se:return S=Jl(S),we(g,m,S,O)}if(Oe(S))return P(g,m,S,O);if(me(S)){if(ie=me(S),typeof ie!="function")throw Error(f(150));return S=ie.call(S),oe(g,m,S,O)}if(typeof S.then=="function")return we(g,m,xi(S),O);if(S.$$typeof===ae)return we(g,m,pi(g,S),O);gi(g,S)}return typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint"?(S=""+S,m!==null&&m.tag===6?(l(g,m.sibling),O=n(m,S),O.return=g,g=O):(l(g,m),O=Gs(S,g.mode,O),O.return=g,g=O),c(g)):l(g,m)}return function(g,m,S,O){try{dn=0;var ie=we(g,m,S,O);return Ta=null,ie}catch(te){if(te===za||te===mi)throw te;var _e=bt(29,te,null,g.mode);return _e.lanes=O,_e.return=g,_e}finally{}}}var Wl=Ko(!0),Jo=Ko(!1),vl=!1;function ec(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function bl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Sl(e,t,l){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(Ae&2)!==0){var n=a.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),a.pending=t,t=oi(e),Ro(e,null,l),t}return ui(e,a,t,l),oi(e)}function pn(e,t,l){if(t=t.updateQueue,t!==null&&(t=t.shared,(l&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,Hu(e,l)}}function lc(e,t){var l=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,l===a)){var n=null,i=null;if(l=l.firstBaseUpdate,l!==null){do{var c={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};i===null?n=i=c:i=i.next=c,l=l.next}while(l!==null);i===null?n=i=t:i=i.next=t}else n=i=t;l={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:a.shared,callbacks:a.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=t:e.next=t,l.lastBaseUpdate=t}var ac=!1;function hn(){if(ac){var e=ja;if(e!==null)throw e}}function mn(e,t,l,a){ac=!1;var n=e.updateQueue;vl=!1;var i=n.firstBaseUpdate,c=n.lastBaseUpdate,u=n.shared.pending;if(u!==null){n.shared.pending=null;var h=u,j=h.next;h.next=null,c===null?i=j:c.next=j,c=h;var N=e.alternate;N!==null&&(N=N.updateQueue,u=N.lastBaseUpdate,u!==c&&(u===null?N.firstBaseUpdate=j:u.next=j,N.lastBaseUpdate=h))}if(i!==null){var k=n.baseState;c=0,N=j=h=null,u=i;do{var T=u.lane&-536870913,E=T!==u.lane;if(E?(ve&T)===T:(a&T)===T){T!==0&&T===Sa&&(ac=!0),N!==null&&(N=N.next={lane:0,tag:u.tag,payload:u.payload,callback:null,next:null});e:{var P=e,oe=u;T=t;var we=l;switch(oe.tag){case 1:if(P=oe.payload,typeof P=="function"){k=P.call(we,k,T);break e}k=P;break e;case 3:P.flags=P.flags&-65537|128;case 0:if(P=oe.payload,T=typeof P=="function"?P.call(we,k,T):P,T==null)break e;k=U({},k,T);break e;case 2:vl=!0}}T=u.callback,T!==null&&(e.flags|=64,E&&(e.flags|=8192),E=n.callbacks,E===null?n.callbacks=[T]:E.push(T))}else E={lane:T,tag:u.tag,payload:u.payload,callback:u.callback,next:null},N===null?(j=N=E,h=k):N=N.next=E,c|=T;if(u=u.next,u===null){if(u=n.shared.pending,u===null)break;E=u,u=E.next,E.next=null,n.lastBaseUpdate=E,n.shared.pending=null}}while(!0);N===null&&(h=k),n.baseState=h,n.firstBaseUpdate=j,n.lastBaseUpdate=N,i===null&&(n.shared.lanes=0),_l|=c,e.lanes=c,e.memoizedState=k}}function $o(e,t){if(typeof e!="function")throw Error(f(191,e));e.call(t)}function Wo(e,t){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)$o(l[e],t)}var Ca=o(null),vi=o(0);function Fo(e,t){e=ul,b(vi,e),b(Ca,t),ul=e|t.baseLanes}function nc(){b(vi,ul),b(Ca,Ca.current)}function ic(){ul=vi.current,d(Ca),d(vi)}var St=o(null),kt=null;function jl(e){var t=e.alternate;b(Xe,Xe.current&1),b(St,e),kt===null&&(t===null||Ca.current!==null||t.memoizedState!==null)&&(kt=e)}function sc(e){b(Xe,Xe.current),b(St,e),kt===null&&(kt=e)}function Io(e){e.tag===22?(b(Xe,Xe.current),b(St,e),kt===null&&(kt=e)):zl()}function zl(){b(Xe,Xe.current),b(St,St.current)}function jt(e){d(St),kt===e&&(kt=null),d(Xe)}var Xe=o(0);function bi(e){for(var t=e;t!==null;){if(t.tag===13){var l=t.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||fu(l)||pu(l)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var el=0,fe=null,ke=null,Ke=null,Si=!1,_a=!1,Fl=!1,ji=0,yn=0,Ea=null,xh=0;function Le(){throw Error(f(321))}function cc(e,t){if(t===null)return!1;for(var l=0;l<t.length&&l<e.length;l++)if(!vt(e[l],t[l]))return!1;return!0}function uc(e,t,l,a,n,i){return el=i,fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=e===null||e.memoizedState===null?Br:zc,Fl=!1,i=l(a,n),Fl=!1,_a&&(i=er(t,l,a,n)),Po(e),i}function Po(e){M.H=vn;var t=ke!==null&&ke.next!==null;if(el=0,Ke=ke=fe=null,Si=!1,yn=0,Ea=null,t)throw Error(f(300));e===null||Je||(e=e.dependencies,e!==null&&fi(e)&&(Je=!0))}function er(e,t,l,a){fe=e;var n=0;do{if(_a&&(Ea=null),yn=0,_a=!1,25<=n)throw Error(f(301));if(n+=1,Ke=ke=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}M.H=wr,i=t(l,a)}while(_a);return i}function gh(){var e=M.H,t=e.useState()[0];return t=typeof t.then=="function"?xn(t):t,e=e.useState()[0],(ke!==null?ke.memoizedState:null)!==e&&(fe.flags|=1024),t}function oc(){var e=ji!==0;return ji=0,e}function rc(e,t,l){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l}function dc(e){if(Si){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Si=!1}el=0,Ke=ke=fe=null,_a=!1,yn=ji=0,Ea=null}function rt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?fe.memoizedState=Ke=e:Ke=Ke.next=e,Ke}function Ze(){if(ke===null){var e=fe.alternate;e=e!==null?e.memoizedState:null}else e=ke.next;var t=Ke===null?fe.memoizedState:Ke.next;if(t!==null)Ke=t,ke=e;else{if(e===null)throw fe.alternate===null?Error(f(467)):Error(f(310));ke=e,e={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},Ke===null?fe.memoizedState=Ke=e:Ke=Ke.next=e}return Ke}function zi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xn(e){var t=yn;return yn+=1,Ea===null&&(Ea=[]),e=Xo(Ea,e,t),t=fe,(Ke===null?t.memoizedState:Ke.next)===null&&(t=t.alternate,M.H=t===null||t.memoizedState===null?Br:zc),e}function Ti(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return xn(e);if(e.$$typeof===ae)return at(e)}throw Error(f(438,String(e)))}function fc(e){var t=null,l=fe.updateQueue;if(l!==null&&(t=l.memoCache),t==null){var a=fe.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),l===null&&(l=zi(),fe.updateQueue=l),l.memoCache=t,l=t.data[t.index],l===void 0)for(l=t.data[t.index]=Array(e),a=0;a<e;a++)l[a]=ue;return t.index++,l}function tl(e,t){return typeof t=="function"?t(e):t}function Ci(e){var t=Ze();return pc(t,ke,e)}function pc(e,t,l){var a=e.queue;if(a===null)throw Error(f(311));a.lastRenderedReducer=l;var n=e.baseQueue,i=a.pending;if(i!==null){if(n!==null){var c=n.next;n.next=i.next,i.next=c}t.baseQueue=n=i,a.pending=null}if(i=e.baseState,n===null)e.memoizedState=i;else{t=n.next;var u=c=null,h=null,j=t,N=!1;do{var k=j.lane&-536870913;if(k!==j.lane?(ve&k)===k:(el&k)===k){var T=j.revertLane;if(T===0)h!==null&&(h=h.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),k===Sa&&(N=!0);else if((el&T)===T){j=j.next,T===Sa&&(N=!0);continue}else k={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},h===null?(u=h=k,c=i):h=h.next=k,fe.lanes|=T,_l|=T;k=j.action,Fl&&l(i,k),i=j.hasEagerState?j.eagerState:l(i,k)}else T={lane:k,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},h===null?(u=h=T,c=i):h=h.next=T,fe.lanes|=k,_l|=k;j=j.next}while(j!==null&&j!==t);if(h===null?c=i:h.next=u,!vt(i,e.memoizedState)&&(Je=!0,N&&(l=ja,l!==null)))throw l;e.memoizedState=i,e.baseState=c,e.baseQueue=h,a.lastRenderedState=i}return n===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function hc(e){var t=Ze(),l=t.queue;if(l===null)throw Error(f(311));l.lastRenderedReducer=e;var a=l.dispatch,n=l.pending,i=t.memoizedState;if(n!==null){l.pending=null;var c=n=n.next;do i=e(i,c.action),c=c.next;while(c!==n);vt(i,t.memoizedState)||(Je=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),l.lastRenderedState=i}return[i,a]}function tr(e,t,l){var a=fe,n=Ze(),i=Te;if(i){if(l===void 0)throw Error(f(407));l=l()}else l=t();var c=!vt((ke||n).memoizedState,l);if(c&&(n.memoizedState=l,Je=!0),n=n.queue,xc(nr.bind(null,a,n,e),[e]),n.getSnapshot!==t||c||Ke!==null&&Ke.memoizedState.tag&1){if(a.flags|=2048,Aa(9,{destroy:void 0},ar.bind(null,a,n,l,t),null),Ue===null)throw Error(f(349));i||(el&127)!==0||lr(a,t,l)}return l}function lr(e,t,l){e.flags|=16384,e={getSnapshot:t,value:l},t=fe.updateQueue,t===null?(t=zi(),fe.updateQueue=t,t.stores=[e]):(l=t.stores,l===null?t.stores=[e]:l.push(e))}function ar(e,t,l,a){t.value=l,t.getSnapshot=a,ir(t)&&sr(e)}function nr(e,t,l){return l(function(){ir(t)&&sr(e)})}function ir(e){var t=e.getSnapshot;e=e.value;try{var l=t();return!vt(e,l)}catch{return!0}}function sr(e){var t=Ll(e,2);t!==null&&xt(t,e,2)}function mc(e){var t=rt();if(typeof e=="function"){var l=e;if(e=l(),Fl){fl(!0);try{l()}finally{fl(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tl,lastRenderedState:e},t}function cr(e,t,l,a){return e.baseState=l,pc(e,ke,typeof a=="function"?a:tl)}function vh(e,t,l,a,n){if(Ai(e))throw Error(f(485));if(e=t.action,e!==null){var i={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(c){i.listeners.push(c)}};M.T!==null?l(!0):i.isTransition=!1,a(i),l=t.pending,l===null?(i.next=t.pending=i,ur(t,i)):(i.next=l.next,t.pending=l.next=i)}}function ur(e,t){var l=t.action,a=t.payload,n=e.state;if(t.isTransition){var i=M.T,c={};M.T=c;try{var u=l(n,a),h=M.S;h!==null&&h(c,u),or(e,t,u)}catch(j){yc(e,t,j)}finally{i!==null&&c.types!==null&&(i.types=c.types),M.T=i}}else try{i=l(n,a),or(e,t,i)}catch(j){yc(e,t,j)}}function or(e,t,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(a){rr(e,t,a)},function(a){return yc(e,t,a)}):rr(e,t,l)}function rr(e,t,l){t.status="fulfilled",t.value=l,dr(t),e.state=l,t=e.pending,t!==null&&(l=t.next,l===t?e.pending=null:(l=l.next,t.next=l,ur(e,l)))}function yc(e,t,l){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=l,dr(t),t=t.next;while(t!==a)}e.action=null}function dr(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function fr(e,t){return t}function pr(e,t){if(Te){var l=Ue.formState;if(l!==null){e:{var a=fe;if(Te){if(He){t:{for(var n=He,i=Dt;n.nodeType!==8;){if(!i){n=null;break t}if(n=Bt(n.nextSibling),n===null){n=null;break t}}i=n.data,n=i==="F!"||i==="F"?n:null}if(n){He=Bt(n.nextSibling),a=n.data==="F!";break e}}xl(a)}a=!1}a&&(t=l[0])}}return l=rt(),l.memoizedState=l.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fr,lastRenderedState:t},l.queue=a,l=Or.bind(null,fe,a),a.dispatch=l,a=mc(!1),i=jc.bind(null,fe,!1,a.queue),a=rt(),n={state:t,dispatch:null,action:e,pending:null},a.queue=n,l=vh.bind(null,fe,n,i,l),n.dispatch=l,a.memoizedState=e,[t,l,!1]}function hr(e){var t=Ze();return mr(t,ke,e)}function mr(e,t,l){if(t=pc(e,t,fr)[0],e=Ci(tl)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=xn(t)}catch(c){throw c===za?mi:c}else a=t;t=Ze();var n=t.queue,i=n.dispatch;return l!==t.memoizedState&&(fe.flags|=2048,Aa(9,{destroy:void 0},bh.bind(null,n,l),null)),[a,i,e]}function bh(e,t){e.action=t}function yr(e){var t=Ze(),l=ke;if(l!==null)return mr(t,l,e);Ze(),t=t.memoizedState,l=Ze();var a=l.queue.dispatch;return l.memoizedState=e,[t,a,!1]}function Aa(e,t,l,a){return e={tag:e,create:l,deps:a,inst:t,next:null},t=fe.updateQueue,t===null&&(t=zi(),fe.updateQueue=t),l=t.lastEffect,l===null?t.lastEffect=e.next=e:(a=l.next,l.next=e,e.next=a,t.lastEffect=e),e}function xr(){return Ze().memoizedState}function _i(e,t,l,a){var n=rt();fe.flags|=e,n.memoizedState=Aa(1|t,{destroy:void 0},l,a===void 0?null:a)}function Ei(e,t,l,a){var n=Ze();a=a===void 0?null:a;var i=n.memoizedState.inst;ke!==null&&a!==null&&cc(a,ke.memoizedState.deps)?n.memoizedState=Aa(t,i,l,a):(fe.flags|=e,n.memoizedState=Aa(1|t,i,l,a))}function gr(e,t){_i(8390656,8,e,t)}function xc(e,t){Ei(2048,8,e,t)}function Sh(e){fe.flags|=4;var t=fe.updateQueue;if(t===null)t=zi(),fe.updateQueue=t,t.events=[e];else{var l=t.events;l===null?t.events=[e]:l.push(e)}}function vr(e){var t=Ze().memoizedState;return Sh({ref:t,nextImpl:e}),function(){if((Ae&2)!==0)throw Error(f(440));return t.impl.apply(void 0,arguments)}}function br(e,t){return Ei(4,2,e,t)}function Sr(e,t){return Ei(4,4,e,t)}function jr(e,t){if(typeof t=="function"){e=e();var l=t(e);return function(){typeof l=="function"?l():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function zr(e,t,l){l=l!=null?l.concat([e]):null,Ei(4,4,jr.bind(null,t,e),l)}function gc(){}function Tr(e,t){var l=Ze();t=t===void 0?null:t;var a=l.memoizedState;return t!==null&&cc(t,a[1])?a[0]:(l.memoizedState=[e,t],e)}function Cr(e,t){var l=Ze();t=t===void 0?null:t;var a=l.memoizedState;if(t!==null&&cc(t,a[1]))return a[0];if(a=e(),Fl){fl(!0);try{e()}finally{fl(!1)}}return l.memoizedState=[a,t],a}function vc(e,t,l){return l===void 0||(el&1073741824)!==0&&(ve&261930)===0?e.memoizedState=t:(e.memoizedState=l,e=_d(),fe.lanes|=e,_l|=e,l)}function _r(e,t,l,a){return vt(l,t)?l:Ca.current!==null?(e=vc(e,l,a),vt(e,t)||(Je=!0),e):(el&42)===0||(el&1073741824)!==0&&(ve&261930)===0?(Je=!0,e.memoizedState=l):(e=_d(),fe.lanes|=e,_l|=e,t)}function Er(e,t,l,a,n){var i=X.p;X.p=i!==0&&8>i?i:8;var c=M.T,u={};M.T=u,jc(e,!1,t,l);try{var h=n(),j=M.S;if(j!==null&&j(u,h),h!==null&&typeof h=="object"&&typeof h.then=="function"){var N=yh(h,a);gn(e,t,N,Ct(e))}else gn(e,t,a,Ct(e))}catch(k){gn(e,t,{then:function(){},status:"rejected",reason:k},Ct())}finally{X.p=i,c!==null&&u.types!==null&&(c.types=u.types),M.T=c}}function jh(){}function bc(e,t,l,a){if(e.tag!==5)throw Error(f(476));var n=Ar(e).queue;Er(e,n,t,ne,l===null?jh:function(){return Mr(e),l(a)})}function Ar(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tl,lastRenderedState:ne},next:null};var l={};return t.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tl,lastRenderedState:l},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Mr(e){var t=Ar(e);t.next===null&&(t=e.alternate.memoizedState),gn(e,t.next.queue,{},Ct())}function Sc(){return at(Bn)}function Nr(){return Ze().memoizedState}function Rr(){return Ze().memoizedState}function zh(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var l=Ct();e=bl(l);var a=Sl(t,e,l);a!==null&&(xt(a,t,l),pn(a,t,l)),t={cache:Ws()},e.payload=t;return}t=t.return}}function Th(e,t,l){var a=Ct();l={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ai(e)?Dr(t,l):(l=qs(e,t,l,a),l!==null&&(xt(l,e,a),kr(l,t,a)))}function Or(e,t,l){var a=Ct();gn(e,t,l,a)}function gn(e,t,l,a){var n={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ai(e))Dr(t,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var c=t.lastRenderedState,u=i(c,l);if(n.hasEagerState=!0,n.eagerState=u,vt(u,c))return ui(e,t,n,0),Ue===null&&ci(),!1}catch{}finally{}if(l=qs(e,t,n,a),l!==null)return xt(l,e,a),kr(l,t,a),!0}return!1}function jc(e,t,l,a){if(a={lane:2,revertLane:eu(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ai(e)){if(t)throw Error(f(479))}else t=qs(e,l,a,2),t!==null&&xt(t,e,2)}function Ai(e){var t=e.alternate;return e===fe||t!==null&&t===fe}function Dr(e,t){_a=Si=!0;var l=e.pending;l===null?t.next=t:(t.next=l.next,l.next=t),e.pending=t}function kr(e,t,l){if((l&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,Hu(e,l)}}var vn={readContext:at,use:Ti,useCallback:Le,useContext:Le,useEffect:Le,useImperativeHandle:Le,useLayoutEffect:Le,useInsertionEffect:Le,useMemo:Le,useReducer:Le,useRef:Le,useState:Le,useDebugValue:Le,useDeferredValue:Le,useTransition:Le,useSyncExternalStore:Le,useId:Le,useHostTransitionStatus:Le,useFormState:Le,useActionState:Le,useOptimistic:Le,useMemoCache:Le,useCacheRefresh:Le};vn.useEffectEvent=Le;var Br={readContext:at,use:Ti,useCallback:function(e,t){return rt().memoizedState=[e,t===void 0?null:t],e},useContext:at,useEffect:gr,useImperativeHandle:function(e,t,l){l=l!=null?l.concat([e]):null,_i(4194308,4,jr.bind(null,t,e),l)},useLayoutEffect:function(e,t){return _i(4194308,4,e,t)},useInsertionEffect:function(e,t){_i(4,2,e,t)},useMemo:function(e,t){var l=rt();t=t===void 0?null:t;var a=e();if(Fl){fl(!0);try{e()}finally{fl(!1)}}return l.memoizedState=[a,t],a},useReducer:function(e,t,l){var a=rt();if(l!==void 0){var n=l(t);if(Fl){fl(!0);try{l(t)}finally{fl(!1)}}}else n=t;return a.memoizedState=a.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},a.queue=e,e=e.dispatch=Th.bind(null,fe,e),[a.memoizedState,e]},useRef:function(e){var t=rt();return e={current:e},t.memoizedState=e},useState:function(e){e=mc(e);var t=e.queue,l=Or.bind(null,fe,t);return t.dispatch=l,[e.memoizedState,l]},useDebugValue:gc,useDeferredValue:function(e,t){var l=rt();return vc(l,e,t)},useTransition:function(){var e=mc(!1);return e=Er.bind(null,fe,e.queue,!0,!1),rt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,l){var a=fe,n=rt();if(Te){if(l===void 0)throw Error(f(407));l=l()}else{if(l=t(),Ue===null)throw Error(f(349));(ve&127)!==0||lr(a,t,l)}n.memoizedState=l;var i={value:l,getSnapshot:t};return n.queue=i,gr(nr.bind(null,a,i,e),[e]),a.flags|=2048,Aa(9,{destroy:void 0},ar.bind(null,a,i,l,t),null),l},useId:function(){var e=rt(),t=Ue.identifierPrefix;if(Te){var l=Xt,a=Qt;l=(a&~(1<<32-gt(a)-1)).toString(32)+l,t="_"+t+"R_"+l,l=ji++,0<l&&(t+="H"+l.toString(32)),t+="_"}else l=xh++,t="_"+t+"r_"+l.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Sc,useFormState:pr,useActionState:pr,useOptimistic:function(e){var t=rt();t.memoizedState=t.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=l,t=jc.bind(null,fe,!0,l),l.dispatch=t,[e,t]},useMemoCache:fc,useCacheRefresh:function(){return rt().memoizedState=zh.bind(null,fe)},useEffectEvent:function(e){var t=rt(),l={impl:e};return t.memoizedState=l,function(){if((Ae&2)!==0)throw Error(f(440));return l.impl.apply(void 0,arguments)}}},zc={readContext:at,use:Ti,useCallback:Tr,useContext:at,useEffect:xc,useImperativeHandle:zr,useInsertionEffect:br,useLayoutEffect:Sr,useMemo:Cr,useReducer:Ci,useRef:xr,useState:function(){return Ci(tl)},useDebugValue:gc,useDeferredValue:function(e,t){var l=Ze();return _r(l,ke.memoizedState,e,t)},useTransition:function(){var e=Ci(tl)[0],t=Ze().memoizedState;return[typeof e=="boolean"?e:xn(e),t]},useSyncExternalStore:tr,useId:Nr,useHostTransitionStatus:Sc,useFormState:hr,useActionState:hr,useOptimistic:function(e,t){var l=Ze();return cr(l,ke,e,t)},useMemoCache:fc,useCacheRefresh:Rr};zc.useEffectEvent=vr;var wr={readContext:at,use:Ti,useCallback:Tr,useContext:at,useEffect:xc,useImperativeHandle:zr,useInsertionEffect:br,useLayoutEffect:Sr,useMemo:Cr,useReducer:hc,useRef:xr,useState:function(){return hc(tl)},useDebugValue:gc,useDeferredValue:function(e,t){var l=Ze();return ke===null?vc(l,e,t):_r(l,ke.memoizedState,e,t)},useTransition:function(){var e=hc(tl)[0],t=Ze().memoizedState;return[typeof e=="boolean"?e:xn(e),t]},useSyncExternalStore:tr,useId:Nr,useHostTransitionStatus:Sc,useFormState:yr,useActionState:yr,useOptimistic:function(e,t){var l=Ze();return ke!==null?cr(l,ke,e,t):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:fc,useCacheRefresh:Rr};wr.useEffectEvent=vr;function Tc(e,t,l,a){t=e.memoizedState,l=l(a,t),l=l==null?t:U({},t,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var Cc={enqueueSetState:function(e,t,l){e=e._reactInternals;var a=Ct(),n=bl(a);n.payload=t,l!=null&&(n.callback=l),t=Sl(e,n,a),t!==null&&(xt(t,e,a),pn(t,e,a))},enqueueReplaceState:function(e,t,l){e=e._reactInternals;var a=Ct(),n=bl(a);n.tag=1,n.payload=t,l!=null&&(n.callback=l),t=Sl(e,n,a),t!==null&&(xt(t,e,a),pn(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var l=Ct(),a=bl(l);a.tag=2,t!=null&&(a.callback=t),t=Sl(e,a,l),t!==null&&(xt(t,e,l),pn(t,e,l))}};function Ur(e,t,l,a,n,i,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,c):t.prototype&&t.prototype.isPureReactComponent?!nn(l,a)||!nn(n,i):!0}function Hr(e,t,l,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(l,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(l,a),t.state!==e&&Cc.enqueueReplaceState(t,t.state,null)}function Il(e,t){var l=t;if("ref"in t){l={};for(var a in t)a!=="ref"&&(l[a]=t[a])}if(e=e.defaultProps){l===t&&(l=U({},l));for(var n in e)l[n]===void 0&&(l[n]=e[n])}return l}function qr(e){si(e)}function Yr(e){console.error(e)}function Gr(e){si(e)}function Mi(e,t){try{var l=e.onUncaughtError;l(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function Lr(e,t,l){try{var a=e.onCaughtError;a(l.value,{componentStack:l.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function _c(e,t,l){return l=bl(l),l.tag=3,l.payload={element:null},l.callback=function(){Mi(e,t)},l}function Qr(e){return e=bl(e),e.tag=3,e}function Xr(e,t,l,a){var n=l.type.getDerivedStateFromError;if(typeof n=="function"){var i=a.value;e.payload=function(){return n(i)},e.callback=function(){Lr(t,l,a)}}var c=l.stateNode;c!==null&&typeof c.componentDidCatch=="function"&&(e.callback=function(){Lr(t,l,a),typeof n!="function"&&(El===null?El=new Set([this]):El.add(this));var u=a.stack;this.componentDidCatch(a.value,{componentStack:u!==null?u:""})})}function Ch(e,t,l,a,n){if(l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=l.alternate,t!==null&&ba(t,l,n,!0),l=St.current,l!==null){switch(l.tag){case 31:case 13:return kt===null?Gi():l.alternate===null&&Qe===0&&(Qe=3),l.flags&=-257,l.flags|=65536,l.lanes=n,a===yi?l.flags|=16384:(t=l.updateQueue,t===null?l.updateQueue=new Set([a]):t.add(a),Fc(e,a,n)),!1;case 22:return l.flags|=65536,a===yi?l.flags|=16384:(t=l.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},l.updateQueue=t):(l=t.retryQueue,l===null?t.retryQueue=new Set([a]):l.add(a)),Fc(e,a,n)),!1}throw Error(f(435,l.tag))}return Fc(e,a,n),Gi(),!1}if(Te)return t=St.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=n,a!==Zs&&(e=Error(f(422),{cause:a}),un(Nt(e,l)))):(a!==Zs&&(t=Error(f(423),{cause:a}),un(Nt(t,l))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,a=Nt(a,l),n=_c(e.stateNode,a,n),lc(e,n),Qe!==4&&(Qe=2)),!1;var i=Error(f(520),{cause:a});if(i=Nt(i,l),En===null?En=[i]:En.push(i),Qe!==4&&(Qe=2),t===null)return!0;a=Nt(a,l),l=t;do{switch(l.tag){case 3:return l.flags|=65536,e=n&-n,l.lanes|=e,e=_c(l.stateNode,a,e),lc(l,e),!1;case 1:if(t=l.type,i=l.stateNode,(l.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(El===null||!El.has(i))))return l.flags|=65536,n&=-n,l.lanes|=n,n=Qr(n),Xr(n,e,l,a),lc(l,n),!1}l=l.return}while(l!==null);return!1}var Ec=Error(f(461)),Je=!1;function nt(e,t,l,a){t.child=e===null?Jo(t,null,l,a):Wl(t,e.child,l,a)}function Zr(e,t,l,a,n){l=l.render;var i=t.ref;if("ref"in a){var c={};for(var u in a)u!=="ref"&&(c[u]=a[u])}else c=a;return Vl(t),a=uc(e,t,l,c,i,n),u=oc(),e!==null&&!Je?(rc(e,t,n),ll(e,t,n)):(Te&&u&&Qs(t),t.flags|=1,nt(e,t,a,n),t.child)}function Vr(e,t,l,a,n){if(e===null){var i=l.type;return typeof i=="function"&&!Ys(i)&&i.defaultProps===void 0&&l.compare===null?(t.tag=15,t.type=i,Kr(e,t,i,a,n)):(e=ri(l.type,null,a,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!Bc(e,n)){var c=i.memoizedProps;if(l=l.compare,l=l!==null?l:nn,l(c,a)&&e.ref===t.ref)return ll(e,t,n)}return t.flags|=1,e=Wt(i,a),e.ref=t.ref,e.return=t,t.child=e}function Kr(e,t,l,a,n){if(e!==null){var i=e.memoizedProps;if(nn(i,a)&&e.ref===t.ref)if(Je=!1,t.pendingProps=a=i,Bc(e,n))(e.flags&131072)!==0&&(Je=!0);else return t.lanes=e.lanes,ll(e,t,n)}return Ac(e,t,l,a,n)}function Jr(e,t,l,a){var n=a.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(i=i!==null?i.baseLanes|l:l,e!==null){for(a=t.child=e.child,n=0;a!==null;)n=n|a.lanes|a.childLanes,a=a.sibling;a=n&~i}else a=0,t.child=null;return $r(e,t,i,l,a)}if((l&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&hi(t,i!==null?i.cachePool:null),i!==null?Fo(t,i):nc(),Io(t);else return a=t.lanes=536870912,$r(e,t,i!==null?i.baseLanes|l:l,l,a)}else i!==null?(hi(t,i.cachePool),Fo(t,i),zl(),t.memoizedState=null):(e!==null&&hi(t,null),nc(),zl());return nt(e,t,n,l),t.child}function bn(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function $r(e,t,l,a,n){var i=Is();return i=i===null?null:{parent:Ve._currentValue,pool:i},t.memoizedState={baseLanes:l,cachePool:i},e!==null&&hi(t,null),nc(),Io(t),e!==null&&ba(e,t,a,!0),t.childLanes=n,null}function Ni(e,t){return t=Oi({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Wr(e,t,l){return Wl(t,e.child,null,l),e=Ni(t,t.pendingProps),e.flags|=2,jt(t),t.memoizedState=null,e}function _h(e,t,l){var a=t.pendingProps,n=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Te){if(a.mode==="hidden")return e=Ni(t,a),t.lanes=536870912,bn(null,e);if(sc(t),(e=He)?(e=of(e,Dt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ml!==null?{id:Qt,overflow:Xt}:null,retryLane:536870912,hydrationErrors:null},l=Do(e),l.return=t,t.child=l,lt=t,He=null)):e=null,e===null)throw xl(t);return t.lanes=536870912,null}return Ni(t,a)}var i=e.memoizedState;if(i!==null){var c=i.dehydrated;if(sc(t),n)if(t.flags&256)t.flags&=-257,t=Wr(e,t,l);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(f(558));else if(Je||ba(e,t,l,!1),n=(l&e.childLanes)!==0,Je||n){if(a=Ue,a!==null&&(c=qu(a,l),c!==0&&c!==i.retryLane))throw i.retryLane=c,Ll(e,c),xt(a,e,c),Ec;Gi(),t=Wr(e,t,l)}else e=i.treeContext,He=Bt(c.nextSibling),lt=t,Te=!0,yl=null,Dt=!1,e!==null&&wo(t,e),t=Ni(t,a),t.flags|=4096;return t}return e=Wt(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ri(e,t){var l=t.ref;if(l===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(f(284));(e===null||e.ref!==l)&&(t.flags|=4194816)}}function Ac(e,t,l,a,n){return Vl(t),l=uc(e,t,l,a,void 0,n),a=oc(),e!==null&&!Je?(rc(e,t,n),ll(e,t,n)):(Te&&a&&Qs(t),t.flags|=1,nt(e,t,l,n),t.child)}function Fr(e,t,l,a,n,i){return Vl(t),t.updateQueue=null,l=er(t,a,l,n),Po(e),a=oc(),e!==null&&!Je?(rc(e,t,i),ll(e,t,i)):(Te&&a&&Qs(t),t.flags|=1,nt(e,t,l,i),t.child)}function Ir(e,t,l,a,n){if(Vl(t),t.stateNode===null){var i=ya,c=l.contextType;typeof c=="object"&&c!==null&&(i=at(c)),i=new l(a,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Cc,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=a,i.state=t.memoizedState,i.refs={},ec(t),c=l.contextType,i.context=typeof c=="object"&&c!==null?at(c):ya,i.state=t.memoizedState,c=l.getDerivedStateFromProps,typeof c=="function"&&(Tc(t,l,c,a),i.state=t.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(c=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),c!==i.state&&Cc.enqueueReplaceState(i,i.state,null),mn(t,a,i,n),hn(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){i=t.stateNode;var u=t.memoizedProps,h=Il(l,u);i.props=h;var j=i.context,N=l.contextType;c=ya,typeof N=="object"&&N!==null&&(c=at(N));var k=l.getDerivedStateFromProps;N=typeof k=="function"||typeof i.getSnapshotBeforeUpdate=="function",u=t.pendingProps!==u,N||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(u||j!==c)&&Hr(t,i,a,c),vl=!1;var T=t.memoizedState;i.state=T,mn(t,a,i,n),hn(),j=t.memoizedState,u||T!==j||vl?(typeof k=="function"&&(Tc(t,l,k,a),j=t.memoizedState),(h=vl||Ur(t,l,h,a,T,j,c))?(N||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=j),i.props=a,i.state=j,i.context=c,a=h):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{i=t.stateNode,tc(e,t),c=t.memoizedProps,N=Il(l,c),i.props=N,k=t.pendingProps,T=i.context,j=l.contextType,h=ya,typeof j=="object"&&j!==null&&(h=at(j)),u=l.getDerivedStateFromProps,(j=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c!==k||T!==h)&&Hr(t,i,a,h),vl=!1,T=t.memoizedState,i.state=T,mn(t,a,i,n),hn();var E=t.memoizedState;c!==k||T!==E||vl||e!==null&&e.dependencies!==null&&fi(e.dependencies)?(typeof u=="function"&&(Tc(t,l,u,a),E=t.memoizedState),(N=vl||Ur(t,l,N,a,T,E,h)||e!==null&&e.dependencies!==null&&fi(e.dependencies))?(j||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(a,E,h),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(a,E,h)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&T===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&T===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=E),i.props=a,i.state=E,i.context=h,a=N):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&T===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&T===e.memoizedState||(t.flags|=1024),a=!1)}return i=a,Ri(e,t),a=(t.flags&128)!==0,i||a?(i=t.stateNode,l=a&&typeof l.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&a?(t.child=Wl(t,e.child,null,n),t.child=Wl(t,null,l,n)):nt(e,t,l,n),t.memoizedState=i.state,e=t.child):e=ll(e,t,n),e}function Pr(e,t,l,a){return Xl(),t.flags|=256,nt(e,t,l,a),t.child}var Mc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nc(e){return{baseLanes:e,cachePool:Lo()}}function Rc(e,t,l){return e=e!==null?e.childLanes&~l:0,t&&(e|=Tt),e}function ed(e,t,l){var a=t.pendingProps,n=!1,i=(t.flags&128)!==0,c;if((c=i)||(c=e!==null&&e.memoizedState===null?!1:(Xe.current&2)!==0),c&&(n=!0,t.flags&=-129),c=(t.flags&32)!==0,t.flags&=-33,e===null){if(Te){if(n?jl(t):zl(),(e=He)?(e=of(e,Dt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ml!==null?{id:Qt,overflow:Xt}:null,retryLane:536870912,hydrationErrors:null},l=Do(e),l.return=t,t.child=l,lt=t,He=null)):e=null,e===null)throw xl(t);return pu(e)?t.lanes=32:t.lanes=536870912,null}var u=a.children;return a=a.fallback,n?(zl(),n=t.mode,u=Oi({mode:"hidden",children:u},n),a=Ql(a,n,l,null),u.return=t,a.return=t,u.sibling=a,t.child=u,a=t.child,a.memoizedState=Nc(l),a.childLanes=Rc(e,c,l),t.memoizedState=Mc,bn(null,a)):(jl(t),Oc(t,u))}var h=e.memoizedState;if(h!==null&&(u=h.dehydrated,u!==null)){if(i)t.flags&256?(jl(t),t.flags&=-257,t=Dc(e,t,l)):t.memoizedState!==null?(zl(),t.child=e.child,t.flags|=128,t=null):(zl(),u=a.fallback,n=t.mode,a=Oi({mode:"visible",children:a.children},n),u=Ql(u,n,l,null),u.flags|=2,a.return=t,u.return=t,a.sibling=u,t.child=a,Wl(t,e.child,null,l),a=t.child,a.memoizedState=Nc(l),a.childLanes=Rc(e,c,l),t.memoizedState=Mc,t=bn(null,a));else if(jl(t),pu(u)){if(c=u.nextSibling&&u.nextSibling.dataset,c)var j=c.dgst;c=j,a=Error(f(419)),a.stack="",a.digest=c,un({value:a,source:null,stack:null}),t=Dc(e,t,l)}else if(Je||ba(e,t,l,!1),c=(l&e.childLanes)!==0,Je||c){if(c=Ue,c!==null&&(a=qu(c,l),a!==0&&a!==h.retryLane))throw h.retryLane=a,Ll(e,a),xt(c,e,a),Ec;fu(u)||Gi(),t=Dc(e,t,l)}else fu(u)?(t.flags|=192,t.child=e.child,t=null):(e=h.treeContext,He=Bt(u.nextSibling),lt=t,Te=!0,yl=null,Dt=!1,e!==null&&wo(t,e),t=Oc(t,a.children),t.flags|=4096);return t}return n?(zl(),u=a.fallback,n=t.mode,h=e.child,j=h.sibling,a=Wt(h,{mode:"hidden",children:a.children}),a.subtreeFlags=h.subtreeFlags&65011712,j!==null?u=Wt(j,u):(u=Ql(u,n,l,null),u.flags|=2),u.return=t,a.return=t,a.sibling=u,t.child=a,bn(null,a),a=t.child,u=e.child.memoizedState,u===null?u=Nc(l):(n=u.cachePool,n!==null?(h=Ve._currentValue,n=n.parent!==h?{parent:h,pool:h}:n):n=Lo(),u={baseLanes:u.baseLanes|l,cachePool:n}),a.memoizedState=u,a.childLanes=Rc(e,c,l),t.memoizedState=Mc,bn(e.child,a)):(jl(t),l=e.child,e=l.sibling,l=Wt(l,{mode:"visible",children:a.children}),l.return=t,l.sibling=null,e!==null&&(c=t.deletions,c===null?(t.deletions=[e],t.flags|=16):c.push(e)),t.child=l,t.memoizedState=null,l)}function Oc(e,t){return t=Oi({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Oi(e,t){return e=bt(22,e,null,t),e.lanes=0,e}function Dc(e,t,l){return Wl(t,e.child,null,l),e=Oc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function td(e,t,l){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Js(e.return,t,l)}function kc(e,t,l,a,n,i){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:l,tailMode:n,treeForkCount:i}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=a,c.tail=l,c.tailMode=n,c.treeForkCount=i)}function ld(e,t,l){var a=t.pendingProps,n=a.revealOrder,i=a.tail;a=a.children;var c=Xe.current,u=(c&2)!==0;if(u?(c=c&1|2,t.flags|=128):c&=1,b(Xe,c),nt(e,t,a,l),a=Te?cn:0,!u&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&td(e,l,t);else if(e.tag===19)td(e,l,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(n){case"forwards":for(l=t.child,n=null;l!==null;)e=l.alternate,e!==null&&bi(e)===null&&(n=l),l=l.sibling;l=n,l===null?(n=t.child,t.child=null):(n=l.sibling,l.sibling=null),kc(t,!1,n,l,i,a);break;case"backwards":case"unstable_legacy-backwards":for(l=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&bi(e)===null){t.child=n;break}e=n.sibling,n.sibling=l,l=n,n=e}kc(t,!0,l,null,i,a);break;case"together":kc(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function ll(e,t,l){if(e!==null&&(t.dependencies=e.dependencies),_l|=t.lanes,(l&t.childLanes)===0)if(e!==null){if(ba(e,t,l,!1),(l&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(f(153));if(t.child!==null){for(e=t.child,l=Wt(e,e.pendingProps),t.child=l,l.return=t;e.sibling!==null;)e=e.sibling,l=l.sibling=Wt(e,e.pendingProps),l.return=t;l.sibling=null}return t.child}function Bc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&fi(e)))}function Eh(e,t,l){switch(t.tag){case 3:Ce(t,t.stateNode.containerInfo),gl(t,Ve,e.memoizedState.cache),Xl();break;case 27:case 5:ct(t);break;case 4:Ce(t,t.stateNode.containerInfo);break;case 10:gl(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,sc(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(jl(t),t.flags|=128,null):(l&t.child.childLanes)!==0?ed(e,t,l):(jl(t),e=ll(e,t,l),e!==null?e.sibling:null);jl(t);break;case 19:var n=(e.flags&128)!==0;if(a=(l&t.childLanes)!==0,a||(ba(e,t,l,!1),a=(l&t.childLanes)!==0),n){if(a)return ld(e,t,l);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),b(Xe,Xe.current),a)break;return null;case 22:return t.lanes=0,Jr(e,t,l,t.pendingProps);case 24:gl(t,Ve,e.memoizedState.cache)}return ll(e,t,l)}function ad(e,t,l){if(e!==null)if(e.memoizedProps!==t.pendingProps)Je=!0;else{if(!Bc(e,l)&&(t.flags&128)===0)return Je=!1,Eh(e,t,l);Je=(e.flags&131072)!==0}else Je=!1,Te&&(t.flags&1048576)!==0&&Bo(t,cn,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=Jl(t.elementType),t.type=e,typeof e=="function")Ys(e)?(a=Il(e,a),t.tag=1,t=Ir(null,t,e,a,l)):(t.tag=0,t=Ac(null,t,e,a,l));else{if(e!=null){var n=e.$$typeof;if(n===se){t.tag=11,t=Zr(null,t,e,a,l);break e}else if(n===le){t.tag=14,t=Vr(null,t,e,a,l);break e}}throw t=We(e)||e,Error(f(306,t,""))}}return t;case 0:return Ac(e,t,t.type,t.pendingProps,l);case 1:return a=t.type,n=Il(a,t.pendingProps),Ir(e,t,a,n,l);case 3:e:{if(Ce(t,t.stateNode.containerInfo),e===null)throw Error(f(387));a=t.pendingProps;var i=t.memoizedState;n=i.element,tc(e,t),mn(t,a,null,l);var c=t.memoizedState;if(a=c.cache,gl(t,Ve,a),a!==i.cache&&$s(t,[Ve],l,!0),hn(),a=c.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:c.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=Pr(e,t,a,l);break e}else if(a!==n){n=Nt(Error(f(424)),t),un(n),t=Pr(e,t,a,l);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(He=Bt(e.firstChild),lt=t,Te=!0,yl=null,Dt=!0,l=Jo(t,null,a,l),t.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Xl(),a===n){t=ll(e,t,l);break e}nt(e,t,a,l)}t=t.child}return t;case 26:return Ri(e,t),e===null?(l=mf(t.type,null,t.pendingProps,null))?t.memoizedState=l:Te||(l=t.type,e=t.pendingProps,a=Ji(W.current).createElement(l),a[tt]=t,a[dt]=e,it(a,l,e),Ie(a),t.stateNode=a):t.memoizedState=mf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ct(t),e===null&&Te&&(a=t.stateNode=ff(t.type,t.pendingProps,W.current),lt=t,Dt=!0,n=He,Rl(t.type)?(hu=n,He=Bt(a.firstChild)):He=n),nt(e,t,t.pendingProps.children,l),Ri(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Te&&((n=a=He)&&(a=am(a,t.type,t.pendingProps,Dt),a!==null?(t.stateNode=a,lt=t,He=Bt(a.firstChild),Dt=!1,n=!0):n=!1),n||xl(t)),ct(t),n=t.type,i=t.pendingProps,c=e!==null?e.memoizedProps:null,a=i.children,ou(n,i)?a=null:c!==null&&ou(n,c)&&(t.flags|=32),t.memoizedState!==null&&(n=uc(e,t,gh,null,null,l),Bn._currentValue=n),Ri(e,t),nt(e,t,a,l),t.child;case 6:return e===null&&Te&&((e=l=He)&&(l=nm(l,t.pendingProps,Dt),l!==null?(t.stateNode=l,lt=t,He=null,e=!0):e=!1),e||xl(t)),null;case 13:return ed(e,t,l);case 4:return Ce(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Wl(t,null,a,l):nt(e,t,a,l),t.child;case 11:return Zr(e,t,t.type,t.pendingProps,l);case 7:return nt(e,t,t.pendingProps,l),t.child;case 8:return nt(e,t,t.pendingProps.children,l),t.child;case 12:return nt(e,t,t.pendingProps.children,l),t.child;case 10:return a=t.pendingProps,gl(t,t.type,a.value),nt(e,t,a.children,l),t.child;case 9:return n=t.type._context,a=t.pendingProps.children,Vl(t),n=at(n),a=a(n),t.flags|=1,nt(e,t,a,l),t.child;case 14:return Vr(e,t,t.type,t.pendingProps,l);case 15:return Kr(e,t,t.type,t.pendingProps,l);case 19:return ld(e,t,l);case 31:return _h(e,t,l);case 22:return Jr(e,t,l,t.pendingProps);case 24:return Vl(t),a=at(Ve),e===null?(n=Is(),n===null&&(n=Ue,i=Ws(),n.pooledCache=i,i.refCount++,i!==null&&(n.pooledCacheLanes|=l),n=i),t.memoizedState={parent:a,cache:n},ec(t),gl(t,Ve,n)):((e.lanes&l)!==0&&(tc(e,t),mn(t,null,null,l),hn()),n=e.memoizedState,i=t.memoizedState,n.parent!==a?(n={parent:a,cache:a},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),gl(t,Ve,a)):(a=i.cache,gl(t,Ve,a),a!==n.cache&&$s(t,[Ve],l,!0))),nt(e,t,t.pendingProps.children,l),t.child;case 29:throw t.pendingProps}throw Error(f(156,t.tag))}function al(e){e.flags|=4}function wc(e,t,l,a,n){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(n&335544128)===n)if(e.stateNode.complete)e.flags|=8192;else if(Nd())e.flags|=8192;else throw $l=yi,Ps}else e.flags&=-16777217}function nd(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!bf(t))if(Nd())e.flags|=8192;else throw $l=yi,Ps}function Di(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?wu():536870912,e.lanes|=t,Oa|=t)}function Sn(e,t){if(!Te)switch(e.tailMode){case"hidden":t=e.tail;for(var l=null;t!==null;)t.alternate!==null&&(l=t),t=t.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var a=null;l!==null;)l.alternate!==null&&(a=l),l=l.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,l=0,a=0;if(t)for(var n=e.child;n!==null;)l|=n.lanes|n.childLanes,a|=n.subtreeFlags&65011712,a|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)l|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=a,e.childLanes=l,t}function Ah(e,t,l){var a=t.pendingProps;switch(Xs(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(t),null;case 1:return qe(t),null;case 3:return l=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Pt(Ve),je(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(va(t)?al(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Vs())),qe(t),null;case 26:var n=t.type,i=t.memoizedState;return e===null?(al(t),i!==null?(qe(t),nd(t,i)):(qe(t),wc(t,n,null,a,l))):i?i!==e.memoizedState?(al(t),qe(t),nd(t,i)):(qe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&al(t),qe(t),wc(t,n,e,a,l)),null;case 27:if(_t(t),l=W.current,n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&al(t);else{if(!a){if(t.stateNode===null)throw Error(f(166));return qe(t),null}e=R.current,va(t)?Uo(t):(e=ff(n,a,l),t.stateNode=e,al(t))}return qe(t),null;case 5:if(_t(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&al(t);else{if(!a){if(t.stateNode===null)throw Error(f(166));return qe(t),null}if(i=R.current,va(t))Uo(t);else{var c=Ji(W.current);switch(i){case 1:i=c.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:i=c.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":i=c.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":i=c.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":i=c.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof a.is=="string"?c.createElement("select",{is:a.is}):c.createElement("select"),a.multiple?i.multiple=!0:a.size&&(i.size=a.size);break;default:i=typeof a.is=="string"?c.createElement(n,{is:a.is}):c.createElement(n)}}i[tt]=t,i[dt]=a;e:for(c=t.child;c!==null;){if(c.tag===5||c.tag===6)i.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}t.stateNode=i;e:switch(it(i,n,a),n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&al(t)}}return qe(t),wc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,l),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&al(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(f(166));if(e=W.current,va(t)){if(e=t.stateNode,l=t.memoizedProps,a=null,n=lt,n!==null)switch(n.tag){case 27:case 5:a=n.memoizedProps}e[tt]=t,e=!!(e.nodeValue===l||a!==null&&a.suppressHydrationWarning===!0||ef(e.nodeValue,l)),e||xl(t,!0)}else e=Ji(e).createTextNode(a),e[tt]=t,t.stateNode=e}return qe(t),null;case 31:if(l=t.memoizedState,e===null||e.memoizedState!==null){if(a=va(t),l!==null){if(e===null){if(!a)throw Error(f(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(f(557));e[tt]=t}else Xl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;qe(t),e=!1}else l=Vs(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return t.flags&256?(jt(t),t):(jt(t),null);if((t.flags&128)!==0)throw Error(f(558))}return qe(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=va(t),a!==null&&a.dehydrated!==null){if(e===null){if(!n)throw Error(f(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(f(317));n[tt]=t}else Xl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;qe(t),n=!1}else n=Vs(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(jt(t),t):(jt(t),null)}return jt(t),(t.flags&128)!==0?(t.lanes=l,t):(l=a!==null,e=e!==null&&e.memoizedState!==null,l&&(a=t.child,n=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(n=a.alternate.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==n&&(a.flags|=2048)),l!==e&&l&&(t.child.flags|=8192),Di(t,t.updateQueue),qe(t),null);case 4:return je(),e===null&&nu(t.stateNode.containerInfo),qe(t),null;case 10:return Pt(t.type),qe(t),null;case 19:if(d(Xe),a=t.memoizedState,a===null)return qe(t),null;if(n=(t.flags&128)!==0,i=a.rendering,i===null)if(n)Sn(a,!1);else{if(Qe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=bi(e),i!==null){for(t.flags|=128,Sn(a,!1),e=i.updateQueue,t.updateQueue=e,Di(t,e),t.subtreeFlags=0,e=l,l=t.child;l!==null;)Oo(l,e),l=l.sibling;return b(Xe,Xe.current&1|2),Te&&Ft(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&ot()>Hi&&(t.flags|=128,n=!0,Sn(a,!1),t.lanes=4194304)}else{if(!n)if(e=bi(i),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,Di(t,e),Sn(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!Te)return qe(t),null}else 2*ot()-a.renderingStartTime>Hi&&l!==536870912&&(t.flags|=128,n=!0,Sn(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(e=a.last,e!==null?e.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=ot(),e.sibling=null,l=Xe.current,b(Xe,n?l&1|2:l&1),Te&&Ft(t,a.treeForkCount),e):(qe(t),null);case 22:case 23:return jt(t),ic(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(l&536870912)!==0&&(t.flags&128)===0&&(qe(t),t.subtreeFlags&6&&(t.flags|=8192)):qe(t),l=t.updateQueue,l!==null&&Di(t,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==l&&(t.flags|=2048),e!==null&&d(Kl),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Pt(Ve),qe(t),null;case 25:return null;case 30:return null}throw Error(f(156,t.tag))}function Mh(e,t){switch(Xs(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Pt(Ve),je(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return _t(t),null;case 31:if(t.memoizedState!==null){if(jt(t),t.alternate===null)throw Error(f(340));Xl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(jt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(f(340));Xl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return d(Xe),null;case 4:return je(),null;case 10:return Pt(t.type),null;case 22:case 23:return jt(t),ic(),e!==null&&d(Kl),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Pt(Ve),null;case 25:return null;default:return null}}function id(e,t){switch(Xs(t),t.tag){case 3:Pt(Ve),je();break;case 26:case 27:case 5:_t(t);break;case 4:je();break;case 31:t.memoizedState!==null&&jt(t);break;case 13:jt(t);break;case 19:d(Xe);break;case 10:Pt(t.type);break;case 22:case 23:jt(t),ic(),e!==null&&d(Kl);break;case 24:Pt(Ve)}}function jn(e,t){try{var l=t.updateQueue,a=l!==null?l.lastEffect:null;if(a!==null){var n=a.next;l=n;do{if((l.tag&e)===e){a=void 0;var i=l.create,c=l.inst;a=i(),c.destroy=a}l=l.next}while(l!==n)}}catch(u){Ne(t,t.return,u)}}function Tl(e,t,l){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var i=n.next;a=i;do{if((a.tag&e)===e){var c=a.inst,u=c.destroy;if(u!==void 0){c.destroy=void 0,n=t;var h=l,j=u;try{j()}catch(N){Ne(n,h,N)}}}a=a.next}while(a!==i)}}catch(N){Ne(t,t.return,N)}}function sd(e){var t=e.updateQueue;if(t!==null){var l=e.stateNode;try{Wo(t,l)}catch(a){Ne(e,e.return,a)}}}function cd(e,t,l){l.props=Il(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(a){Ne(e,t,a)}}function zn(e,t){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof l=="function"?e.refCleanup=l(a):l.current=a}}catch(n){Ne(e,t,n)}}function Zt(e,t){var l=e.ref,a=e.refCleanup;if(l!==null)if(typeof a=="function")try{a()}catch(n){Ne(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(n){Ne(e,t,n)}else l.current=null}function ud(e){var t=e.type,l=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":l.autoFocus&&a.focus();break e;case"img":l.src?a.src=l.src:l.srcSet&&(a.srcset=l.srcSet)}}catch(n){Ne(e,e.return,n)}}function Uc(e,t,l){try{var a=e.stateNode;Fh(a,e.type,l,t),a[dt]=t}catch(n){Ne(e,e.return,n)}}function od(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Rl(e.type)||e.tag===4}function Hc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||od(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Rl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qc(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,t):(t=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,t.appendChild(e),l=l._reactRootContainer,l!=null||t.onclick!==null||(t.onclick=Jt));else if(a!==4&&(a===27&&Rl(e.type)&&(l=e.stateNode,t=null),e=e.child,e!==null))for(qc(e,t,l),e=e.sibling;e!==null;)qc(e,t,l),e=e.sibling}function ki(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?l.insertBefore(e,t):l.appendChild(e);else if(a!==4&&(a===27&&Rl(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(ki(e,t,l),e=e.sibling;e!==null;)ki(e,t,l),e=e.sibling}function rd(e){var t=e.stateNode,l=e.memoizedProps;try{for(var a=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);it(t,a,l),t[tt]=e,t[dt]=l}catch(i){Ne(e,e.return,i)}}var nl=!1,$e=!1,Yc=!1,dd=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function Nh(e,t){if(e=e.containerInfo,cu=ts,e=zo(e),Ds(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var a=l.getSelection&&l.getSelection();if(a&&a.rangeCount!==0){l=a.anchorNode;var n=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{l.nodeType,i.nodeType}catch{l=null;break e}var c=0,u=-1,h=-1,j=0,N=0,k=e,T=null;t:for(;;){for(var E;k!==l||n!==0&&k.nodeType!==3||(u=c+n),k!==i||a!==0&&k.nodeType!==3||(h=c+a),k.nodeType===3&&(c+=k.nodeValue.length),(E=k.firstChild)!==null;)T=k,k=E;for(;;){if(k===e)break t;if(T===l&&++j===n&&(u=c),T===i&&++N===a&&(h=c),(E=k.nextSibling)!==null)break;k=T,T=k.parentNode}k=E}l=u===-1||h===-1?null:{start:u,end:h}}else l=null}l=l||{start:0,end:0}}else l=null;for(uu={focusedElem:e,selectionRange:l},ts=!1,Pe=t;Pe!==null;)if(t=Pe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Pe=e;else for(;Pe!==null;){switch(t=Pe,i=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)n=e[l],n.ref.impl=n.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,l=t,n=i.memoizedProps,i=i.memoizedState,a=l.stateNode;try{var P=Il(l.type,n);e=a.getSnapshotBeforeUpdate(P,i),a.__reactInternalSnapshotBeforeUpdate=e}catch(oe){Ne(l,l.return,oe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,l=e.nodeType,l===9)du(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":du(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(f(163))}if(e=t.sibling,e!==null){e.return=t.return,Pe=e;break}Pe=t.return}}function fd(e,t,l){var a=l.flags;switch(l.tag){case 0:case 11:case 15:sl(e,l),a&4&&jn(5,l);break;case 1:if(sl(e,l),a&4)if(e=l.stateNode,t===null)try{e.componentDidMount()}catch(c){Ne(l,l.return,c)}else{var n=Il(l.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(c){Ne(l,l.return,c)}}a&64&&sd(l),a&512&&zn(l,l.return);break;case 3:if(sl(e,l),a&64&&(e=l.updateQueue,e!==null)){if(t=null,l.child!==null)switch(l.child.tag){case 27:case 5:t=l.child.stateNode;break;case 1:t=l.child.stateNode}try{Wo(e,t)}catch(c){Ne(l,l.return,c)}}break;case 27:t===null&&a&4&&rd(l);case 26:case 5:sl(e,l),t===null&&a&4&&ud(l),a&512&&zn(l,l.return);break;case 12:sl(e,l);break;case 31:sl(e,l),a&4&&md(e,l);break;case 13:sl(e,l),a&4&&yd(e,l),a&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=qh.bind(null,l),im(e,l))));break;case 22:if(a=l.memoizedState!==null||nl,!a){t=t!==null&&t.memoizedState!==null||$e,n=nl;var i=$e;nl=a,($e=t)&&!i?cl(e,l,(l.subtreeFlags&8772)!==0):sl(e,l),nl=n,$e=i}break;case 30:break;default:sl(e,l)}}function pd(e){var t=e.alternate;t!==null&&(e.alternate=null,pd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ys(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ye=null,pt=!1;function il(e,t,l){for(l=l.child;l!==null;)hd(e,t,l),l=l.sibling}function hd(e,t,l){if(et&&typeof et.onCommitFiberUnmount=="function")try{et.onCommitFiberUnmount(Ge,l)}catch{}switch(l.tag){case 26:$e||Zt(l,t),il(e,t,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:$e||Zt(l,t);var a=Ye,n=pt;Rl(l.type)&&(Ye=l.stateNode,pt=!1),il(e,t,l),On(l.stateNode),Ye=a,pt=n;break;case 5:$e||Zt(l,t);case 6:if(a=Ye,n=pt,Ye=null,il(e,t,l),Ye=a,pt=n,Ye!==null)if(pt)try{(Ye.nodeType===9?Ye.body:Ye.nodeName==="HTML"?Ye.ownerDocument.body:Ye).removeChild(l.stateNode)}catch(i){Ne(l,t,i)}else try{Ye.removeChild(l.stateNode)}catch(i){Ne(l,t,i)}break;case 18:Ye!==null&&(pt?(e=Ye,cf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),Ya(e)):cf(Ye,l.stateNode));break;case 4:a=Ye,n=pt,Ye=l.stateNode.containerInfo,pt=!0,il(e,t,l),Ye=a,pt=n;break;case 0:case 11:case 14:case 15:Tl(2,l,t),$e||Tl(4,l,t),il(e,t,l);break;case 1:$e||(Zt(l,t),a=l.stateNode,typeof a.componentWillUnmount=="function"&&cd(l,t,a)),il(e,t,l);break;case 21:il(e,t,l);break;case 22:$e=(a=$e)||l.memoizedState!==null,il(e,t,l),$e=a;break;default:il(e,t,l)}}function md(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ya(e)}catch(l){Ne(t,t.return,l)}}}function yd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ya(e)}catch(l){Ne(t,t.return,l)}}function Rh(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new dd),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new dd),t;default:throw Error(f(435,e.tag))}}function Bi(e,t){var l=Rh(e);t.forEach(function(a){if(!l.has(a)){l.add(a);var n=Yh.bind(null,e,a);a.then(n,n)}})}function ht(e,t){var l=t.deletions;if(l!==null)for(var a=0;a<l.length;a++){var n=l[a],i=e,c=t,u=c;e:for(;u!==null;){switch(u.tag){case 27:if(Rl(u.type)){Ye=u.stateNode,pt=!1;break e}break;case 5:Ye=u.stateNode,pt=!1;break e;case 3:case 4:Ye=u.stateNode.containerInfo,pt=!0;break e}u=u.return}if(Ye===null)throw Error(f(160));hd(i,c,n),Ye=null,pt=!1,i=n.alternate,i!==null&&(i.return=null),n.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)xd(t,e),t=t.sibling}var qt=null;function xd(e,t){var l=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ht(t,e),mt(e),a&4&&(Tl(3,e,e.return),jn(3,e),Tl(5,e,e.return));break;case 1:ht(t,e),mt(e),a&512&&($e||l===null||Zt(l,l.return)),a&64&&nl&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?a:l.concat(a))));break;case 26:var n=qt;if(ht(t,e),mt(e),a&512&&($e||l===null||Zt(l,l.return)),a&4){var i=l!==null?l.memoizedState:null;if(a=e.memoizedState,l===null)if(a===null)if(e.stateNode===null){e:{a=e.type,l=e.memoizedProps,n=n.ownerDocument||n;t:switch(a){case"title":i=n.getElementsByTagName("title")[0],(!i||i[$a]||i[tt]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=n.createElement(a),n.head.insertBefore(i,n.querySelector("head > title"))),it(i,a,l),i[tt]=e,Ie(i),a=i;break e;case"link":var c=gf("link","href",n).get(a+(l.href||""));if(c){for(var u=0;u<c.length;u++)if(i=c[u],i.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&i.getAttribute("rel")===(l.rel==null?null:l.rel)&&i.getAttribute("title")===(l.title==null?null:l.title)&&i.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){c.splice(u,1);break t}}i=n.createElement(a),it(i,a,l),n.head.appendChild(i);break;case"meta":if(c=gf("meta","content",n).get(a+(l.content||""))){for(u=0;u<c.length;u++)if(i=c[u],i.getAttribute("content")===(l.content==null?null:""+l.content)&&i.getAttribute("name")===(l.name==null?null:l.name)&&i.getAttribute("property")===(l.property==null?null:l.property)&&i.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&i.getAttribute("charset")===(l.charSet==null?null:l.charSet)){c.splice(u,1);break t}}i=n.createElement(a),it(i,a,l),n.head.appendChild(i);break;default:throw Error(f(468,a))}i[tt]=e,Ie(i),a=i}e.stateNode=a}else vf(n,e.type,e.stateNode);else e.stateNode=xf(n,a,e.memoizedProps);else i!==a?(i===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):i.count--,a===null?vf(n,e.type,e.stateNode):xf(n,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Uc(e,e.memoizedProps,l.memoizedProps)}break;case 27:ht(t,e),mt(e),a&512&&($e||l===null||Zt(l,l.return)),l!==null&&a&4&&Uc(e,e.memoizedProps,l.memoizedProps);break;case 5:if(ht(t,e),mt(e),a&512&&($e||l===null||Zt(l,l.return)),e.flags&32){n=e.stateNode;try{oa(n,"")}catch(P){Ne(e,e.return,P)}}a&4&&e.stateNode!=null&&(n=e.memoizedProps,Uc(e,n,l!==null?l.memoizedProps:n)),a&1024&&(Yc=!0);break;case 6:if(ht(t,e),mt(e),a&4){if(e.stateNode===null)throw Error(f(162));a=e.memoizedProps,l=e.stateNode;try{l.nodeValue=a}catch(P){Ne(e,e.return,P)}}break;case 3:if(Fi=null,n=qt,qt=$i(t.containerInfo),ht(t,e),qt=n,mt(e),a&4&&l!==null&&l.memoizedState.isDehydrated)try{Ya(t.containerInfo)}catch(P){Ne(e,e.return,P)}Yc&&(Yc=!1,gd(e));break;case 4:a=qt,qt=$i(e.stateNode.containerInfo),ht(t,e),mt(e),qt=a;break;case 12:ht(t,e),mt(e);break;case 31:ht(t,e),mt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Bi(e,a)));break;case 13:ht(t,e),mt(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Ui=ot()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Bi(e,a)));break;case 22:n=e.memoizedState!==null;var h=l!==null&&l.memoizedState!==null,j=nl,N=$e;if(nl=j||n,$e=N||h,ht(t,e),$e=N,nl=j,mt(e),a&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(l===null||h||nl||$e||Pl(e)),l=null,t=e;;){if(t.tag===5||t.tag===26){if(l===null){h=l=t;try{if(i=h.stateNode,n)c=i.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none";else{u=h.stateNode;var k=h.memoizedProps.style,T=k!=null&&k.hasOwnProperty("display")?k.display:null;u.style.display=T==null||typeof T=="boolean"?"":(""+T).trim()}}catch(P){Ne(h,h.return,P)}}}else if(t.tag===6){if(l===null){h=t;try{h.stateNode.nodeValue=n?"":h.memoizedProps}catch(P){Ne(h,h.return,P)}}}else if(t.tag===18){if(l===null){h=t;try{var E=h.stateNode;n?uf(E,!0):uf(h.stateNode,!1)}catch(P){Ne(h,h.return,P)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;l===t&&(l=null),t=t.return}l===t&&(l=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(l=a.retryQueue,l!==null&&(a.retryQueue=null,Bi(e,l))));break;case 19:ht(t,e),mt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Bi(e,a)));break;case 30:break;case 21:break;default:ht(t,e),mt(e)}}function mt(e){var t=e.flags;if(t&2){try{for(var l,a=e.return;a!==null;){if(od(a)){l=a;break}a=a.return}if(l==null)throw Error(f(160));switch(l.tag){case 27:var n=l.stateNode,i=Hc(e);ki(e,i,n);break;case 5:var c=l.stateNode;l.flags&32&&(oa(c,""),l.flags&=-33);var u=Hc(e);ki(e,u,c);break;case 3:case 4:var h=l.stateNode.containerInfo,j=Hc(e);qc(e,j,h);break;default:throw Error(f(161))}}catch(N){Ne(e,e.return,N)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function gd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;gd(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function sl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)fd(e,t.alternate,t),t=t.sibling}function Pl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Tl(4,t,t.return),Pl(t);break;case 1:Zt(t,t.return);var l=t.stateNode;typeof l.componentWillUnmount=="function"&&cd(t,t.return,l),Pl(t);break;case 27:On(t.stateNode);case 26:case 5:Zt(t,t.return),Pl(t);break;case 22:t.memoizedState===null&&Pl(t);break;case 30:Pl(t);break;default:Pl(t)}e=e.sibling}}function cl(e,t,l){for(l=l&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,n=e,i=t,c=i.flags;switch(i.tag){case 0:case 11:case 15:cl(n,i,l),jn(4,i);break;case 1:if(cl(n,i,l),a=i,n=a.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(j){Ne(a,a.return,j)}if(a=i,n=a.updateQueue,n!==null){var u=a.stateNode;try{var h=n.shared.hiddenCallbacks;if(h!==null)for(n.shared.hiddenCallbacks=null,n=0;n<h.length;n++)$o(h[n],u)}catch(j){Ne(a,a.return,j)}}l&&c&64&&sd(i),zn(i,i.return);break;case 27:rd(i);case 26:case 5:cl(n,i,l),l&&a===null&&c&4&&ud(i),zn(i,i.return);break;case 12:cl(n,i,l);break;case 31:cl(n,i,l),l&&c&4&&md(n,i);break;case 13:cl(n,i,l),l&&c&4&&yd(n,i);break;case 22:i.memoizedState===null&&cl(n,i,l),zn(i,i.return);break;case 30:break;default:cl(n,i,l)}t=t.sibling}}function Gc(e,t){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&on(l))}function Lc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&on(e))}function Yt(e,t,l,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)vd(e,t,l,a),t=t.sibling}function vd(e,t,l,a){var n=t.flags;switch(t.tag){case 0:case 11:case 15:Yt(e,t,l,a),n&2048&&jn(9,t);break;case 1:Yt(e,t,l,a);break;case 3:Yt(e,t,l,a),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&on(e)));break;case 12:if(n&2048){Yt(e,t,l,a),e=t.stateNode;try{var i=t.memoizedProps,c=i.id,u=i.onPostCommit;typeof u=="function"&&u(c,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(h){Ne(t,t.return,h)}}else Yt(e,t,l,a);break;case 31:Yt(e,t,l,a);break;case 13:Yt(e,t,l,a);break;case 23:break;case 22:i=t.stateNode,c=t.alternate,t.memoizedState!==null?i._visibility&2?Yt(e,t,l,a):Tn(e,t):i._visibility&2?Yt(e,t,l,a):(i._visibility|=2,Ma(e,t,l,a,(t.subtreeFlags&10256)!==0||!1)),n&2048&&Gc(c,t);break;case 24:Yt(e,t,l,a),n&2048&&Lc(t.alternate,t);break;default:Yt(e,t,l,a)}}function Ma(e,t,l,a,n){for(n=n&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,c=t,u=l,h=a,j=c.flags;switch(c.tag){case 0:case 11:case 15:Ma(i,c,u,h,n),jn(8,c);break;case 23:break;case 22:var N=c.stateNode;c.memoizedState!==null?N._visibility&2?Ma(i,c,u,h,n):Tn(i,c):(N._visibility|=2,Ma(i,c,u,h,n)),n&&j&2048&&Gc(c.alternate,c);break;case 24:Ma(i,c,u,h,n),n&&j&2048&&Lc(c.alternate,c);break;default:Ma(i,c,u,h,n)}t=t.sibling}}function Tn(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var l=e,a=t,n=a.flags;switch(a.tag){case 22:Tn(l,a),n&2048&&Gc(a.alternate,a);break;case 24:Tn(l,a),n&2048&&Lc(a.alternate,a);break;default:Tn(l,a)}t=t.sibling}}var Cn=8192;function Na(e,t,l){if(e.subtreeFlags&Cn)for(e=e.child;e!==null;)bd(e,t,l),e=e.sibling}function bd(e,t,l){switch(e.tag){case 26:Na(e,t,l),e.flags&Cn&&e.memoizedState!==null&&xm(l,qt,e.memoizedState,e.memoizedProps);break;case 5:Na(e,t,l);break;case 3:case 4:var a=qt;qt=$i(e.stateNode.containerInfo),Na(e,t,l),qt=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Cn,Cn=16777216,Na(e,t,l),Cn=a):Na(e,t,l));break;default:Na(e,t,l)}}function Sd(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function _n(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];Pe=a,zd(a,e)}Sd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)jd(e),e=e.sibling}function jd(e){switch(e.tag){case 0:case 11:case 15:_n(e),e.flags&2048&&Tl(9,e,e.return);break;case 3:_n(e);break;case 12:_n(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,wi(e)):_n(e);break;default:_n(e)}}function wi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];Pe=a,zd(a,e)}Sd(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Tl(8,t,t.return),wi(t);break;case 22:l=t.stateNode,l._visibility&2&&(l._visibility&=-3,wi(t));break;default:wi(t)}e=e.sibling}}function zd(e,t){for(;Pe!==null;){var l=Pe;switch(l.tag){case 0:case 11:case 15:Tl(8,l,t);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var a=l.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:on(l.memoizedState.cache)}if(a=l.child,a!==null)a.return=l,Pe=a;else e:for(l=e;Pe!==null;){a=Pe;var n=a.sibling,i=a.return;if(pd(a),a===l){Pe=null;break e}if(n!==null){n.return=i,Pe=n;break e}Pe=i}}}var Oh={getCacheForType:function(e){var t=at(Ve),l=t.data.get(e);return l===void 0&&(l=e(),t.data.set(e,l)),l},cacheSignal:function(){return at(Ve).controller.signal}},Dh=typeof WeakMap=="function"?WeakMap:Map,Ae=0,Ue=null,xe=null,ve=0,Me=0,zt=null,Cl=!1,Ra=!1,Qc=!1,ul=0,Qe=0,_l=0,ea=0,Xc=0,Tt=0,Oa=0,En=null,yt=null,Zc=!1,Ui=0,Td=0,Hi=1/0,qi=null,El=null,Fe=0,Al=null,Da=null,ol=0,Vc=0,Kc=null,Cd=null,An=0,Jc=null;function Ct(){return(Ae&2)!==0&&ve!==0?ve&-ve:M.T!==null?eu():Yu()}function _d(){if(Tt===0)if((ve&536870912)===0||Te){var e=Kn;Kn<<=1,(Kn&3932160)===0&&(Kn=262144),Tt=e}else Tt=536870912;return e=St.current,e!==null&&(e.flags|=32),Tt}function xt(e,t,l){(e===Ue&&(Me===2||Me===9)||e.cancelPendingCommit!==null)&&(ka(e,0),Ml(e,ve,Tt,!1)),Ja(e,l),((Ae&2)===0||e!==Ue)&&(e===Ue&&((Ae&2)===0&&(ea|=l),Qe===4&&Ml(e,ve,Tt,!1)),Vt(e))}function Ed(e,t,l){if((Ae&6)!==0)throw Error(f(327));var a=!l&&(t&127)===0&&(t&e.expiredLanes)===0||Ka(e,t),n=a?wh(e,t):Wc(e,t,!0),i=a;do{if(n===0){Ra&&!a&&Ml(e,t,0,!1);break}else{if(l=e.current.alternate,i&&!kh(l)){n=Wc(e,t,!1),i=!1;continue}if(n===2){if(i=t,e.errorRecoveryDisabledLanes&i)var c=0;else c=e.pendingLanes&-536870913,c=c!==0?c:c&536870912?536870912:0;if(c!==0){t=c;e:{var u=e;n=En;var h=u.current.memoizedState.isDehydrated;if(h&&(ka(u,c).flags|=256),c=Wc(u,c,!1),c!==2){if(Qc&&!h){u.errorRecoveryDisabledLanes|=i,ea|=i,n=4;break e}i=yt,yt=n,i!==null&&(yt===null?yt=i:yt.push.apply(yt,i))}n=c}if(i=!1,n!==2)continue}}if(n===1){ka(e,0),Ml(e,t,0,!0);break}e:{switch(a=e,i=n,i){case 0:case 1:throw Error(f(345));case 4:if((t&4194048)!==t)break;case 6:Ml(a,t,Tt,!Cl);break e;case 2:yt=null;break;case 3:case 5:break;default:throw Error(f(329))}if((t&62914560)===t&&(n=Ui+300-ot(),10<n)){if(Ml(a,t,Tt,!Cl),$n(a,0,!0)!==0)break e;ol=t,a.timeoutHandle=nf(Ad.bind(null,a,l,yt,qi,Zc,t,Tt,ea,Oa,Cl,i,"Throttled",-0,0),n);break e}Ad(a,l,yt,qi,Zc,t,Tt,ea,Oa,Cl,i,null,-0,0)}}break}while(!0);Vt(e)}function Ad(e,t,l,a,n,i,c,u,h,j,N,k,T,E){if(e.timeoutHandle=-1,k=t.subtreeFlags,k&8192||(k&16785408)===16785408){k={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Jt},bd(t,i,k);var P=(i&62914560)===i?Ui-ot():(i&4194048)===i?Td-ot():0;if(P=gm(k,P),P!==null){ol=i,e.cancelPendingCommit=P(wd.bind(null,e,t,i,l,a,n,c,u,h,N,k,null,T,E)),Ml(e,i,c,!j);return}}wd(e,t,i,l,a,n,c,u,h)}function kh(e){for(var t=e;;){var l=t.tag;if((l===0||l===11||l===15)&&t.flags&16384&&(l=t.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var a=0;a<l.length;a++){var n=l[a],i=n.getSnapshot;n=n.value;try{if(!vt(i(),n))return!1}catch{return!1}}if(l=t.child,t.subtreeFlags&16384&&l!==null)l.return=t,t=l;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ml(e,t,l,a){t&=~Xc,t&=~ea,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var n=t;0<n;){var i=31-gt(n),c=1<<i;a[i]=-1,n&=~c}l!==0&&Uu(e,l,t)}function Yi(){return(Ae&6)===0?(Mn(0),!1):!0}function $c(){if(xe!==null){if(Me===0)var e=xe.return;else e=xe,It=Zl=null,dc(e),Ta=null,dn=0,e=xe;for(;e!==null;)id(e.alternate,e),e=e.return;xe=null}}function ka(e,t){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,em(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),ol=0,$c(),Ue=e,xe=l=Wt(e.current,null),ve=t,Me=0,zt=null,Cl=!1,Ra=Ka(e,t),Qc=!1,Oa=Tt=Xc=ea=_l=Qe=0,yt=En=null,Zc=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var n=31-gt(a),i=1<<n;t|=e[n],a&=~i}return ul=t,ci(),l}function Md(e,t){fe=null,M.H=vn,t===za||t===mi?(t=Zo(),Me=3):t===Ps?(t=Zo(),Me=4):Me=t===Ec?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,zt=t,xe===null&&(Qe=1,Mi(e,Nt(t,e.current)))}function Nd(){var e=St.current;return e===null?!0:(ve&4194048)===ve?kt===null:(ve&62914560)===ve||(ve&536870912)!==0?e===kt:!1}function Rd(){var e=M.H;return M.H=vn,e===null?vn:e}function Od(){var e=M.A;return M.A=Oh,e}function Gi(){Qe=4,Cl||(ve&4194048)!==ve&&St.current!==null||(Ra=!0),(_l&134217727)===0&&(ea&134217727)===0||Ue===null||Ml(Ue,ve,Tt,!1)}function Wc(e,t,l){var a=Ae;Ae|=2;var n=Rd(),i=Od();(Ue!==e||ve!==t)&&(qi=null,ka(e,t)),t=!1;var c=Qe;e:do try{if(Me!==0&&xe!==null){var u=xe,h=zt;switch(Me){case 8:$c(),c=6;break e;case 3:case 2:case 9:case 6:St.current===null&&(t=!0);var j=Me;if(Me=0,zt=null,Ba(e,u,h,j),l&&Ra){c=0;break e}break;default:j=Me,Me=0,zt=null,Ba(e,u,h,j)}}Bh(),c=Qe;break}catch(N){Md(e,N)}while(!0);return t&&e.shellSuspendCounter++,It=Zl=null,Ae=a,M.H=n,M.A=i,xe===null&&(Ue=null,ve=0,ci()),c}function Bh(){for(;xe!==null;)Dd(xe)}function wh(e,t){var l=Ae;Ae|=2;var a=Rd(),n=Od();Ue!==e||ve!==t?(qi=null,Hi=ot()+500,ka(e,t)):Ra=Ka(e,t);e:do try{if(Me!==0&&xe!==null){t=xe;var i=zt;t:switch(Me){case 1:Me=0,zt=null,Ba(e,t,i,1);break;case 2:case 9:if(Qo(i)){Me=0,zt=null,kd(t);break}t=function(){Me!==2&&Me!==9||Ue!==e||(Me=7),Vt(e)},i.then(t,t);break e;case 3:Me=7;break e;case 4:Me=5;break e;case 7:Qo(i)?(Me=0,zt=null,kd(t)):(Me=0,zt=null,Ba(e,t,i,7));break;case 5:var c=null;switch(xe.tag){case 26:c=xe.memoizedState;case 5:case 27:var u=xe;if(c?bf(c):u.stateNode.complete){Me=0,zt=null;var h=u.sibling;if(h!==null)xe=h;else{var j=u.return;j!==null?(xe=j,Li(j)):xe=null}break t}}Me=0,zt=null,Ba(e,t,i,5);break;case 6:Me=0,zt=null,Ba(e,t,i,6);break;case 8:$c(),Qe=6;break e;default:throw Error(f(462))}}Uh();break}catch(N){Md(e,N)}while(!0);return It=Zl=null,M.H=a,M.A=n,Ae=l,xe!==null?0:(Ue=null,ve=0,ci(),Qe)}function Uh(){for(;xe!==null&&!rs();)Dd(xe)}function Dd(e){var t=ad(e.alternate,e,ul);e.memoizedProps=e.pendingProps,t===null?Li(e):xe=t}function kd(e){var t=e,l=t.alternate;switch(t.tag){case 15:case 0:t=Fr(l,t,t.pendingProps,t.type,void 0,ve);break;case 11:t=Fr(l,t,t.pendingProps,t.type.render,t.ref,ve);break;case 5:dc(t);default:id(l,t),t=xe=Oo(t,ul),t=ad(l,t,ul)}e.memoizedProps=e.pendingProps,t===null?Li(e):xe=t}function Ba(e,t,l,a){It=Zl=null,dc(t),Ta=null,dn=0;var n=t.return;try{if(Ch(e,n,t,l,ve)){Qe=1,Mi(e,Nt(l,e.current)),xe=null;return}}catch(i){if(n!==null)throw xe=n,i;Qe=1,Mi(e,Nt(l,e.current)),xe=null;return}t.flags&32768?(Te||a===1?e=!0:Ra||(ve&536870912)!==0?e=!1:(Cl=e=!0,(a===2||a===9||a===3||a===6)&&(a=St.current,a!==null&&a.tag===13&&(a.flags|=16384))),Bd(t,e)):Li(t)}function Li(e){var t=e;do{if((t.flags&32768)!==0){Bd(t,Cl);return}e=t.return;var l=Ah(t.alternate,t,ul);if(l!==null){xe=l;return}if(t=t.sibling,t!==null){xe=t;return}xe=t=e}while(t!==null);Qe===0&&(Qe=5)}function Bd(e,t){do{var l=Mh(e.alternate,e);if(l!==null){l.flags&=32767,xe=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!t&&(e=e.sibling,e!==null)){xe=e;return}xe=e=l}while(e!==null);Qe=6,xe=null}function wd(e,t,l,a,n,i,c,u,h){e.cancelPendingCommit=null;do Qi();while(Fe!==0);if((Ae&6)!==0)throw Error(f(327));if(t!==null){if(t===e.current)throw Error(f(177));if(i=t.lanes|t.childLanes,i|=Hs,yp(e,l,i,c,u,h),e===Ue&&(xe=Ue=null,ve=0),Da=t,Al=e,ol=l,Vc=i,Kc=n,Cd=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Gh(x,function(){return Gd(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=M.T,M.T=null,n=X.p,X.p=2,c=Ae,Ae|=4;try{Nh(e,t,l)}finally{Ae=c,X.p=n,M.T=a}}Fe=1,Ud(),Hd(),qd()}}function Ud(){if(Fe===1){Fe=0;var e=Al,t=Da,l=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||l){l=M.T,M.T=null;var a=X.p;X.p=2;var n=Ae;Ae|=4;try{xd(t,e);var i=uu,c=zo(e.containerInfo),u=i.focusedElem,h=i.selectionRange;if(c!==u&&u&&u.ownerDocument&&jo(u.ownerDocument.documentElement,u)){if(h!==null&&Ds(u)){var j=h.start,N=h.end;if(N===void 0&&(N=j),"selectionStart"in u)u.selectionStart=j,u.selectionEnd=Math.min(N,u.value.length);else{var k=u.ownerDocument||document,T=k&&k.defaultView||window;if(T.getSelection){var E=T.getSelection(),P=u.textContent.length,oe=Math.min(h.start,P),we=h.end===void 0?oe:Math.min(h.end,P);!E.extend&&oe>we&&(c=we,we=oe,oe=c);var g=So(u,oe),m=So(u,we);if(g&&m&&(E.rangeCount!==1||E.anchorNode!==g.node||E.anchorOffset!==g.offset||E.focusNode!==m.node||E.focusOffset!==m.offset)){var S=k.createRange();S.setStart(g.node,g.offset),E.removeAllRanges(),oe>we?(E.addRange(S),E.extend(m.node,m.offset)):(S.setEnd(m.node,m.offset),E.addRange(S))}}}}for(k=[],E=u;E=E.parentNode;)E.nodeType===1&&k.push({element:E,left:E.scrollLeft,top:E.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<k.length;u++){var O=k[u];O.element.scrollLeft=O.left,O.element.scrollTop=O.top}}ts=!!cu,uu=cu=null}finally{Ae=n,X.p=a,M.T=l}}e.current=t,Fe=2}}function Hd(){if(Fe===2){Fe=0;var e=Al,t=Da,l=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||l){l=M.T,M.T=null;var a=X.p;X.p=2;var n=Ae;Ae|=4;try{fd(e,t.alternate,t)}finally{Ae=n,X.p=a,M.T=l}}Fe=3}}function qd(){if(Fe===4||Fe===3){Fe=0,ds();var e=Al,t=Da,l=ol,a=Cd;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Fe=5:(Fe=0,Da=Al=null,Yd(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(El=null),hs(l),t=t.stateNode,et&&typeof et.onCommitFiberRoot=="function")try{et.onCommitFiberRoot(Ge,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=M.T,n=X.p,X.p=2,M.T=null;try{for(var i=e.onRecoverableError,c=0;c<a.length;c++){var u=a[c];i(u.value,{componentStack:u.stack})}}finally{M.T=t,X.p=n}}(ol&3)!==0&&Qi(),Vt(e),n=e.pendingLanes,(l&261930)!==0&&(n&42)!==0?e===Jc?An++:(An=0,Jc=e):An=0,Mn(0)}}function Yd(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,on(t)))}function Qi(){return Ud(),Hd(),qd(),Gd()}function Gd(){if(Fe!==5)return!1;var e=Al,t=Vc;Vc=0;var l=hs(ol),a=M.T,n=X.p;try{X.p=32>l?32:l,M.T=null,l=Kc,Kc=null;var i=Al,c=ol;if(Fe=0,Da=Al=null,ol=0,(Ae&6)!==0)throw Error(f(331));var u=Ae;if(Ae|=4,jd(i.current),vd(i,i.current,c,l),Ae=u,Mn(0,!1),et&&typeof et.onPostCommitFiberRoot=="function")try{et.onPostCommitFiberRoot(Ge,i)}catch{}return!0}finally{X.p=n,M.T=a,Yd(e,t)}}function Ld(e,t,l){t=Nt(l,t),t=_c(e.stateNode,t,2),e=Sl(e,t,2),e!==null&&(Ja(e,2),Vt(e))}function Ne(e,t,l){if(e.tag===3)Ld(e,e,l);else for(;t!==null;){if(t.tag===3){Ld(t,e,l);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(El===null||!El.has(a))){e=Nt(l,e),l=Qr(2),a=Sl(t,l,2),a!==null&&(Xr(l,a,t,e),Ja(a,2),Vt(a));break}}t=t.return}}function Fc(e,t,l){var a=e.pingCache;if(a===null){a=e.pingCache=new Dh;var n=new Set;a.set(t,n)}else n=a.get(t),n===void 0&&(n=new Set,a.set(t,n));n.has(l)||(Qc=!0,n.add(l),e=Hh.bind(null,e,t,l),t.then(e,e))}function Hh(e,t,l){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Ue===e&&(ve&l)===l&&(Qe===4||Qe===3&&(ve&62914560)===ve&&300>ot()-Ui?(Ae&2)===0&&ka(e,0):Xc|=l,Oa===ve&&(Oa=0)),Vt(e)}function Qd(e,t){t===0&&(t=wu()),e=Ll(e,t),e!==null&&(Ja(e,t),Vt(e))}function qh(e){var t=e.memoizedState,l=0;t!==null&&(l=t.retryLane),Qd(e,l)}function Yh(e,t){var l=0;switch(e.tag){case 31:case 13:var a=e.stateNode,n=e.memoizedState;n!==null&&(l=n.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(f(314))}a!==null&&a.delete(t),Qd(e,l)}function Gh(e,t){return Xa(e,t)}var Xi=null,wa=null,Ic=!1,Zi=!1,Pc=!1,Nl=0;function Vt(e){e!==wa&&e.next===null&&(wa===null?Xi=wa=e:wa=wa.next=e),Zi=!0,Ic||(Ic=!0,Qh())}function Mn(e,t){if(!Pc&&Zi){Pc=!0;do for(var l=!1,a=Xi;a!==null;){if(e!==0){var n=a.pendingLanes;if(n===0)var i=0;else{var c=a.suspendedLanes,u=a.pingedLanes;i=(1<<31-gt(42|e)+1)-1,i&=n&~(c&~u),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(l=!0,Kd(a,i))}else i=ve,i=$n(a,a===Ue?i:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(i&3)===0||Ka(a,i)||(l=!0,Kd(a,i));a=a.next}while(l);Pc=!1}}function Lh(){Xd()}function Xd(){Zi=Ic=!1;var e=0;Nl!==0&&Ph()&&(e=Nl);for(var t=ot(),l=null,a=Xi;a!==null;){var n=a.next,i=Zd(a,t);i===0?(a.next=null,l===null?Xi=n:l.next=n,n===null&&(wa=l)):(l=a,(e!==0||(i&3)!==0)&&(Zi=!0)),a=n}Fe!==0&&Fe!==5||Mn(e),Nl!==0&&(Nl=0)}function Zd(e,t){for(var l=e.suspendedLanes,a=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var c=31-gt(i),u=1<<c,h=n[c];h===-1?((u&l)===0||(u&a)!==0)&&(n[c]=mp(u,t)):h<=t&&(e.expiredLanes|=u),i&=~u}if(t=Ue,l=ve,l=$n(e,e===t?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,l===0||e===t&&(Me===2||Me===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Za(a),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||Ka(e,l)){if(t=l&-l,t===e.callbackPriority)return t;switch(a!==null&&Za(a),hs(l)){case 2:case 8:l=Zn;break;case 32:l=x;break;case 268435456:l=ye;break;default:l=x}return a=Vd.bind(null,e),l=Xa(l,a),e.callbackPriority=t,e.callbackNode=l,t}return a!==null&&a!==null&&Za(a),e.callbackPriority=2,e.callbackNode=null,2}function Vd(e,t){if(Fe!==0&&Fe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(Qi()&&e.callbackNode!==l)return null;var a=ve;return a=$n(e,e===Ue?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Ed(e,a,t),Zd(e,ot()),e.callbackNode!=null&&e.callbackNode===l?Vd.bind(null,e):null)}function Kd(e,t){if(Qi())return null;Ed(e,t,!0)}function Qh(){tm(function(){(Ae&6)!==0?Xa(Xn,Lh):Xd()})}function eu(){if(Nl===0){var e=Sa;e===0&&(e=Vn,Vn<<=1,(Vn&261888)===0&&(Vn=256)),Nl=e}return Nl}function Jd(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Pn(""+e)}function $d(e,t){var l=t.ownerDocument.createElement("input");return l.name=t.name,l.value=t.value,e.id&&l.setAttribute("form",e.id),t.parentNode.insertBefore(l,t),e=new FormData(e),l.parentNode.removeChild(l),e}function Xh(e,t,l,a,n){if(t==="submit"&&l&&l.stateNode===n){var i=Jd((n[dt]||null).action),c=a.submitter;c&&(t=(t=c[dt]||null)?Jd(t.formAction):c.getAttribute("formAction"),t!==null&&(i=t,c=null));var u=new ai("action","action",null,a,n);e.push({event:u,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Nl!==0){var h=c?$d(n,c):new FormData(n);bc(l,{pending:!0,data:h,method:n.method,action:i},null,h)}}else typeof i=="function"&&(u.preventDefault(),h=c?$d(n,c):new FormData(n),bc(l,{pending:!0,data:h,method:n.method,action:i},i,h))},currentTarget:n}]})}}for(var tu=0;tu<Us.length;tu++){var lu=Us[tu],Zh=lu.toLowerCase(),Vh=lu[0].toUpperCase()+lu.slice(1);Ht(Zh,"on"+Vh)}Ht(_o,"onAnimationEnd"),Ht(Eo,"onAnimationIteration"),Ht(Ao,"onAnimationStart"),Ht("dblclick","onDoubleClick"),Ht("focusin","onFocus"),Ht("focusout","onBlur"),Ht(uh,"onTransitionRun"),Ht(oh,"onTransitionStart"),Ht(rh,"onTransitionCancel"),Ht(Mo,"onTransitionEnd"),ca("onMouseEnter",["mouseout","mouseover"]),ca("onMouseLeave",["mouseout","mouseover"]),ca("onPointerEnter",["pointerout","pointerover"]),ca("onPointerLeave",["pointerout","pointerover"]),Hl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Hl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Hl("onBeforeInput",["compositionend","keypress","textInput","paste"]),Hl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Hl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Hl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kh=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nn));function Wd(e,t){t=(t&4)!==0;for(var l=0;l<e.length;l++){var a=e[l],n=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var c=a.length-1;0<=c;c--){var u=a[c],h=u.instance,j=u.currentTarget;if(u=u.listener,h!==i&&n.isPropagationStopped())break e;i=u,n.currentTarget=j;try{i(n)}catch(N){si(N)}n.currentTarget=null,i=h}else for(c=0;c<a.length;c++){if(u=a[c],h=u.instance,j=u.currentTarget,u=u.listener,h!==i&&n.isPropagationStopped())break e;i=u,n.currentTarget=j;try{i(n)}catch(N){si(N)}n.currentTarget=null,i=h}}}}function ge(e,t){var l=t[ms];l===void 0&&(l=t[ms]=new Set);var a=e+"__bubble";l.has(a)||(Fd(t,e,2,!1),l.add(a))}function au(e,t,l){var a=0;t&&(a|=4),Fd(l,e,a,t)}var Vi="_reactListening"+Math.random().toString(36).slice(2);function nu(e){if(!e[Vi]){e[Vi]=!0,Qu.forEach(function(l){l!=="selectionchange"&&(Kh.has(l)||au(l,!1,e),au(l,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Vi]||(t[Vi]=!0,au("selectionchange",!1,t))}}function Fd(e,t,l,a){switch(Ef(t)){case 2:var n=Sm;break;case 8:n=jm;break;default:n=vu}l=n.bind(null,t,l,e),n=void 0,!Ts||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),a?n!==void 0?e.addEventListener(t,l,{capture:!0,passive:n}):e.addEventListener(t,l,!0):n!==void 0?e.addEventListener(t,l,{passive:n}):e.addEventListener(t,l,!1)}function iu(e,t,l,a,n){var i=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var c=a.tag;if(c===3||c===4){var u=a.stateNode.containerInfo;if(u===n)break;if(c===4)for(c=a.return;c!==null;){var h=c.tag;if((h===3||h===4)&&c.stateNode.containerInfo===n)return;c=c.return}for(;u!==null;){if(c=na(u),c===null)return;if(h=c.tag,h===5||h===6||h===26||h===27){a=i=c;continue e}u=u.parentNode}}a=a.return}to(function(){var j=i,N=js(l),k=[];e:{var T=No.get(e);if(T!==void 0){var E=ai,P=e;switch(e){case"keypress":if(ti(l)===0)break e;case"keydown":case"keyup":E=Yp;break;case"focusin":P="focus",E=As;break;case"focusout":P="blur",E=As;break;case"beforeblur":case"afterblur":E=As;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=no;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=Ap;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=Qp;break;case _o:case Eo:case Ao:E=Rp;break;case Mo:E=Zp;break;case"scroll":case"scrollend":E=_p;break;case"wheel":E=Kp;break;case"copy":case"cut":case"paste":E=Dp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=so;break;case"toggle":case"beforetoggle":E=$p}var oe=(t&4)!==0,we=!oe&&(e==="scroll"||e==="scrollend"),g=oe?T!==null?T+"Capture":null:T;oe=[];for(var m=j,S;m!==null;){var O=m;if(S=O.stateNode,O=O.tag,O!==5&&O!==26&&O!==27||S===null||g===null||(O=Fa(m,g),O!=null&&oe.push(Rn(m,O,S))),we)break;m=m.return}0<oe.length&&(T=new E(T,P,null,l,N),k.push({event:T,listeners:oe}))}}if((t&7)===0){e:{if(T=e==="mouseover"||e==="pointerover",E=e==="mouseout"||e==="pointerout",T&&l!==Ss&&(P=l.relatedTarget||l.fromElement)&&(na(P)||P[aa]))break e;if((E||T)&&(T=N.window===N?N:(T=N.ownerDocument)?T.defaultView||T.parentWindow:window,E?(P=l.relatedTarget||l.toElement,E=j,P=P?na(P):null,P!==null&&(we=p(P),oe=P.tag,P!==we||oe!==5&&oe!==27&&oe!==6)&&(P=null)):(E=null,P=j),E!==P)){if(oe=no,O="onMouseLeave",g="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(oe=so,O="onPointerLeave",g="onPointerEnter",m="pointer"),we=E==null?T:Wa(E),S=P==null?T:Wa(P),T=new oe(O,m+"leave",E,l,N),T.target=we,T.relatedTarget=S,O=null,na(N)===j&&(oe=new oe(g,m+"enter",P,l,N),oe.target=S,oe.relatedTarget=we,O=oe),we=O,E&&P)t:{for(oe=Jh,g=E,m=P,S=0,O=g;O;O=oe(O))S++;O=0;for(var ie=m;ie;ie=oe(ie))O++;for(;0<S-O;)g=oe(g),S--;for(;0<O-S;)m=oe(m),O--;for(;S--;){if(g===m||m!==null&&g===m.alternate){oe=g;break t}g=oe(g),m=oe(m)}oe=null}else oe=null;E!==null&&Id(k,T,E,oe,!1),P!==null&&we!==null&&Id(k,we,P,oe,!0)}}e:{if(T=j?Wa(j):window,E=T.nodeName&&T.nodeName.toLowerCase(),E==="select"||E==="input"&&T.type==="file")var _e=mo;else if(po(T))if(yo)_e=ih;else{_e=ah;var te=lh}else E=T.nodeName,!E||E.toLowerCase()!=="input"||T.type!=="checkbox"&&T.type!=="radio"?j&&bs(j.elementType)&&(_e=mo):_e=nh;if(_e&&(_e=_e(e,j))){ho(k,_e,l,N);break e}te&&te(e,T,j),e==="focusout"&&j&&T.type==="number"&&j.memoizedProps.value!=null&&vs(T,"number",T.value)}switch(te=j?Wa(j):window,e){case"focusin":(po(te)||te.contentEditable==="true")&&(pa=te,ks=j,sn=null);break;case"focusout":sn=ks=pa=null;break;case"mousedown":Bs=!0;break;case"contextmenu":case"mouseup":case"dragend":Bs=!1,To(k,l,N);break;case"selectionchange":if(ch)break;case"keydown":case"keyup":To(k,l,N)}var pe;if(Ns)e:{switch(e){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else fa?ro(e,l)&&(be="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(be="onCompositionStart");be&&(co&&l.locale!=="ko"&&(fa||be!=="onCompositionStart"?be==="onCompositionEnd"&&fa&&(pe=lo()):(hl=N,Cs="value"in hl?hl.value:hl.textContent,fa=!0)),te=Ki(j,be),0<te.length&&(be=new io(be,e,null,l,N),k.push({event:be,listeners:te}),pe?be.data=pe:(pe=fo(l),pe!==null&&(be.data=pe)))),(pe=Fp?Ip(e,l):Pp(e,l))&&(be=Ki(j,"onBeforeInput"),0<be.length&&(te=new io("onBeforeInput","beforeinput",null,l,N),k.push({event:te,listeners:be}),te.data=pe)),Xh(k,e,j,l,N)}Wd(k,t)})}function Rn(e,t,l){return{instance:e,listener:t,currentTarget:l}}function Ki(e,t){for(var l=t+"Capture",a=[];e!==null;){var n=e,i=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||i===null||(n=Fa(e,l),n!=null&&a.unshift(Rn(e,n,i)),n=Fa(e,t),n!=null&&a.push(Rn(e,n,i))),e.tag===3)return a;e=e.return}return[]}function Jh(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Id(e,t,l,a,n){for(var i=t._reactName,c=[];l!==null&&l!==a;){var u=l,h=u.alternate,j=u.stateNode;if(u=u.tag,h!==null&&h===a)break;u!==5&&u!==26&&u!==27||j===null||(h=j,n?(j=Fa(l,i),j!=null&&c.unshift(Rn(l,j,h))):n||(j=Fa(l,i),j!=null&&c.push(Rn(l,j,h)))),l=l.return}c.length!==0&&e.push({event:t,listeners:c})}var $h=/\r\n?/g,Wh=/\u0000|\uFFFD/g;function Pd(e){return(typeof e=="string"?e:""+e).replace($h,`
`).replace(Wh,"")}function ef(e,t){return t=Pd(t),Pd(e)===t}function Be(e,t,l,a,n,i){switch(l){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||oa(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&oa(e,""+a);break;case"className":Fn(e,"class",a);break;case"tabIndex":Fn(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Fn(e,l,a);break;case"style":Pu(e,a,i);break;case"data":if(t!=="object"){Fn(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||l!=="href")){e.removeAttribute(l);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=Pn(""+a),e.setAttribute(l,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(l==="formAction"?(t!=="input"&&Be(e,t,"name",n.name,n,null),Be(e,t,"formEncType",n.formEncType,n,null),Be(e,t,"formMethod",n.formMethod,n,null),Be(e,t,"formTarget",n.formTarget,n,null)):(Be(e,t,"encType",n.encType,n,null),Be(e,t,"method",n.method,n,null),Be(e,t,"target",n.target,n,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=Pn(""+a),e.setAttribute(l,a);break;case"onClick":a!=null&&(e.onclick=Jt);break;case"onScroll":a!=null&&ge("scroll",e);break;case"onScrollEnd":a!=null&&ge("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(f(61));if(l=a.__html,l!=null){if(n.children!=null)throw Error(f(60));e.innerHTML=l}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}l=Pn(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""+a):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":a===!0?e.setAttribute(l,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,a):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(l,a):e.removeAttribute(l);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(l):e.setAttribute(l,a);break;case"popover":ge("beforetoggle",e),ge("toggle",e),Wn(e,"popover",a);break;case"xlinkActuate":Kt(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Kt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Kt(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Kt(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Kt(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Kt(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Kt(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Kt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Kt(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Wn(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Tp.get(l)||l,Wn(e,l,a))}}function su(e,t,l,a,n,i){switch(l){case"style":Pu(e,a,i);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(f(61));if(l=a.__html,l!=null){if(n.children!=null)throw Error(f(60));e.innerHTML=l}}break;case"children":typeof a=="string"?oa(e,a):(typeof a=="number"||typeof a=="bigint")&&oa(e,""+a);break;case"onScroll":a!=null&&ge("scroll",e);break;case"onScrollEnd":a!=null&&ge("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Jt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xu.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(n=l.endsWith("Capture"),t=l.slice(2,n?l.length-7:void 0),i=e[dt]||null,i=i!=null?i[l]:null,typeof i=="function"&&e.removeEventListener(t,i,n),typeof a=="function")){typeof i!="function"&&i!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(t,a,n);break e}l in e?e[l]=a:a===!0?e.setAttribute(l,""):Wn(e,l,a)}}}function it(e,t,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ge("error",e),ge("load",e);var a=!1,n=!1,i;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];if(c!=null)switch(i){case"src":a=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(f(137,t));default:Be(e,t,i,c,l,null)}}n&&Be(e,t,"srcSet",l.srcSet,l,null),a&&Be(e,t,"src",l.src,l,null);return;case"input":ge("invalid",e);var u=i=c=n=null,h=null,j=null;for(a in l)if(l.hasOwnProperty(a)){var N=l[a];if(N!=null)switch(a){case"name":n=N;break;case"type":c=N;break;case"checked":h=N;break;case"defaultChecked":j=N;break;case"value":i=N;break;case"defaultValue":u=N;break;case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(f(137,t));break;default:Be(e,t,a,N,l,null)}}$u(e,i,u,h,j,c,n,!1);return;case"select":ge("invalid",e),a=c=i=null;for(n in l)if(l.hasOwnProperty(n)&&(u=l[n],u!=null))switch(n){case"value":i=u;break;case"defaultValue":c=u;break;case"multiple":a=u;default:Be(e,t,n,u,l,null)}t=i,l=c,e.multiple=!!a,t!=null?ua(e,!!a,t,!1):l!=null&&ua(e,!!a,l,!0);return;case"textarea":ge("invalid",e),i=n=a=null;for(c in l)if(l.hasOwnProperty(c)&&(u=l[c],u!=null))switch(c){case"value":a=u;break;case"defaultValue":n=u;break;case"children":i=u;break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(f(91));break;default:Be(e,t,c,u,l,null)}Fu(e,a,n,i);return;case"option":for(h in l)if(l.hasOwnProperty(h)&&(a=l[h],a!=null))switch(h){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Be(e,t,h,a,l,null)}return;case"dialog":ge("beforetoggle",e),ge("toggle",e),ge("cancel",e),ge("close",e);break;case"iframe":case"object":ge("load",e);break;case"video":case"audio":for(a=0;a<Nn.length;a++)ge(Nn[a],e);break;case"image":ge("error",e),ge("load",e);break;case"details":ge("toggle",e);break;case"embed":case"source":case"link":ge("error",e),ge("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in l)if(l.hasOwnProperty(j)&&(a=l[j],a!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(f(137,t));default:Be(e,t,j,a,l,null)}return;default:if(bs(t)){for(N in l)l.hasOwnProperty(N)&&(a=l[N],a!==void 0&&su(e,t,N,a,l,void 0));return}}for(u in l)l.hasOwnProperty(u)&&(a=l[u],a!=null&&Be(e,t,u,a,l,null))}function Fh(e,t,l,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,i=null,c=null,u=null,h=null,j=null,N=null;for(E in l){var k=l[E];if(l.hasOwnProperty(E)&&k!=null)switch(E){case"checked":break;case"value":break;case"defaultValue":h=k;default:a.hasOwnProperty(E)||Be(e,t,E,null,a,k)}}for(var T in a){var E=a[T];if(k=l[T],a.hasOwnProperty(T)&&(E!=null||k!=null))switch(T){case"type":i=E;break;case"name":n=E;break;case"checked":j=E;break;case"defaultChecked":N=E;break;case"value":c=E;break;case"defaultValue":u=E;break;case"children":case"dangerouslySetInnerHTML":if(E!=null)throw Error(f(137,t));break;default:E!==k&&Be(e,t,T,E,a,k)}}gs(e,c,u,h,j,N,i,n);return;case"select":E=c=u=T=null;for(i in l)if(h=l[i],l.hasOwnProperty(i)&&h!=null)switch(i){case"value":break;case"multiple":E=h;default:a.hasOwnProperty(i)||Be(e,t,i,null,a,h)}for(n in a)if(i=a[n],h=l[n],a.hasOwnProperty(n)&&(i!=null||h!=null))switch(n){case"value":T=i;break;case"defaultValue":u=i;break;case"multiple":c=i;default:i!==h&&Be(e,t,n,i,a,h)}t=u,l=c,a=E,T!=null?ua(e,!!l,T,!1):!!a!=!!l&&(t!=null?ua(e,!!l,t,!0):ua(e,!!l,l?[]:"",!1));return;case"textarea":E=T=null;for(u in l)if(n=l[u],l.hasOwnProperty(u)&&n!=null&&!a.hasOwnProperty(u))switch(u){case"value":break;case"children":break;default:Be(e,t,u,null,a,n)}for(c in a)if(n=a[c],i=l[c],a.hasOwnProperty(c)&&(n!=null||i!=null))switch(c){case"value":T=n;break;case"defaultValue":E=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(f(91));break;default:n!==i&&Be(e,t,c,n,a,i)}Wu(e,T,E);return;case"option":for(var P in l)if(T=l[P],l.hasOwnProperty(P)&&T!=null&&!a.hasOwnProperty(P))switch(P){case"selected":e.selected=!1;break;default:Be(e,t,P,null,a,T)}for(h in a)if(T=a[h],E=l[h],a.hasOwnProperty(h)&&T!==E&&(T!=null||E!=null))switch(h){case"selected":e.selected=T&&typeof T!="function"&&typeof T!="symbol";break;default:Be(e,t,h,T,a,E)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var oe in l)T=l[oe],l.hasOwnProperty(oe)&&T!=null&&!a.hasOwnProperty(oe)&&Be(e,t,oe,null,a,T);for(j in a)if(T=a[j],E=l[j],a.hasOwnProperty(j)&&T!==E&&(T!=null||E!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(T!=null)throw Error(f(137,t));break;default:Be(e,t,j,T,a,E)}return;default:if(bs(t)){for(var we in l)T=l[we],l.hasOwnProperty(we)&&T!==void 0&&!a.hasOwnProperty(we)&&su(e,t,we,void 0,a,T);for(N in a)T=a[N],E=l[N],!a.hasOwnProperty(N)||T===E||T===void 0&&E===void 0||su(e,t,N,T,a,E);return}}for(var g in l)T=l[g],l.hasOwnProperty(g)&&T!=null&&!a.hasOwnProperty(g)&&Be(e,t,g,null,a,T);for(k in a)T=a[k],E=l[k],!a.hasOwnProperty(k)||T===E||T==null&&E==null||Be(e,t,k,T,a,E)}function tf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ih(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,l=performance.getEntriesByType("resource"),a=0;a<l.length;a++){var n=l[a],i=n.transferSize,c=n.initiatorType,u=n.duration;if(i&&u&&tf(c)){for(c=0,u=n.responseEnd,a+=1;a<l.length;a++){var h=l[a],j=h.startTime;if(j>u)break;var N=h.transferSize,k=h.initiatorType;N&&tf(k)&&(h=h.responseEnd,c+=N*(h<u?1:(u-j)/(h-j)))}if(--a,t+=8*(i+c)/(n.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var cu=null,uu=null;function Ji(e){return e.nodeType===9?e:e.ownerDocument}function lf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function af(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function ou(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ru=null;function Ph(){var e=window.event;return e&&e.type==="popstate"?e===ru?!1:(ru=e,!0):(ru=null,!1)}var nf=typeof setTimeout=="function"?setTimeout:void 0,em=typeof clearTimeout=="function"?clearTimeout:void 0,sf=typeof Promise=="function"?Promise:void 0,tm=typeof queueMicrotask=="function"?queueMicrotask:typeof sf<"u"?function(e){return sf.resolve(null).then(e).catch(lm)}:nf;function lm(e){setTimeout(function(){throw e})}function Rl(e){return e==="head"}function cf(e,t){var l=t,a=0;do{var n=l.nextSibling;if(e.removeChild(l),n&&n.nodeType===8)if(l=n.data,l==="/$"||l==="/&"){if(a===0){e.removeChild(n),Ya(t);return}a--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")a++;else if(l==="html")On(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,On(l);for(var i=l.firstChild;i;){var c=i.nextSibling,u=i.nodeName;i[$a]||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&i.rel.toLowerCase()==="stylesheet"||l.removeChild(i),i=c}}else l==="body"&&On(e.ownerDocument.body);l=n}while(l);Ya(t)}function uf(e,t){var l=e;e=0;do{var a=l.nextSibling;if(l.nodeType===1?t?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(t?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),a&&a.nodeType===8)if(l=a.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=a}while(l)}function du(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var l=t;switch(t=t.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":du(l),ys(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function am(e,t,l,a){for(;e.nodeType===1;){var n=l;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[$a])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=Bt(e.nextSibling),e===null)break}return null}function nm(e,t,l){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=Bt(e.nextSibling),e===null))return null;return e}function of(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Bt(e.nextSibling),e===null))return null;return e}function fu(e){return e.data==="$?"||e.data==="$~"}function pu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function im(e,t){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||l.readyState!=="loading")t();else{var a=function(){t(),l.removeEventListener("DOMContentLoaded",a)};l.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Bt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var hu=null;function rf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(t===0)return Bt(e.nextSibling);t--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||t++}e=e.nextSibling}return null}function df(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(t===0)return e;t--}else l!=="/$"&&l!=="/&"||t++}e=e.previousSibling}return null}function ff(e,t,l){switch(t=Ji(l),e){case"html":if(e=t.documentElement,!e)throw Error(f(452));return e;case"head":if(e=t.head,!e)throw Error(f(453));return e;case"body":if(e=t.body,!e)throw Error(f(454));return e;default:throw Error(f(451))}}function On(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ys(e)}var wt=new Map,pf=new Set;function $i(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var rl=X.d;X.d={f:sm,r:cm,D:um,C:om,L:rm,m:dm,X:pm,S:fm,M:hm};function sm(){var e=rl.f(),t=Yi();return e||t}function cm(e){var t=ia(e);t!==null&&t.tag===5&&t.type==="form"?Mr(t):rl.r(e)}var Ua=typeof document>"u"?null:document;function hf(e,t,l){var a=Ua;if(a&&typeof t=="string"&&t){var n=At(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof l=="string"&&(n+='[crossorigin="'+l+'"]'),pf.has(n)||(pf.add(n),e={rel:e,crossOrigin:l,href:t},a.querySelector(n)===null&&(t=a.createElement("link"),it(t,"link",e),Ie(t),a.head.appendChild(t)))}}function um(e){rl.D(e),hf("dns-prefetch",e,null)}function om(e,t){rl.C(e,t),hf("preconnect",e,t)}function rm(e,t,l){rl.L(e,t,l);var a=Ua;if(a&&e&&t){var n='link[rel="preload"][as="'+At(t)+'"]';t==="image"&&l&&l.imageSrcSet?(n+='[imagesrcset="'+At(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(n+='[imagesizes="'+At(l.imageSizes)+'"]')):n+='[href="'+At(e)+'"]';var i=n;switch(t){case"style":i=Ha(e);break;case"script":i=qa(e)}wt.has(i)||(e=U({rel:"preload",href:t==="image"&&l&&l.imageSrcSet?void 0:e,as:t},l),wt.set(i,e),a.querySelector(n)!==null||t==="style"&&a.querySelector(Dn(i))||t==="script"&&a.querySelector(kn(i))||(t=a.createElement("link"),it(t,"link",e),Ie(t),a.head.appendChild(t)))}}function dm(e,t){rl.m(e,t);var l=Ua;if(l&&e){var a=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+At(a)+'"][href="'+At(e)+'"]',i=n;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=qa(e)}if(!wt.has(i)&&(e=U({rel:"modulepreload",href:e},t),wt.set(i,e),l.querySelector(n)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(kn(i)))return}a=l.createElement("link"),it(a,"link",e),Ie(a),l.head.appendChild(a)}}}function fm(e,t,l){rl.S(e,t,l);var a=Ua;if(a&&e){var n=sa(a).hoistableStyles,i=Ha(e);t=t||"default";var c=n.get(i);if(!c){var u={loading:0,preload:null};if(c=a.querySelector(Dn(i)))u.loading=5;else{e=U({rel:"stylesheet",href:e,"data-precedence":t},l),(l=wt.get(i))&&mu(e,l);var h=c=a.createElement("link");Ie(h),it(h,"link",e),h._p=new Promise(function(j,N){h.onload=j,h.onerror=N}),h.addEventListener("load",function(){u.loading|=1}),h.addEventListener("error",function(){u.loading|=2}),u.loading|=4,Wi(c,t,a)}c={type:"stylesheet",instance:c,count:1,state:u},n.set(i,c)}}}function pm(e,t){rl.X(e,t);var l=Ua;if(l&&e){var a=sa(l).hoistableScripts,n=qa(e),i=a.get(n);i||(i=l.querySelector(kn(n)),i||(e=U({src:e,async:!0},t),(t=wt.get(n))&&yu(e,t),i=l.createElement("script"),Ie(i),it(i,"link",e),l.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(n,i))}}function hm(e,t){rl.M(e,t);var l=Ua;if(l&&e){var a=sa(l).hoistableScripts,n=qa(e),i=a.get(n);i||(i=l.querySelector(kn(n)),i||(e=U({src:e,async:!0,type:"module"},t),(t=wt.get(n))&&yu(e,t),i=l.createElement("script"),Ie(i),it(i,"link",e),l.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(n,i))}}function mf(e,t,l,a){var n=(n=W.current)?$i(n):null;if(!n)throw Error(f(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(t=Ha(l.href),l=sa(n).hoistableStyles,a=l.get(t),a||(a={type:"style",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=Ha(l.href);var i=sa(n).hoistableStyles,c=i.get(e);if(c||(n=n.ownerDocument||n,c={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,c),(i=n.querySelector(Dn(e)))&&!i._p&&(c.instance=i,c.state.loading=5),wt.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},wt.set(e,l),i||mm(n,e,l,c.state))),t&&a===null)throw Error(f(528,""));return c}if(t&&a!==null)throw Error(f(529,""));return null;case"script":return t=l.async,l=l.src,typeof l=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=qa(l),l=sa(n).hoistableScripts,a=l.get(t),a||(a={type:"script",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(f(444,e))}}function Ha(e){return'href="'+At(e)+'"'}function Dn(e){return'link[rel="stylesheet"]['+e+"]"}function yf(e){return U({},e,{"data-precedence":e.precedence,precedence:null})}function mm(e,t,l,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),it(t,"link",l),Ie(t),e.head.appendChild(t))}function qa(e){return'[src="'+At(e)+'"]'}function kn(e){return"script[async]"+e}function xf(e,t,l){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+At(l.href)+'"]');if(a)return t.instance=a,Ie(a),a;var n=U({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Ie(a),it(a,"style",n),Wi(a,l.precedence,e),t.instance=a;case"stylesheet":n=Ha(l.href);var i=e.querySelector(Dn(n));if(i)return t.state.loading|=4,t.instance=i,Ie(i),i;a=yf(l),(n=wt.get(n))&&mu(a,n),i=(e.ownerDocument||e).createElement("link"),Ie(i);var c=i;return c._p=new Promise(function(u,h){c.onload=u,c.onerror=h}),it(i,"link",a),t.state.loading|=4,Wi(i,l.precedence,e),t.instance=i;case"script":return i=qa(l.src),(n=e.querySelector(kn(i)))?(t.instance=n,Ie(n),n):(a=l,(n=wt.get(i))&&(a=U({},l),yu(a,n)),e=e.ownerDocument||e,n=e.createElement("script"),Ie(n),it(n,"link",a),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(f(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,Wi(a,l.precedence,e));return t.instance}function Wi(e,t,l){for(var a=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=a.length?a[a.length-1]:null,i=n,c=0;c<a.length;c++){var u=a[c];if(u.dataset.precedence===t)i=u;else if(i!==n)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=l.nodeType===9?l.head:l,t.insertBefore(e,t.firstChild))}function mu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function yu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Fi=null;function gf(e,t,l){if(Fi===null){var a=new Map,n=Fi=new Map;n.set(l,a)}else n=Fi,a=n.get(l),a||(a=new Map,n.set(l,a));if(a.has(e))return a;for(a.set(e,null),l=l.getElementsByTagName(e),n=0;n<l.length;n++){var i=l[n];if(!(i[$a]||i[tt]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var c=i.getAttribute(t)||"";c=e+c;var u=a.get(c);u?u.push(i):a.set(c,[i])}}return a}function vf(e,t,l){e=e.ownerDocument||e,e.head.insertBefore(l,t==="title"?e.querySelector("head > title"):null)}function ym(e,t,l){if(l===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function bf(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function xm(e,t,l,a){if(l.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var n=Ha(a.href),i=t.querySelector(Dn(n));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Ii.bind(e),t.then(e,e)),l.state.loading|=4,l.instance=i,Ie(i);return}i=t.ownerDocument||t,a=yf(a),(n=wt.get(n))&&mu(a,n),i=i.createElement("link"),Ie(i);var c=i;c._p=new Promise(function(u,h){c.onload=u,c.onerror=h}),it(i,"link",a),l.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,t),(t=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=Ii.bind(e),t.addEventListener("load",l),t.addEventListener("error",l))}}var xu=0;function gm(e,t){return e.stylesheets&&e.count===0&&es(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var a=setTimeout(function(){if(e.stylesheets&&es(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&xu===0&&(xu=62500*Ih());var n=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&es(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>xu?50:800)+t);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(n)}}:null}function Ii(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)es(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Pi=null;function es(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Pi=new Map,t.forEach(vm,e),Pi=null,Ii.call(e))}function vm(e,t){if(!(t.state.loading&4)){var l=Pi.get(e);if(l)var a=l.get(null);else{l=new Map,Pi.set(e,l);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<n.length;i++){var c=n[i];(c.nodeName==="LINK"||c.getAttribute("media")!=="not all")&&(l.set(c.dataset.precedence,c),a=c)}a&&l.set(null,a)}n=t.instance,c=n.getAttribute("data-precedence"),i=l.get(c)||a,i===a&&l.set(null,n),l.set(c,n),this.count++,a=Ii.bind(this),n.addEventListener("load",a),n.addEventListener("error",a),i?i.parentNode.insertBefore(n,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var Bn={$$typeof:ae,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function bm(e,t,l,a,n,i,c,u,h){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fs(0),this.hiddenUpdates=fs(null),this.identifierPrefix=a,this.onUncaughtError=n,this.onCaughtError=i,this.onRecoverableError=c,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=h,this.incompleteTransitions=new Map}function Sf(e,t,l,a,n,i,c,u,h,j,N,k){return e=new bm(e,t,l,c,h,j,N,k,u),t=1,i===!0&&(t|=24),i=bt(3,null,null,t),e.current=i,i.stateNode=e,t=Ws(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:a,isDehydrated:l,cache:t},ec(i),e}function jf(e){return e?(e=ya,e):ya}function zf(e,t,l,a,n,i){n=jf(n),a.context===null?a.context=n:a.pendingContext=n,a=bl(t),a.payload={element:l},i=i===void 0?null:i,i!==null&&(a.callback=i),l=Sl(e,a,t),l!==null&&(xt(l,e,t),pn(l,e,t))}function Tf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<t?l:t}}function gu(e,t){Tf(e,t),(e=e.alternate)&&Tf(e,t)}function Cf(e){if(e.tag===13||e.tag===31){var t=Ll(e,67108864);t!==null&&xt(t,e,67108864),gu(e,67108864)}}function _f(e){if(e.tag===13||e.tag===31){var t=Ct();t=ps(t);var l=Ll(e,t);l!==null&&xt(l,e,t),gu(e,t)}}var ts=!0;function Sm(e,t,l,a){var n=M.T;M.T=null;var i=X.p;try{X.p=2,vu(e,t,l,a)}finally{X.p=i,M.T=n}}function jm(e,t,l,a){var n=M.T;M.T=null;var i=X.p;try{X.p=8,vu(e,t,l,a)}finally{X.p=i,M.T=n}}function vu(e,t,l,a){if(ts){var n=bu(a);if(n===null)iu(e,t,a,ls,l),Af(e,a);else if(Tm(n,e,t,l,a))a.stopPropagation();else if(Af(e,a),t&4&&-1<zm.indexOf(e)){for(;n!==null;){var i=ia(n);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var c=Ul(i.pendingLanes);if(c!==0){var u=i;for(u.pendingLanes|=2,u.entangledLanes|=2;c;){var h=1<<31-gt(c);u.entanglements[1]|=h,c&=~h}Vt(i),(Ae&6)===0&&(Hi=ot()+500,Mn(0))}}break;case 31:case 13:u=Ll(i,2),u!==null&&xt(u,i,2),Yi(),gu(i,2)}if(i=bu(a),i===null&&iu(e,t,a,ls,l),i===n)break;n=i}n!==null&&a.stopPropagation()}else iu(e,t,a,null,l)}}function bu(e){return e=js(e),Su(e)}var ls=null;function Su(e){if(ls=null,e=na(e),e!==null){var t=p(e);if(t===null)e=null;else{var l=t.tag;if(l===13){if(e=C(t),e!==null)return e;e=null}else if(l===31){if(e=w(t),e!==null)return e;e=null}else if(l===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ls=e,null}function Ef(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Va()){case Xn:return 2;case Zn:return 8;case x:case I:return 32;case ye:return 268435456;default:return 32}default:return 32}}var ju=!1,Ol=null,Dl=null,kl=null,wn=new Map,Un=new Map,Bl=[],zm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Af(e,t){switch(e){case"focusin":case"focusout":Ol=null;break;case"dragenter":case"dragleave":Dl=null;break;case"mouseover":case"mouseout":kl=null;break;case"pointerover":case"pointerout":wn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Un.delete(t.pointerId)}}function Hn(e,t,l,a,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:l,eventSystemFlags:a,nativeEvent:i,targetContainers:[n]},t!==null&&(t=ia(t),t!==null&&Cf(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function Tm(e,t,l,a,n){switch(t){case"focusin":return Ol=Hn(Ol,e,t,l,a,n),!0;case"dragenter":return Dl=Hn(Dl,e,t,l,a,n),!0;case"mouseover":return kl=Hn(kl,e,t,l,a,n),!0;case"pointerover":var i=n.pointerId;return wn.set(i,Hn(wn.get(i)||null,e,t,l,a,n)),!0;case"gotpointercapture":return i=n.pointerId,Un.set(i,Hn(Un.get(i)||null,e,t,l,a,n)),!0}return!1}function Mf(e){var t=na(e.target);if(t!==null){var l=p(t);if(l!==null){if(t=l.tag,t===13){if(t=C(l),t!==null){e.blockedOn=t,Gu(e.priority,function(){_f(l)});return}}else if(t===31){if(t=w(l),t!==null){e.blockedOn=t,Gu(e.priority,function(){_f(l)});return}}else if(t===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function as(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var l=bu(e.nativeEvent);if(l===null){l=e.nativeEvent;var a=new l.constructor(l.type,l);Ss=a,l.target.dispatchEvent(a),Ss=null}else return t=ia(l),t!==null&&Cf(t),e.blockedOn=l,!1;t.shift()}return!0}function Nf(e,t,l){as(e)&&l.delete(t)}function Cm(){ju=!1,Ol!==null&&as(Ol)&&(Ol=null),Dl!==null&&as(Dl)&&(Dl=null),kl!==null&&as(kl)&&(kl=null),wn.forEach(Nf),Un.forEach(Nf)}function ns(e,t){e.blockedOn===t&&(e.blockedOn=null,ju||(ju=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Cm)))}var is=null;function Rf(e){is!==e&&(is=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){is===e&&(is=null);for(var t=0;t<e.length;t+=3){var l=e[t],a=e[t+1],n=e[t+2];if(typeof a!="function"){if(Su(a||l)===null)continue;break}var i=ia(l);i!==null&&(e.splice(t,3),t-=3,bc(i,{pending:!0,data:n,method:l.method,action:a},a,n))}}))}function Ya(e){function t(h){return ns(h,e)}Ol!==null&&ns(Ol,e),Dl!==null&&ns(Dl,e),kl!==null&&ns(kl,e),wn.forEach(t),Un.forEach(t);for(var l=0;l<Bl.length;l++){var a=Bl[l];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Bl.length&&(l=Bl[0],l.blockedOn===null);)Mf(l),l.blockedOn===null&&Bl.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(a=0;a<l.length;a+=3){var n=l[a],i=l[a+1],c=n[dt]||null;if(typeof i=="function")c||Rf(l);else if(c){var u=null;if(i&&i.hasAttribute("formAction")){if(n=i,c=i[dt]||null)u=c.formAction;else if(Su(n)!==null)continue}else u=c.action;typeof u=="function"?l[a+1]=u:(l.splice(a,3),a-=3),Rf(l)}}}function Of(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(c){return n=c})},focusReset:"manual",scroll:"manual"})}function t(){n!==null&&(n(),n=null),a||setTimeout(l,20)}function l(){if(!a&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,n=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(l,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),n!==null&&(n(),n=null)}}}function zu(e){this._internalRoot=e}ss.prototype.render=zu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(f(409));var l=t.current,a=Ct();zf(l,a,e,t,null,null)},ss.prototype.unmount=zu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;zf(e.current,2,null,e,null,null),Yi(),t[aa]=null}};function ss(e){this._internalRoot=e}ss.prototype.unstable_scheduleHydration=function(e){if(e){var t=Yu();e={blockedOn:null,target:e,priority:t};for(var l=0;l<Bl.length&&t!==0&&t<Bl[l].priority;l++);Bl.splice(l,0,e),l===0&&Mf(e)}};var Df=z.version;if(Df!=="19.2.4")throw Error(f(527,Df,"19.2.4"));X.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(f(188)):(e=Object.keys(e).join(","),Error(f(268,e)));return e=v(t),e=e!==null?G(e):null,e=e===null?null:e.stateNode,e};var _m={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cs.isDisabled&&cs.supportsFiber)try{Ge=cs.inject(_m),et=cs}catch{}}return Yn.createRoot=function(e,t){if(!y(e))throw Error(f(299));var l=!1,a="",n=qr,i=Yr,c=Gr;return t!=null&&(t.unstable_strictMode===!0&&(l=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=Sf(e,1,!1,null,null,l,a,null,n,i,c,Of),e[aa]=t.current,nu(e),new zu(t)},Yn.hydrateRoot=function(e,t,l){if(!y(e))throw Error(f(299));var a=!1,n="",i=qr,c=Yr,u=Gr,h=null;return l!=null&&(l.unstable_strictMode===!0&&(a=!0),l.identifierPrefix!==void 0&&(n=l.identifierPrefix),l.onUncaughtError!==void 0&&(i=l.onUncaughtError),l.onCaughtError!==void 0&&(c=l.onCaughtError),l.onRecoverableError!==void 0&&(u=l.onRecoverableError),l.formState!==void 0&&(h=l.formState)),t=Sf(e,1,!0,t,l??null,a,n,h,i,c,u,Of),t.context=jf(null),l=t.current,a=Ct(),a=ps(a),n=bl(a),n.callback=null,Sl(l,n,a),l=a,t.current.lanes=l,Ja(t,l),Vt(t),e[aa]=t.current,nu(e),new ss(t)},Yn.version="19.2.4",Yn}var Qf;function Um(){if(Qf)return _u.exports;Qf=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(z){console.error(z)}}return r(),_u.exports=wm(),_u.exports}var Hm=Um();function qm({contacts:r,activeId:z,onSelect:B,engineState:f={}}){return s.jsx(s.Fragment,{children:r.map(y=>{const p=f[y.id],C=p!=null&&p.countdownMs?Math.ceil(p.countdownMs/1e3):null;return s.jsxs("div",{className:`contact-item ${z===y.id?"active":""}`,onClick:()=>B(y.id),children:[s.jsxs("div",{className:"contact-avatar",style:{position:"relative"},children:[s.jsx("img",{src:y.avatar,alt:y.name}),s.jsx("div",{className:`autopulse-status-dot ${p!=null&&p.isThinking?"thinking":"connected"}`})]}),s.jsxs("div",{className:"contact-info",children:[s.jsxs("div",{className:"contact-header",children:[s.jsx("span",{className:"contact-name",children:y.name}),s.jsx("span",{className:"contact-time",style:{color:C?p!=null&&p.isThinking?"#ff9800":"var(--accent-color)":void 0,fontWeight:C?"bold":"normal"},children:C?p!=null&&p.isThinking?"...":` ${C}s`:y.time})]}),s.jsxs("div",{className:"contact-last-msg",children:[y.lastMessage,y.unread>0&&s.jsx("span",{className:"unread-badge",children:y.unread}),(p==null?void 0:p.isBlocked)===1&&s.jsx("span",{style:{marginLeft:5,color:"var(--danger)"},title:"Blocked",children:""})]})]})]},y.id)})})}/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pf=(...r)=>r.filter((z,B,f)=>!!z&&z.trim()!==""&&f.indexOf(z)===B).join(" ").trim();/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gm=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(z,B,f)=>f?f.toUpperCase():B.toLowerCase());/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=r=>{const z=Gm(r);return z.charAt(0).toUpperCase()+z.slice(1)};/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Lm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=r=>{for(const z in r)if(z.startsWith("aria-")||z==="role"||z==="title")return!0;return!1};/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=_.forwardRef(({color:r="currentColor",size:z=24,strokeWidth:B=2,absoluteStrokeWidth:f,className:y="",children:p,iconNode:C,...w},H)=>_.createElement("svg",{ref:H,...Lm,width:z,height:z,stroke:r,strokeWidth:f?Number(B)*24/Number(z):B,className:Pf("lucide",y),...!p&&!Qm(w)&&{"aria-hidden":"true"},...w},[...C.map(([v,G])=>_.createElement(v,G)),...Array.isArray(p)?p:[p]]));/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=(r,z)=>{const B=_.forwardRef(({className:f,...y},p)=>_.createElement(Xm,{ref:p,iconNode:z,className:Pf(`lucide-${Ym(Xf(r))}`,`lucide-${r}`,f),...y}));return B.displayName=Xf(r),B};/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],Vm=he("arrow-right-left",Zm);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],ep=he("book-open",Km);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],$m=he("brain",Jm);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Nu=he("chevron-down",Wm);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],us=he("chevron-left",Fm);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ru=he("chevron-right",Im);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ey=he("circle-alert",Pm);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],tp=he("circle-check",ty);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ly=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}]],Zf=he("compass",ly);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ay=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],ny=he("credit-card",ay);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iy=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Vf=he("download",iy);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],cy=he("ellipsis",sy);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],lp=he("eye-off",uy);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oy=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ap=he("eye",oy);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],dy=he("file-text",ry);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M20 11v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-8",key:"1sqzm4"}],["path",{d:"M7.5 7a1 1 0 0 1 0-5A4.8 8 0 0 1 12 7a4.8 8 0 0 1 4.5-5 1 1 0 0 1 0 5",key:"kc0143"}],["rect",{x:"3",y:"7",width:"18",height:"4",rx:"1",key:"1hberx"}]],py=he("gift",fy);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hy=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],my=he("globe",hy);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yy=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Kf=he("heart",yy);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],gy=he("key-round",xy);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vy=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],by=he("lock",vy);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],jy=he("message-circle",Sy);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Jf=he("message-square",zy);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Cy=he("palette",Ty);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],np=he("paperclip",_y);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],$f=he("pen-line",Ey);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ta=he("refresh-cw",Ay);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Ou=he("save",My);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ip=he("search",Ny);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Oy=he("send",Ry);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Gn=he("settings",Dy);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ky=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],sp=he("smile",ky);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Wf=he("sparkles",By);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ga=he("trash-2",wy);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Ff=he("upload",Uy);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hy=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],qy=he("user-minus",Hy);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yy=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],cp=he("user-plus",Yy);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ly=he("user",Gy);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qy=[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]],Du=he("users-round",Qy);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xy=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],up=he("users",Xy);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],op=he("wand-sparkles",Zy);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],dl=he("x",Vy),rp=_.createContext(),If={Save:{en:"Save",zh:""},Cancel:{en:"Cancel",zh:""},Edit:{en:"Edit",zh:""},Delete:{en:"Delete",zh:""},Send:{en:"Send",zh:""},Loading:{en:"Loading...",zh:"..."},Chats:{en:"Chats",zh:""},Contacts:{en:"Contacts",zh:""},Moments:{en:"Moments",zh:""},Settings:{en:"Settings",zh:""},"Export Data":{en:"Export Data",zh:""},"Deep Wipe":{en:"Deep Wipe",zh:""},Characters:{en:"Characters",zh:""},"Add Character":{en:"Add Character",zh:""},"User Profile":{en:"User Profile",zh:""},Name:{en:"Name",zh:""},"Avatar URL":{en:"Avatar URL",zh:" URL"},Bio:{en:"Bio",zh:""},Theme:{en:"Theme",zh:""},Persona:{en:"Persona",zh:" (Persona)"},"World Info / Scenario":{en:"World Info / Scenario",zh:" / "},"API Endpoint":{en:"API Endpoint (e.g. https://api.openai.com/v1)",zh:"API Endpoint (: https://api.openai.com/v1)"},"Memory API Endpoint":{en:"Memory API Endpoint",zh:" API Endpoint ()"},"API Key":{en:"API Key",zh:"API Key"},"Memory API Key":{en:"Memory API Key",zh:" API Key ()"},"Model Name":{en:"Model Name (e.g. gpt-4o)",zh:" (: gpt-4o)"},"Memory Model Name":{en:"Memory Model Name",zh:" (: o1-mini)"},"Fetch Models":{en:"Fetch List",zh:""},"System Guidelines":{en:"System Guidelines (Mandatory logic for background events)",zh:" ()"},"Advanced Config":{en:"Advanced Engine Configuration",zh:""},"Max Output Tokens":{en:"Max Output Tokens",zh:" Token "},"Disable Background Engine":{en:" Disable Entire Background Engine (Sleep Mode)",zh:"  ()"},"Toggle Proactive Messages":{en:"Enable Proactive Messaging (Random initiated messages)",zh:" ()"},"Toggle Timer Actions":{en:"Enable Self-Scheduled Timers ([TIMER] tags)",zh:" ( [TIMER] )"},"Toggle Pressure System":{en:"Enable Pressure System (Panic mode if ignored)",zh:" ()"},"Toggle Jealousy System":{en:"Enable Jealousy System (Interruption when talking to others)",zh:" ()"},"Chat Settings":{en:"Chat Settings",zh:""},Memories:{en:"Memories",zh:""},"Secret Diary":{en:"Secret Diary",zh:""},"Send Transfer":{en:"Send Transfer",zh:"/"},"Hide Old Messages":{en:"Hide Old Messages",zh:""},"No moments yet":{en:"No moments yet. Your friends are quiet today.",zh:""},"Share something new":{en:"Share something new...",zh:"..."},Post:{en:"Post",zh:""},"Type a message":{en:"Type a message...",zh:"..."},Connecting:{en:"Connecting...",zh:"..."},Thinking:{en:"Thinking...",zh:"..."},Typing:{en:"typing...",zh:"..."},"Unlock Diary":{en:"Unlock Secret Diary",zh:""},"Diary Locked":{en:"Diary is Locked ",zh:" "},Password:{en:"Password",zh:""},Unlock:{en:"Unlock",zh:""},"No entries yet":{en:"No entries yet...",zh:"..."},"No memories yet":{en:"No memories yet...",zh:"..."},Significance:{en:"Significance",zh:""},Impact:{en:"Impact",zh:""},Like:{en:"Like",zh:""},Unlike:{en:"Unlike",zh:""},Comment:{en:"Comment",zh:""},Reply:{en:"Reply...",zh:"..."},"Required fields missing":{en:"Please fill in Name, Persona, API Endpoint, API Key, and Model.",zh:"API EndpointAPI Key "},"Failed to add character":{en:"Failed to add character",zh:""},"Failed to clear history":{en:"Failed to clear history",zh:""},"History cleared":{en:"History cleared",zh:""},"Are you sure clear history":{en:"Are you sure you want to clear this chat history?",zh:""}},Ky=({children:r})=>{const[z,B]=_.useState(()=>localStorage.getItem("chatpulse_lang")||"zh");_.useEffect(()=>{localStorage.setItem("chatpulse_lang",z)},[z]);const f=()=>{B(p=>p==="en"?"zh":"en")},y=p=>If[p]&&If[p][z]||p;return s.jsx(rp.Provider,{value:{lang:z,toggleLanguage:f,t:y},children:r})},st=()=>_.useContext(rp);function Jy({name:r}){return s.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",margin:"20px 0",gap:"8px"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",backgroundColor:"#fff1f1",border:"1px solid #ffc0c0",borderRadius:"10px",padding:"10px 18px",color:"#c0392b",fontSize:"13px",fontWeight:"500"},children:[" ",r," "]}),s.jsx("div",{style:{fontSize:"11px",color:"#bbb"},children:""})]})}function $y({content:r,isUser:z,apiUrl:B}){const{lang:f}=st(),p=r.replace("[TRANSFER]","").trim().split("|");let C=null,w="0",H="Transfer";p.length>=3&&/^\d+$/.test(p[0].trim())?(C=parseInt(p[0].trim()),w=p[1].trim(),H=p.slice(2).join("|").trim()||"Transfer"):p.length>=1&&(w=p[0].trim(),H=p.length>1?p.slice(1).join("|").trim():"Transfer");const[v,G]=_.useState(null),[U,J]=_.useState(!1);_.useEffect(()=>{if(!C||!B)return;let V=!1,ae=0;const se=()=>{fetch(`${B}/transfers/${C}`).then(ee=>ee.ok?ee.json():null).then(ee=>{ee&&!V&&G(ee)}).catch(()=>{})};se();const L=setInterval(()=>{if(ae++,ae>30){clearInterval(L);return}se()},5e3);return()=>{V=!0,clearInterval(L)}},[C,B]);const q=!!(v!=null&&v.claimed),D=!!(v!=null&&v.refunded),Q=v?!q&&!D:!0;_.useEffect(()=>{(q||D)&&J(!0)},[q,D]);const K=async()=>{if(C)try{await fetch(`${B}/transfers/${C}/claim`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})}),J(!0);const V=await fetch(`${B}/transfers/${C}`);V.ok&&G(await V.json())}catch(V){console.error(V)}},$=async()=>{if(C)try{await fetch(`${B}/transfers/${C}/refund`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})}),J(!0);const V=await fetch(`${B}/transfers/${C}`);V.ok&&G(await V.json())}catch(V){console.error(V)}};return s.jsxs("div",{style:{background:"linear-gradient(135deg, #fff5f0 0%, #ffe8d8 100%)",borderRadius:"12px",padding:"12px 15px",width:"220px",boxSizing:"border-box",border:"1px solid #ffd4a8"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"6px"},children:[s.jsx("span",{style:{fontSize:"24px"},children:""}),s.jsxs("div",{children:[s.jsxs("div",{style:{fontWeight:"600",fontSize:"15px",color:"#e67e22"},children:["",w]}),s.jsx("div",{style:{fontSize:"12px",color:"#999"},children:H})]})]}),(q||D)&&s.jsx("div",{style:{fontSize:"12px",color:"#999",textAlign:"center",padding:"4px 0"},children:q?f==="en"?" Claimed":" ":f==="en"?" Refunded":" "}),C&&Q&&!U&&!z&&s.jsxs("div",{style:{display:"flex",gap:"6px",marginTop:"6px"},children:[s.jsx("button",{onClick:K,title:f==="en"?"Accept this transfer and add to your wallet":"",style:{flex:1,padding:"7px",fontSize:"12px",background:"#e67e22",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600"},children:f==="en"?" Claim":" "}),s.jsx("button",{onClick:$,title:f==="en"?"Return this transfer back to the sender":"",style:{flex:1,padding:"7px",fontSize:"12px",background:"#fff",color:"#e67e22",border:"1px solid #e67e22",borderRadius:"8px",cursor:"pointer",fontWeight:"500"},children:f==="en"?" Refund":" "})]}),C&&Q&&!U&&z&&s.jsx("div",{style:{fontSize:"11px",color:"#bbb",textAlign:"center",marginTop:"4px",fontStyle:"italic"},children:f==="en"?" Waiting for response...":" ..."})]})}function Wy({message:r,avatar:z,characterName:B,apiUrl:f}){const y=r.role==="user",p=r.content||"",{lang:C}=st();return r.role==="system"?s.jsx("div",{style:{textAlign:"center",margin:"8px 0"},children:s.jsx("span",{style:{fontSize:"12px",color:"#aaa",backgroundColor:"#f0f0f0",padding:"3px 10px",borderRadius:"10px"},children:p.replace("[System] ","")})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:`message-wrapper ${y?"user":"character"}`,children:[s.jsx("div",{className:"message-avatar",children:s.jsx("img",{src:z,alt:"Avatar"})}),s.jsxs("div",{className:"message-content",children:[p.startsWith("[TRANSFER]")?s.jsx($y,{content:p,isUser:y,apiUrl:f}):p.startsWith("[CONTACT_CARD:")?(()=>{const w=p.split(":");if(w.length>=4){const H=w[2],v=w.slice(3).join(":");return s.jsxs("div",{className:"message-bubble",style:{padding:0,overflow:"hidden",backgroundColor:"#fff",color:"#333",textAlign:"left",width:"220px",boxSizing:"border-box",border:"1px solid #eaeaea"},children:[s.jsxs("div",{style:{padding:"12px 15px",display:"flex",alignItems:"center",gap:"12px",borderBottom:"1px solid #f0f0f0"},children:[s.jsx("img",{src:v.replace("]",""),alt:H,style:{width:"40px",height:"40px",borderRadius:"50%",objectFit:"cover"}}),s.jsx("div",{style:{fontSize:"16px",fontWeight:"400"},children:H})]}),s.jsx("div",{style:{padding:"4px 15px 6px",fontSize:"12px",color:"#999"},children:""})]})}return s.jsx("div",{className:"message-bubble",children:p})})():s.jsx("div",{className:"message-bubble",children:p}),r.timestamp&&s.jsx("div",{style:{fontSize:"11px",color:"#bbb",marginTop:"4px",display:"flex",gap:"6px",alignItems:"center",justifyContent:y?"flex-end":"flex-start"},children:s.jsx("span",{children:new Date(r.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})})]}),r.isBlocked&&s.jsx("div",{className:"message-blocked-icon",title:"",children:s.jsx(ey,{size:20,color:"var(--danger)"})})]}),r.isBlocked&&y&&s.jsx(Jy,{name:B||""})]})}function Fy({onSend:r,onTransfer:z,onQuickHide:B}){const{t:f,lang:y}=st(),[p,C]=_.useState(""),[w,H]=_.useState(!1),v=_.useRef(null),G=["","","","","","","","","","","","","","",""],U=Q=>{C(K=>K+Q),H(!1)},J=()=>{p.trim()&&(r(p),C(""))},q=Q=>{Q.key==="Enter"&&!Q.shiftKey&&(Q.preventDefault(),J())},D=Q=>{const K=Q.target.files[0];if(!K)return;Q.target.value="";const $=100*1024;if(K.size>$){const ae=`File too large (${(K.size/1024).toFixed(1)} KB). Limited to 100 KB text files.`,se=`${(K.size/1024).toFixed(1)} KB 100 KB `;alert(y==="en"?ae:se);return}const V=new FileReader;V.onload=ae=>{const se=ae.target.result,L=` [${K.name}]
${se}`;C(ee=>ee?ee+`
`+L:L)},V.onerror=()=>alert(y==="en"?"Failed to read file":""),V.readAsText(K,"utf-8")};return s.jsxs("div",{className:"input-area",children:[s.jsxs("div",{className:"input-toolbar",style:{position:"relative"},children:[s.jsx("button",{onClick:()=>H(!w),title:"Emoji",children:s.jsx(sp,{size:20})}),s.jsx("button",{onClick:()=>{var Q;return(Q=v.current)==null?void 0:Q.click()},title:y==="en"?"Send text file content":"",children:s.jsx(np,{size:20})}),s.jsx("input",{ref:v,type:"file",accept:".txt,.md,.csv,.json,.log,.py,.js,.ts,.html,.css,.xml,.yaml,.yml",style:{display:"none"},onChange:D}),z&&s.jsx("button",{onClick:z,title:f("Send Transfer"),children:s.jsx(ny,{size:20,color:"var(--accent-color)"})}),B&&s.jsxs("button",{onClick:B,title:y==="en"?"Quick-hide old messages from AI context":"AI",style:{display:"flex",alignItems:"center",gap:"4px",fontSize:"11px",color:"#888",padding:"4px 8px",borderRadius:"6px",border:"1px solid #ddd",background:"#fafafa"},children:[s.jsx(lp,{size:14}),s.jsx("span",{children:f("Hide Old Messages")})]}),w&&s.jsxs("div",{className:"emoji-picker",style:{position:"absolute",bottom:"50px",left:"10px",backgroundColor:"#fff",border:"1px solid #ddd",borderRadius:"8px",padding:"10px",display:"flex",flexWrap:"wrap",gap:"5px",width:"220px",boxShadow:"0 -4px 12px rgba(0,0,0,0.1)",zIndex:100},children:[s.jsx("div",{style:{width:"100%",display:"flex",justifyContent:"flex-end",marginBottom:"5px"},children:s.jsx("button",{onClick:()=>H(!1),style:{padding:"2px"},children:s.jsx(dl,{size:14})})}),G.map(Q=>s.jsx("span",{onClick:()=>U(Q),style:{fontSize:"20px",cursor:"pointer",padding:"4px",borderRadius:"4px"},children:Q},Q))]})]}),s.jsx("div",{className:"input-textarea-wrapper",children:s.jsx("textarea",{className:"input-textarea",value:p,onChange:Q=>C(Q.target.value),onKeyDown:q,placeholder:y==="en"?"Type a message... (try /hide 0-50 or /unhide)":"... ( /hide  /unhide)"})}),s.jsx("div",{className:"input-actions",children:s.jsx("button",{className:"send-button",onClick:J,children:f("Send")})})]})}function Iy({contact:r,onClose:z,onConfirm:B}){const{lang:f}=st(),[y,p]=_.useState("0.01"),[C,w]=_.useState(""),H=()=>{const v=parseFloat(y);if(isNaN(v)||v<=0){alert(f==="en"?"Please enter a valid amount.":"");return}B(v,C.trim()||(f==="en"?"Transfer":""))};return s.jsx("div",{className:"modal-overlay",children:s.jsxs("div",{className:"modal-content",style:{maxWidth:"320px",padding:"0"},children:[s.jsxs("div",{style:{padding:"15px 20px",borderBottom:"1px solid #eee",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs("div",{style:{fontSize:"16px",fontWeight:"500"},children:[f==="en"?"Transfer to":""," ",r==null?void 0:r.name]}),s.jsx("button",{onClick:z,style:{background:"none",border:"none",cursor:"pointer"},children:s.jsx("span",{style:{fontSize:"18px",color:"#999"},children:""})})]}),s.jsxs("div",{style:{padding:"30px 20px",display:"flex",flexDirection:"column",alignItems:"center"},children:[s.jsx("div",{style:{fontSize:"14px",color:"#666",marginBottom:"10px"},children:f==="en"?"Amount ()":" ()"}),s.jsxs("div",{style:{display:"flex",alignItems:"center",fontSize:"36px",fontWeight:"bold"},children:[s.jsx("span",{style:{marginRight:"5px",fontSize:"28px"},children:""}),s.jsx("input",{type:"number",value:y,onChange:v=>p(v.target.value),style:{width:"120px",fontSize:"36px",border:"none",borderBottom:"1px solid var(--accent-color)",textAlign:"center",outline:"none"},step:"0.01",min:"0.01",autoFocus:!0})]}),s.jsx("input",{type:"text",value:C,onChange:v=>w(v.target.value),placeholder:f==="en"?"Add a note (optional)":" ()",style:{marginTop:"20px",width:"100%",maxWidth:"200px",padding:"8px",border:"none",borderBottom:"1px solid #ddd",textAlign:"center",outline:"none",fontSize:"14px",backgroundColor:"transparent"}})]}),s.jsx("div",{style:{padding:"15px 20px",borderTop:"1px solid #eee",display:"flex",justifyContent:"center"},children:s.jsx("button",{onClick:H,style:{backgroundColor:"var(--accent-color)",color:"#fff",border:"none",padding:"10px 40px",borderRadius:"4px",fontSize:"16px",cursor:"pointer",width:"100%"},children:f==="en"?"Transfer":""})})]})})}function Py({apiUrl:r,currentContact:z,allContacts:B,onClose:f,onRecommend:y}){const{t:p,lang:C}=st(),[w,H]=_.useState([]),[v,G]=_.useState(!0),[U,J]=_.useState(""),[q,D]=_.useState(null);_.useEffect(()=>{z&&fetch(`${r}/characters/${z.id}/friends`).then($=>$.json()).then($=>{H($.map(V=>V.id)),G(!1)}).catch($=>{console.error("Failed to load friends:",$),G(!1)})},[r,z]);const Q=()=>{q&&y(q)},K=B.filter($=>$.id!==z.id&&!w.includes($.id)&&$.name.toLowerCase().includes(U.toLowerCase()));return s.jsx("div",{className:"modal-overlay",children:s.jsxs("div",{className:"modal-content",style:{maxWidth:"400px",padding:"0"},children:[s.jsxs("div",{style:{padding:"15px 20px",borderBottom:"1px solid #eee",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("div",{style:{fontSize:"16px",fontWeight:"500"},children:C==="en"?`Recommend Contact to ${z.name}`:` ${z.name}`}),s.jsx("button",{onClick:f,style:{background:"none",border:"none",cursor:"pointer"},children:s.jsx(dl,{size:20,color:"#999"})})]}),s.jsx("div",{style:{padding:"20px"},children:v?s.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#888"},children:p("Loading")}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:{position:"relative",marginBottom:"15px"},children:[s.jsx(ip,{size:16,color:"#aaa",style:{position:"absolute",left:"10px",top:"10px"}}),s.jsx("input",{type:"text",placeholder:C==="en"?"Search contacts...":"...",value:U,onChange:$=>J($.target.value),style:{width:"100%",padding:"8px 10px 8px 32px",borderRadius:"6px",border:"1px solid #ddd",fontSize:"14px",outline:"none"}})]}),s.jsx("div",{style:{maxHeight:"300px",overflowY:"auto"},children:K.length===0?s.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#888",fontSize:"14px"},children:C==="en"?"No contacts available to recommend.":""}):K.map($=>s.jsxs("div",{onClick:()=>D($.id),style:{display:"flex",alignItems:"center",padding:"10px",borderBottom:"1px solid #f5f5f5",cursor:"pointer",backgroundColor:q===$.id?"#f0f9eb":"transparent",borderRadius:"6px"},children:[s.jsx("img",{src:$.avatar,alt:$.name,style:{width:"40px",height:"40px",borderRadius:"50%",marginRight:"12px"}}),s.jsx("div",{style:{flex:1,fontWeight:"500",fontSize:"15px"},children:$.name}),q===$.id&&s.jsx(tp,{size:20,color:"var(--accent-color)"})]},$.id))}),s.jsx("div",{style:{marginTop:"20px"},children:s.jsx("button",{onClick:Q,disabled:!q,style:{width:"100%",padding:"10px",borderRadius:"6px",border:"none",backgroundColor:q?"var(--accent-color)":"#e0e0e0",color:q?"#fff":"#999",fontWeight:"500",fontSize:"15px",cursor:q?"pointer":"not-allowed"},children:C==="en"?"Send Recommendation":""})})]})})]})})}function ex(r){const z=r.match(/^\/hide\s+(\d+)\s*[-~]\s*(\d+)\s*$/i);if(z)return{cmd:"hide",start:parseInt(z[1]),end:parseInt(z[2])};const B=r.match(/^\/hide\s+(\d+)\s*$/i);return B?{cmd:"hide",start:0,end:parseInt(B[1])}:r.match(/^\/unhide\s*$/i)?{cmd:"unhide"}:null}function tx({contact:r,allContacts:z,apiUrl:B,newIncomingMessage:f,engineState:y,onToggleMemo:p,onToggleDiary:C,onToggleSettings:w,userAvatar:H,onBack:v}){var ne,A,F,o;const{t:G,lang:U}=st(),[J,q]=_.useState([]),[D,Q]=_.useState(!1),[K,$]=_.useState(!1),[V,ae]=_.useState(!1),[se,L]=_.useState(!1),[ee,le]=_.useState(!1),Se=100,Y=_.useRef(!1),ue=_.useRef(null),re=_.useRef(r);_.useEffect(()=>{re.current=r},[r]);const me=((ne=y==null?void 0:y[r==null?void 0:r.id])==null?void 0:ne.isBlocked)===1;_.useEffect(()=>{r!=null&&r.id&&(q([]),ae(!1),fetch(`${B} /messages/${r.id}?limit = ${Se} `).then(d=>d.json()).then(d=>{q(d),ae(d.length>=Se)}).catch(d=>console.error("Failed to load messages:",d)))},[r==null?void 0:r.id,B]);const Re=async()=>{var b;if(se||J.length===0)return;L(!0);const d=J[0];try{const R=await fetch(`${B} /messages/${(b=re.current)==null?void 0:b.id}?limit = ${Se}& before=${d.id} `).then(Z=>Z.json());R.length>0?(q(Z=>[...R,...Z]),ae(R.length>=Se)):ae(!1)}catch(R){console.error("Failed to load more:",R)}L(!1)};_.useEffect(()=>{f&&(r!=null&&r.id)&&f.character_id===r.id&&q(d=>d.some(b=>b.id===f.id)?d:[...d,f])},[f,r==null?void 0:r.id]),_.useEffect(()=>{var b;const d=((b=y==null?void 0:y[r==null?void 0:r.id])==null?void 0:b.isBlocked)===1;d&&!Y.current&&q(R=>[...R,{id:`block - event - ${Date.now()} `,character_id:r==null?void 0:r.id,role:"system",content:`[System] ${r==null?void 0:r.name} `,timestamp:Date.now()}]),Y.current=d},[y,r==null?void 0:r.id,r==null?void 0:r.name]),_.useEffect(()=>{ue.current&&ue.current.scrollIntoView({behavior:"smooth",block:"end"})},[J]);const We=async d=>{var Z,W,ce,Ce;const b=(Z=re.current)==null?void 0:Z.id;if(!b)return;const R=ex(d.trim());if(R){if(R.cmd==="hide"){if((await(await fetch(`${B} /messages/${b}/hide`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({startIdx:R.start,endIdx:R.end})})).json()).success&&((W=re.current)==null?void 0:W.id)===b){const _t=await fetch(`${B}/messages/${b}`).then(Gt=>Gt.json());q(_t)}}else if(R.cmd==="unhide"&&(await(await fetch(`${B}/messages/${b}/unhide`,{method:"POST",headers:{"Content-Type":"application/json"}})).json()).success&&((ce=re.current)==null?void 0:ce.id)===b){const _t=await fetch(`${B}/messages/${b}`).then(Gt=>Gt.json());q(_t)}return}try{const ct=await(await fetch(`${B}/messages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({characterId:b,content:d})})).json();if(((Ce=re.current)==null?void 0:Ce.id)!==b)return;ct.blocked&&ct.message&&q(_t=>[..._t,{...ct.message,isBlocked:!0}])}catch(je){console.error("Failed to send:",je)}},Oe=async(d,b)=>{var Z,W;const R=(Z=re.current)==null?void 0:Z.id;Q(!1);try{if((await(await fetch(`${B}/characters/${R}/transfer`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:d,note:b})})).json()).success&&((W=re.current)==null?void 0:W.id)===R){const je=await fetch(`${B}/messages/${R}`).then(ct=>ct.json());q(je)}}catch(ce){console.error("Transfer failed:",ce)}},M=async d=>{var b,R;$(!1);try{const W=await(await fetch(`${B}/characters/${(b=re.current)==null?void 0:b.id}/friends`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({target_id:d})})).json();if(W.success){const ce=await fetch(`${B}/messages/${(R=re.current)==null?void 0:R.id}`).then(Ce=>Ce.json());q(ce)}else alert(U==="en"?"Failed to recommend contact: "+W.error:": "+W.error)}catch(Z){console.error("Failed to recommend contact:",Z),alert(U==="en"?"Network error.":"")}};if(!r)return s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",width:"100%"},children:s.jsx("span",{className:"fa-solid fa-spinner fa-spin",style:{fontSize:"24px",color:"var(--accent-color)"}})});const X=J.filter(d=>d.hidden).length;return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"chat-header",children:[s.jsxs("div",{className:"chat-header-title",style:{display:"flex",alignItems:"center",gap:"8px"},children:[s.jsx("button",{className:"mobile-back-btn",onClick:v,title:"Back",children:s.jsx(us,{size:24})}),r.name,((A=y==null?void 0:y[r.id])==null?void 0:A.isBlocked)===1&&s.jsx("span",{style:{color:"var(--danger)",fontSize:"14px",fontWeight:"bold"},children:"(Blocked) "})]}),s.jsxs("div",{className:"chat-header-actions",children:[s.jsx("button",{onClick:()=>$(!0),title:U==="en"?"Recommend Contact":"",children:s.jsx(cp,{size:20})}),s.jsx("button",{onClick:p,title:G("Memories"),children:s.jsx($m,{size:20})}),s.jsx("button",{onClick:C,title:G("Secret Diary"),children:s.jsx(ep,{size:20})}),s.jsx("button",{onClick:w,title:G("Chat Settings"),children:s.jsx(cy,{size:20})})]})]}),X>0&&s.jsxs("div",{style:{display:"flex",justifyContent:"center",padding:"5px",background:"#fff9e0",cursor:"pointer",fontSize:"12px",color:"#888",gap:"5px",alignItems:"center",borderBottom:"1px solid #f0e8c0"},onClick:()=>le(d=>!d),children:[ee?s.jsx(ap,{size:13}):s.jsx(lp,{size:13}),X," messages hidden from AI context (shown dimmed)  click to ",ee?"show badges":"hide badges"]}),me&&s.jsxs("div",{style:{textAlign:"center",padding:"8px",background:"#ffebeb",color:"var(--danger)",fontSize:"14px",fontWeight:"bold",borderBottom:"1px solid #ffcccc"},children:["You are blocked by ",r.name,". You cannot send messages."]}),s.jsxs("div",{className:"chat-history",children:[V&&s.jsx("div",{style:{textAlign:"center",padding:"10px"},children:s.jsx("button",{onClick:Re,disabled:se,style:{fontSize:"12px",color:"#888",background:"#f5f5f5",border:"1px solid #ddd",borderRadius:"12px",padding:"5px 16px",cursor:"pointer"},children:se?G("Loading"):U==="en"?" Load older messages":" "})}),J.map((d,b)=>b>0&&J[b-1].id===d.id?null:s.jsx("div",{style:d.hidden?{opacity:.4,filter:"grayscale(0.5)",borderLeft:"3px solid #f0c060",paddingLeft:"4px",marginBottom:"2px"}:{},children:s.jsx(Wy,{message:d,characterName:r.name,avatar:d.role==="character"?r.avatar:H||"https://api.dicebear.com/7.x/shapes/svg?seed=User",apiUrl:B})},d.id)),((F=y==null?void 0:y[r.id])==null?void 0:F.countdownMs)>0&&((o=y==null?void 0:y[r.id])==null?void 0:o.isBlocked)!==1&&s.jsxs("div",{className:"message-wrapper character",style:{marginTop:"10px"},children:[s.jsx("div",{className:"message-avatar",style:{visibility:"hidden"},children:s.jsx("img",{src:r.avatar,alt:"Avatar"})}),s.jsx("div",{className:"message-content",children:s.jsxs("div",{className:"message-bubble",style:{background:"transparent",color:"#bbb",boxShadow:"none",fontStyle:"italic",padding:0},children:[G("Thinking"),"  ",Math.ceil(y[r.id].countdownMs/1e3),"s"]})})]}),s.jsx("div",{ref:ue})]}),s.jsx(Fy,{onSend:We,onTransfer:()=>Q(!0),onQuickHide:async()=>{var W,ce;const d=(W=re.current)==null?void 0:W.id;if(!d)return;const R=Math.floor(J.length/2);if(R===0)return;if((await(await fetch(`${B}/messages/${d}/hide`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({startIdx:0,endIdx:R-1})})).json()).success&&((ce=re.current)==null?void 0:ce.id)===d){const Ce=await fetch(`${B}/messages/${d}`).then(je=>je.json());q(Ce)}}}),D&&s.jsx(Iy,{contact:r,onClose:()=>Q(!1),onConfirm:Oe}),K&&s.jsx(Py,{apiUrl:B,currentContact:r,allContacts:z||[],onClose:()=>$(!1),onRecommend:M})]})}const lx=["","","","","","","","","","","","","","",""];function ax({group:r,apiUrl:z,onClose:B,userWallet:f}){var se;const{lang:y}=st(),[p,C]=_.useState("lucky"),[w,H]=_.useState(""),[v,G]=_.useState(((se=r==null?void 0:r.members)==null?void 0:se.length)||3),[U,J]=_.useState(""),q=p==="fixed",D=Math.max(1,parseInt(v)||1),Q=Math.max(0,parseFloat(w)||0),K=q?Q*D:Q,$=K>(f??100),V=Q>0&&D>0&&!$,ae=async()=>{if(V)try{const L=q?{type:p,count:D,per_amount:Q,total_amount:K,note:U.trim()}:{type:p,count:D,total_amount:K,note:U.trim()};await fetch(`${z}/groups/${r.id}/redpackets`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(L)}),B()}catch(L){console.error(L)}};return s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:s.jsxs("div",{style:{width:"340px",borderRadius:"14px",overflow:"hidden",boxShadow:"0 10px 40px rgba(0,0,0,0.3)",background:"#fff"},children:[s.jsxs("div",{style:{background:"linear-gradient(135deg,#d63031,#c0392b)",padding:"18px 20px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[s.jsxs("span",{style:{color:"#fff",fontWeight:"700",fontSize:"17px"},children:[" ",y==="en"?"Send Red Packet":""]}),s.jsx("button",{onClick:B,style:{background:"none",border:"none",color:"#ffcccb",cursor:"pointer",fontSize:"20px",lineHeight:1},children:""})]}),s.jsx("div",{style:{display:"flex",borderBottom:"1px solid #f0f0f0"},children:[["lucky",y==="en"?" Lucky":" "],["fixed",y==="en"?" Regular":" "]].map(([L,ee])=>s.jsx("button",{onClick:()=>C(L),style:{flex:1,padding:"10px",border:"none",cursor:"pointer",fontWeight:p===L?"700":"400",background:p===L?"#fff5f5":"#fff",color:p===L?"#c0392b":"#666",borderBottom:p===L?"2px solid #c0392b":"2px solid transparent"},children:ee},L))}),s.jsxs("div",{style:{padding:"16px 20px"},children:[s.jsxs("div",{style:{marginBottom:"14px"},children:[s.jsx("label",{style:{fontSize:"12px",color:"#999",display:"block",marginBottom:"5px"},children:y==="en"?"Number of packets":""}),s.jsx("input",{type:"number",min:"1",value:v,onChange:L=>G(L.target.value),style:{width:"100%",padding:"10px",borderRadius:"8px",border:"1px solid #eee",fontSize:"16px",boxSizing:"border-box"}})]}),s.jsxs("div",{style:{marginBottom:"14px"},children:[s.jsx("label",{style:{fontSize:"12px",color:"#999",display:"block",marginBottom:"5px"},children:q?y==="en"?"Amount per person ()":"":y==="en"?"Total amount ()":""}),s.jsx("input",{type:"number",min:"0.01",step:"0.01",placeholder:"",value:w,onChange:L=>H(L.target.value),style:{width:"100%",padding:"10px",borderRadius:"8px",border:"1px solid #eee",fontSize:"16px",boxSizing:"border-box"}})]}),s.jsxs("div",{style:{marginBottom:"16px"},children:[s.jsx("label",{style:{fontSize:"12px",color:"#999",display:"block",marginBottom:"5px"},children:y==="en"?"Message (optional)":""}),s.jsx("input",{type:"text",placeholder:y==="en"?"Leave a message...":"...",value:U,onChange:L=>J(L.target.value),style:{width:"100%",padding:"10px",borderRadius:"8px",border:"1px solid #eee",fontSize:"14px",boxSizing:"border-box"}})]}),s.jsxs("div",{style:{background:"#fafafa",borderRadius:"8px",padding:"10px 12px",marginBottom:"16px",fontSize:"13px"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",color:"#555"},children:[s.jsx("span",{children:y==="en"?"Total cost:":""}),s.jsxs("span",{style:{fontWeight:"600",color:K>0?"#c0392b":"#aaa"},children:["",K>0?K.toFixed(2):"0.00"]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",color:"#aaa",marginTop:"4px"},children:[s.jsx("span",{children:y==="en"?"My wallet:":""}),s.jsxs("span",{style:{color:$?"#e53935":"var(--accent-color)"},children:["",(f??0).toFixed(2)]})]}),$&&s.jsxs("div",{style:{color:"#e53935",fontSize:"12px",marginTop:"6px"},children:[" ",y==="en"?"Insufficient balance":""]})]}),s.jsx("button",{onClick:ae,disabled:!V,style:{width:"100%",padding:"13px",background:V?"linear-gradient(135deg,#d63031,#c0392b)":"#ccc",color:"#fff",border:"none",borderRadius:"10px",cursor:V?"pointer":"not-allowed",fontSize:"15px",fontWeight:"700"},children:y==="en"?" Send":" "})]})]})})}function nx({packetId:r,apiUrl:z,groupId:B,isUser:f,resolveSender:y}){var D,Q,K,$,V;const{lang:p}=st(),[C,w]=_.useState(null),[H,v]=_.useState(!1),G=_.useCallback(async()=>{try{const ae=await fetch(`${z}/groups/${B}/redpackets/${r}`);w(await ae.json())}catch(ae){console.error(ae)}},[z,B,r]);_.useEffect(()=>{r&&G()},[r,G]);const U=async()=>{try{await fetch(`${z}/groups/${B}/redpackets/${r}/claim`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({claimer_id:"user"})}),G()}catch(ae){console.error(ae)}};if(!C)return s.jsx("div",{style:{padding:"8px",color:"#aaa",fontSize:"13px"},children:" Loading..."});const J=((D=C.claims)==null?void 0:D.length)>=C.count,q=(Q=C.claims)==null?void 0:Q.some(ae=>ae.claimer_id==="user");return s.jsxs("div",{style:{background:"linear-gradient(135deg, #fff5f5 0%, #ffe8e8 100%)",borderRadius:"12px",padding:"12px 15px",width:"220px",boxSizing:"border-box",border:"1px solid #ffccbc",cursor:"pointer"},onClick:()=>v(!H),children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"6px"},children:[s.jsx("span",{style:{fontSize:"24px"},children:""}),s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:"600",fontSize:"14px",color:"#c0392b"},children:C.note||(p==="en"?"Red Packet":"")}),s.jsxs("div",{style:{fontSize:"11px",color:"#999"},children:[C.type==="fixed"?p==="en"?"Regular":"":p==="en"?"Lucky":"","  ",((K=C.claims)==null?void 0:K.length)||0,"/",C.count]})]})]}),!J&&!q&&s.jsx("button",{onClick:ae=>{ae.stopPropagation(),U()},style:{width:"100%",padding:"8px",background:"#fff0eb",color:"#e67e22",border:"1px solid #ffd4a8",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"13px"},children:p==="en"?" Open":" "}),(J||q)&&s.jsx("div",{style:{fontSize:"12px",color:"#999",textAlign:"center"},children:q?p==="en"?" Claimed":" ":p==="en"?"All claimed":""}),H&&s.jsxs("div",{style:{background:"#fff8f0",borderRadius:"10px",padding:"10px 12px",marginTop:"6px",border:"1px solid #ffe0b2"},children:[s.jsxs("div",{style:{fontSize:"12px",color:"#888",marginBottom:"6px",display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{children:p==="en"?"Claims:":""}),s.jsxs("span",{children:["",($=C.total_amount)==null?void 0:$.toFixed(2)," ",p==="en"?"total":""]})]}),(!C.claims||C.claims.length===0)&&s.jsx("div",{style:{fontSize:"12px",color:"#bbb"},children:p==="en"?"No one yet":""}),(V=C.claims)==null?void 0:V.map((ae,se)=>{var ee;const L=y(ae.claimer_id);return s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[s.jsx("img",{src:L.avatar,alt:"",style:{width:22,height:22,borderRadius:"50%",objectFit:"cover"}}),s.jsx("span",{style:{fontSize:"13px",flex:1},children:L.name}),s.jsxs("span",{style:{fontSize:"13px",color:"#c0392b",fontWeight:"600"},children:["",(ee=ae.amount)==null?void 0:ee.toFixed(2)]})]},se)})]})]})}function ix({group:r,apiUrl:z,resolveSender:B,onClose:f,lang:y}){var U,J;const[p,C]=_.useState(!1);_.useEffect(()=>{r&&fetch(`${z}/groups/${r.id}/no-chain`).then(q=>q.json()).then(q=>C(!!q.no_chain)).catch(()=>{})},[r,z]);const w=async()=>{const q=!p;C(q),fetch(`${z}/groups/${r.id}/no-chain`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({no_chain:q})})},H=()=>{window.confirm(y==="en"?"Clear all messages?":"")&&fetch(`${z}/groups/${r.id}/messages`,{method:"DELETE"}).then(()=>window.location.reload())},v=()=>{window.confirm(y==="en"?"Dissolve this group?":"")&&fetch(`${z}/groups/${r.id}`,{method:"DELETE"}).then(()=>window.location.reload())},G=q=>{window.confirm(y==="en"?"Remove this member?":"")&&fetch(`${z}/groups/${r.id}/members/${q}`,{method:"DELETE"}).then(()=>window.location.reload())};return s.jsxs("div",{style:{width:"280px",minWidth:"280px",backgroundColor:"#f7f7f7",borderLeft:"1px solid #eee",display:"flex",flexDirection:"column",height:"100%",overflowY:"auto"},children:[s.jsxs("div",{style:{padding:"12px 15px",borderBottom:"1px solid #eee",display:"flex",justifyContent:"space-between",alignItems:"center",background:"#fff"},children:[s.jsxs("h3",{style:{margin:0,fontSize:"15px",display:"flex",alignItems:"center",gap:"6px"},children:[s.jsx(Gn,{size:16})," ",y==="en"?"Group Management":""]}),s.jsx("button",{onClick:f,style:{background:"none",border:"none",cursor:"pointer",color:"#999"},children:s.jsx(dl,{size:18})})]}),s.jsxs("div",{style:{backgroundColor:"#fff",padding:"12px 15px",borderBottom:"1px solid #eee"},children:[s.jsxs("div",{style:{fontSize:"12px",color:"#999",marginBottom:"10px",textTransform:"uppercase"},children:[y==="en"?"Members":""," (",((U=r.members)==null?void 0:U.length)||0,")"]}),(J=r.members)==null?void 0:J.map(q=>{const D=q.member_id||q,Q=B(D);return s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"5px 0"},children:[s.jsx("img",{src:Q.avatar,alt:"",style:{width:30,height:30,borderRadius:"50%",objectFit:"cover"}}),s.jsx("span",{style:{flex:1,fontSize:"13px"},children:Q.name}),D!=="user"&&s.jsx("button",{onClick:()=>G(D),style:{background:"none",border:"none",cursor:"pointer",color:"var(--danger)",padding:"2px"},title:y==="en"?"Remove member from group":"",children:s.jsx(qy,{size:14})})]},D)})]}),s.jsxs("div",{style:{backgroundColor:"#fff",padding:"12px 15px",borderBottom:"1px solid #eee",marginTop:"8px"},children:[s.jsx("div",{style:{fontSize:"12px",color:"#999",marginBottom:"10px",textTransform:"uppercase"},children:y==="en"?"AI Controls":"AI "}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"14px"},children:[s.jsx("span",{children:y==="en"?" Prevent AI Chaining":" AI"}),s.jsxs("label",{style:{position:"relative",display:"inline-block",width:"44px",height:"24px"},children:[s.jsx("input",{type:"checkbox",checked:p,onChange:w,style:{opacity:0,width:0,height:0}}),s.jsx("span",{style:{position:"absolute",cursor:"pointer",top:0,left:0,right:0,bottom:0,backgroundColor:p?"var(--accent-color)":"#ccc",borderRadius:"24px",transition:"0.3s"},children:s.jsx("span",{style:{position:"absolute",height:"18px",width:"18px",left:p?"23px":"3px",bottom:"3px",backgroundColor:"white",borderRadius:"50%",transition:"0.3s"}})})]})]})]}),s.jsxs("div",{style:{backgroundColor:"#fff",padding:"12px 15px",marginTop:"8px"},children:[s.jsx("div",{style:{fontSize:"12px",color:"#999",marginBottom:"10px",textTransform:"uppercase"},children:y==="en"?"Danger Zone":""}),s.jsxs("button",{onClick:H,title:y==="en"?"Delete all messages in this group":"",style:{width:"100%",padding:"10px",background:"#fff",border:"1px solid #ddd",borderRadius:"6px",cursor:"pointer",fontSize:"13px",marginBottom:"8px",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[s.jsx(Ga,{size:14})," ",y==="en"?"Clear Messages":""]}),s.jsxs("button",{onClick:v,title:y==="en"?"Permanently dissolve this group chat":"",style:{width:"100%",padding:"10px",background:"var(--danger)",color:"#fff",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[" ",y==="en"?"Dissolve Group":""]})]})]})}function sx({group:r,apiUrl:z,allContacts:B,userProfile:f,newGroupMessage:y,typingIndicators:p,onBack:C}){var F;const{lang:w}=st(),[H,v]=_.useState([]),[G,U]=_.useState(""),[J,q]=_.useState(!1),[D,Q]=_.useState(!1),[K,$]=_.useState(!1),V=_.useRef(null),ae=_.useRef(null),se=_.useRef(null),[L,ee]=_.useState(!1),[le,Se]=_.useState(""),[Y,ue]=_.useState(0);_.useEffect(()=>{r!=null&&r.id&&(v([]),$(!1),fetch(`${z}/groups/${r.id}/messages`).then(o=>o.json()).then(v).catch(console.error))},[r==null?void 0:r.id,z]),_.useEffect(()=>{y&&(r!=null&&r.id)&&y.group_id===r.id&&v(o=>o.find(d=>d.id===y.id)?o:[...o,y])},[y,r==null?void 0:r.id]),_.useEffect(()=>{V.current&&V.current.scrollIntoView({behavior:"smooth",block:"end"})},[H]);const re=async()=>{if(!G.trim()||!r)return;const o=G.trim();U("");try{await fetch(`${z}/groups/${r.id}/messages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:o})})}catch(d){console.error(d)}},me=o=>{const d=o.target.files[0];if(!d)return;if(o.target.value="",d.size>100*1024){alert(w==="en"?`File too large (${(d.size/1024).toFixed(1)} KB). Max 100 KB.`:" 100 KB");return}const b=new FileReader;b.onload=R=>{const Z=` [${d.name}]
${R.target.result}`;U(W=>W?W+`
`+Z:Z)},b.onerror=()=>alert(w==="en"?"Failed to read file":""),b.readAsText(d,"utf-8")},Re=o=>o==="user"?{name:(f==null?void 0:f.name)||"User",avatar:(f==null?void 0:f.avatar)||"https://api.dicebear.com/7.x/shapes/svg?seed=User"}:(B==null?void 0:B.find(b=>String(b.id)===String(o)))||{name:o,avatar:`https://api.dicebear.com/7.x/pixel-art/svg?seed=${o}`},We=o=>{U(d=>d+o),q(!1)},Oe=Bu.useMemo(()=>{if(!r)return[];const o=[{id:"all",name:w==="en"?"All":"",avatar:"https://api.dicebear.com/7.x/shapes/svg?seed=All"}];return r.members&&r.members.forEach(d=>{const b=typeof d=="object"?d.member_id:d;b!=="user"&&o.push(Re(b))}),o.filter(d=>d.name.toLowerCase().includes(le.toLowerCase()))},[r,le,B,w]),M=o=>{const d=o.target.value;U(d);const b=o.target.selectionStart,R=d.substring(0,b),Z=R.lastIndexOf("@");if(Z!==-1&&(Z===0||/[\\s\\n]/.test(R[Z-1]))){const W=R.substring(Z+1);if(!/\\s/.test(W)){Se(W),ee(!0),ue(0);return}}ee(!1)},X=o=>{var Z;const d=((Z=se.current)==null?void 0:Z.selectionStart)||G.length,R=G.substring(0,d).lastIndexOf("@");if(R!==-1){const W=G.substring(0,R),ce=G.substring(d),Ce=W+`@${o.name} `+ce;U(Ce),setTimeout(()=>{if(se.current){const je=R+o.name.length+2;se.current.setSelectionRange(je,je),se.current.focus()}},0)}ee(!1)},ne=o=>{if(L&&Oe.length>0){if(o.key==="ArrowDown"){o.preventDefault(),ue(d=>Math.min(d+1,Oe.length-1));return}if(o.key==="ArrowUp"){o.preventDefault(),ue(d=>Math.max(d-1,0));return}if(o.key==="Enter"){o.preventDefault(),X(Oe[Y]);return}if(o.key==="Escape"){ee(!1);return}}o.key==="Enter"&&!o.shiftKey&&(o.preventDefault(),re())},A=o=>{if(!o)return{type:"text",text:""};const d=o.trim().match(/^\[REDPACKET:(\d+)\]\s*$/);return d?{type:"redpacket",packetId:parseInt(d[1])}:o.startsWith("[TRANSFER]")?{type:"transfer",content:o}:o.startsWith("[System]")?{type:"system",text:o.replace("[System] ","")}:{type:"text",text:o}};return r?s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:{display:"flex",flexDirection:"column",flex:1,height:"100%",minWidth:0},children:[s.jsxs("div",{className:"chat-header",children:[s.jsxs("div",{className:"chat-header-title",style:{display:"flex",alignItems:"center",gap:"8px"},children:[s.jsx("button",{className:"mobile-back-btn",onClick:C,title:"Back",children:s.jsx(us,{size:24})}),s.jsx(up,{size:20}),r.name,s.jsxs("span",{style:{fontSize:"12px",color:"#999"},children:["(",((F=r.members)==null?void 0:F.length)||0,")"]})]}),s.jsx("div",{style:{display:"flex",gap:"4px",alignItems:"center"},children:s.jsx("button",{onClick:()=>$(!K),style:{background:"none",border:"none",cursor:"pointer",color:K?"var(--danger)":"var(--accent-color)"},title:w==="en"?"Group management  members, AI controls, danger zone":"  AI ",children:s.jsx(Gn,{size:20})})})]}),s.jsxs("div",{className:"chat-history",children:[H.map(o=>{const d=Re(o.sender_id),b=o.sender_id==="user",R=A(o.content);if(o.sender_id==="system"||R.type==="system")return s.jsx("div",{style:{textAlign:"center",margin:"8px 0"},children:s.jsx("span",{style:{fontSize:"12px",color:"#aaa",backgroundColor:"#f0f0f0",padding:"3px 10px",borderRadius:"10px"},children:R.text||(o.content||"").replace("[System] ","")})},o.id);if(R.type==="redpacket")return s.jsxs("div",{className:`message-wrapper ${b?"user":"character"}`,children:[s.jsx("div",{className:"message-avatar",children:s.jsx("img",{src:d.avatar,alt:""})}),s.jsxs("div",{className:"message-content",children:[!b&&s.jsx("div",{style:{fontSize:"12px",color:"var(--accent-color)",marginBottom:"2px",fontWeight:"500"},children:d.name}),s.jsx(nx,{packetId:R.packetId,apiUrl:z,groupId:r.id,isUser:b,resolveSender:Re}),o.timestamp&&s.jsx("div",{style:{fontSize:"11px",color:"#bbb",marginTop:"4px",display:"flex",gap:"6px",alignItems:"center",justifyContent:b?"flex-end":"flex-start"},children:s.jsx("span",{children:new Date(o.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})})]})]},o.id);if(R.type==="transfer"){const W=R.content.replace("[TRANSFER]","").trim().split("|"),ce=W[0].trim(),Ce=W.length>1?W.slice(1).join("|").trim():"Transfer";return s.jsxs("div",{className:`message-wrapper ${b?"user":"character"}`,children:[s.jsx("div",{className:"message-avatar",children:s.jsx("img",{src:d.avatar,alt:""})}),s.jsxs("div",{className:"message-content",children:[!b&&s.jsx("div",{style:{fontSize:"12px",color:"var(--accent-color)",marginBottom:"2px",fontWeight:"500"},children:d.name}),s.jsxs("div",{className:"message-bubble transfer-bubble",children:[s.jsx("div",{className:"transfer-icon-area",children:s.jsx(Vm,{size:24,color:"#fff"})}),s.jsxs("div",{className:"transfer-text-area",children:[s.jsxs("div",{className:"transfer-amount",children:["",ce]}),s.jsx("div",{className:"transfer-note",children:Ce})]})]}),o.timestamp&&s.jsx("div",{style:{fontSize:"11px",color:"#bbb",marginTop:"4px",display:"flex",gap:"6px",alignItems:"center",justifyContent:b?"flex-end":"flex-start"},children:s.jsx("span",{children:new Date(o.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})})]})]},o.id)}return s.jsxs("div",{className:`message-wrapper ${b?"user":"character"}`,children:[s.jsx("div",{className:"message-avatar",children:s.jsx("img",{src:d.avatar,alt:""})}),s.jsxs("div",{className:"message-content",children:[!b&&s.jsx("div",{style:{fontSize:"12px",color:"var(--accent-color)",marginBottom:"2px",fontWeight:"500"},children:d.name}),s.jsx("div",{className:"message-bubble",children:o.content}),o.timestamp&&s.jsx("div",{style:{fontSize:"11px",color:"#bbb",marginTop:"4px",display:"flex",gap:"6px",alignItems:"center",justifyContent:b?"flex-end":"flex-start"},children:s.jsx("span",{children:new Date(o.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})})]})]},o.id)}),s.jsx("div",{ref:V})]}),p.length>0&&s.jsxs("div",{style:{padding:"4px 15px 8px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[s.jsxs("div",{style:{color:"#999",fontSize:"13px",fontStyle:"italic",display:"flex",alignItems:"center",gap:"6px"},children:[s.jsx("span",{style:{display:"inline-block",animation:"pulse 1.5s infinite"},children:""}),p.map(o=>o.name).join(", ")," ",w==="en"?"typing...":"..."]}),s.jsxs("button",{onClick:async()=>{await fetch(`${z}/groups/${r.id}/ai-pause`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({paused:!0})}),setTimeout(()=>{fetch(`${z}/groups/${r.id}/ai-pause`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({paused:!1})})},1e4)},title:w==="en"?"Interrupt AIs and stop them from chaining texts":" AI ",style:{display:"flex",alignItems:"center",gap:"4px",background:"#fff0f0",border:"1px solid #ffcccc",color:"var(--danger)",padding:"4px 10px",borderRadius:"14px",fontSize:"12px",fontWeight:"bold",cursor:"pointer",boxShadow:"0 2px 5px rgba(240,107,142,0.1)"},children:[" ",w==="en"?"Interrupt":""]})]}),s.jsxs("div",{className:"input-area",children:[s.jsxs("div",{className:"input-toolbar",style:{position:"relative"},children:[s.jsx("button",{onClick:()=>q(!J),title:w==="en"?"Insert emoji":"",children:s.jsx(sp,{size:20})}),s.jsx("button",{onClick:()=>{var o;return(o=ae.current)==null?void 0:o.click()},title:w==="en"?"Send file":"",children:s.jsx(np,{size:20})}),s.jsx("input",{ref:ae,type:"file",accept:".txt,.md,.csv,.json,.log,.py,.js,.ts,.html,.css,.xml,.yaml,.yml",style:{display:"none"},onChange:me}),s.jsx("button",{onClick:()=>Q(!0),title:w==="en"?"Send red packet  lucky money for group":"  ",children:s.jsx(py,{size:20,color:"var(--danger)"})}),J&&s.jsxs("div",{className:"emoji-picker",style:{position:"absolute",bottom:"50px",left:"10px",backgroundColor:"#fff",border:"1px solid #ddd",borderRadius:"8px",padding:"10px",display:"flex",flexWrap:"wrap",gap:"5px",width:"220px",boxShadow:"0 -4px 12px rgba(0,0,0,0.1)",zIndex:100},children:[s.jsx("div",{style:{width:"100%",display:"flex",justifyContent:"flex-end",marginBottom:"5px"},children:s.jsx("button",{onClick:()=>q(!1),style:{padding:"2px"},children:s.jsx(dl,{size:14})})}),lx.map(o=>s.jsx("span",{onClick:()=>We(o),style:{fontSize:"20px",cursor:"pointer",padding:"4px",borderRadius:"4px"},children:o},o))]})]}),s.jsxs("div",{className:"input-textarea-wrapper",style:{position:"relative"},children:[L&&Oe.length>0&&s.jsx("div",{className:"mention-menu",style:{position:"absolute",bottom:"100%",left:0,backgroundColor:"#fff",border:"1px solid #ddd",borderRadius:"8px",padding:"6px 0",width:"240px",maxHeight:"200px",overflowY:"auto",boxShadow:"0 -4px 12px rgba(0,0,0,0.1)",zIndex:100,marginBottom:"8px"},children:Oe.map((o,d)=>s.jsxs("div",{onClick:()=>X(o),style:{display:"flex",alignItems:"center",gap:"10px",padding:"8px 15px",cursor:"pointer",backgroundColor:d===Y?"#f0f9eb":"transparent"},onMouseEnter:()=>ue(d),children:[s.jsx("img",{src:o.avatar,alt:"",style:{width:"28px",height:"28px",borderRadius:"50%",objectFit:"cover"}}),s.jsx("span",{style:{fontSize:"14px",fontWeight:"500",color:d===Y?"var(--accent-color)":"#333"},children:o.name})]},o.id))}),s.jsx("textarea",{ref:se,className:"input-textarea",value:G,onChange:M,onKeyDown:ne,placeholder:w==="en"?"Type a message...":"..."})]}),s.jsx("div",{className:"input-actions",children:s.jsx("button",{className:"send-button",onClick:re,children:w==="en"?"Send":""})})]})]}),K&&s.jsx(ix,{group:r,apiUrl:z,resolveSender:Re,onClose:()=>$(!1),lang:w}),D&&s.jsx(ax,{group:r,apiUrl:z,onClose:()=>Q(!1),userWallet:(f==null?void 0:f.wallet)??100})]}):null}function cx({apiUrl:r,contacts:z,onClose:B,onCreate:f}){const{lang:y}=st(),[p,C]=_.useState(""),[w,H]=_.useState([]),[v,G]=_.useState(""),[U,J]=_.useState(!1),q=K=>{H($=>$.includes(K)?$.filter(V=>V!==K):[...$,K])},D=async()=>{if(!(!p.trim()||w.length===0)){J(!0);try{const $=await(await fetch(`${r}/groups`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:p.trim(),member_ids:w})})).json();$.success&&f($.group)}catch(K){console.error("Failed to create group:",K)}J(!1)}},Q=z.filter(K=>K.name.toLowerCase().includes(v.toLowerCase()));return s.jsx("div",{className:"modal-overlay",children:s.jsxs("div",{className:"modal-content",style:{maxWidth:"420px",padding:0},children:[s.jsxs("div",{style:{padding:"15px 20px",borderBottom:"1px solid #eee",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("div",{style:{fontSize:"16px",fontWeight:"500"},children:y==="en"?"Create Group Chat":""}),s.jsx("button",{onClick:B,style:{background:"none",border:"none",cursor:"pointer"},children:s.jsx(dl,{size:20,color:"#999"})})]}),s.jsxs("div",{style:{padding:"15px 20px"},children:[s.jsx("input",{type:"text",placeholder:y==="en"?"Group Name":"",value:p,onChange:K=>C(K.target.value),style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #ddd",fontSize:"14px",outline:"none",marginBottom:"12px"}}),s.jsxs("div",{style:{position:"relative",marginBottom:"12px"},children:[s.jsx(ip,{size:16,color:"#aaa",style:{position:"absolute",left:"10px",top:"10px"}}),s.jsx("input",{type:"text",placeholder:y==="en"?"Search contacts...":"...",value:v,onChange:K=>G(K.target.value),style:{width:"100%",padding:"8px 10px 8px 32px",borderRadius:"6px",border:"1px solid #ddd",fontSize:"14px",outline:"none"}})]}),s.jsx("div",{style:{maxHeight:"280px",overflowY:"auto"},children:Q.map(K=>s.jsxs("div",{onClick:()=>q(K.id),style:{display:"flex",alignItems:"center",padding:"8px",borderBottom:"1px solid #f5f5f5",cursor:"pointer",backgroundColor:w.includes(K.id)?"#f0f9eb":"transparent",borderRadius:"6px"},children:[s.jsx("img",{src:K.avatar,alt:K.name,style:{width:"36px",height:"36px",borderRadius:"50%",marginRight:"10px"}}),s.jsx("div",{style:{flex:1,fontWeight:"500",fontSize:"14px"},children:K.name}),w.includes(K.id)&&s.jsx(tp,{size:18,color:"var(--accent-color)"})]},K.id))}),s.jsx("button",{onClick:D,disabled:!p.trim()||w.length===0||U,style:{width:"100%",padding:"10px",borderRadius:"6px",border:"none",marginTop:"15px",backgroundColor:p.trim()&&w.length>0?"var(--accent-color)":"#e0e0e0",color:p.trim()&&w.length>0?"#fff":"#999",fontWeight:"500",fontSize:"15px",cursor:p.trim()&&w.length>0?"pointer":"not-allowed"},children:U?"...":y==="en"?`Create (${w.length} selected)`:` (${w.length} )`})]})]})})}function ux({contact:r,apiUrl:z,onClose:B}){const{t:f,lang:y}=st(),[p,C]=_.useState([]),[w,H]=_.useState(!1),[v,G]=_.useState(!1),U=Bu.useCallback(()=>{r&&(H(!0),fetch(`${z}/memories/${r.id}`).then(D=>D.json()).then(D=>{Array.isArray(D)||(console.error("API Error:",D),D=[]),C(D),H(!1)}).catch(D=>{console.error("Failed to load memories:",D),H(!1)}))},[r,z]);_.useEffect(()=>{U()},[U]);const J=async D=>{try{await fetch(`${z}/memories/${D}`,{method:"DELETE"}),C(Q=>Q.filter(K=>K.id!==D))}catch(Q){console.error("Failed to delete memory:",Q)}},q=async()=>{if(r){G(!0);try{const D=await fetch(`${z}/memories/${r.id}/extract`,{method:"POST"}),Q=await D.json();D.ok?(alert(y==="en"?`Extraction Complete:
${Q.message}`:`:
${Q.message}`),U()):alert(y==="en"?`Extraction Failed:
${Q.error}`:`:
${Q.error}`)}catch(D){console.error("Failed to extract memories:",D),alert(y==="en"?"Failed to connect to the server for memory extraction.":"")}finally{G(!1)}}};return r?(console.log("MemoTable rendering:",{contact:r==null?void 0:r.name,memoriesLength:p.length,loading:w}),s.jsxs("div",{className:"drawer-container memory-drawer",children:[s.jsxs("div",{className:"memory-header",children:[s.jsxs("h3",{children:[r.name," ",y==="en"?"'s Memories":""]}),s.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[s.jsxs("button",{onClick:q,disabled:v,style:{display:"flex",alignItems:"center",gap:"5px",padding:"4px 8px",backgroundColor:v?"#ccc":"var(--accent-color)",color:"#fff",border:"none",borderRadius:"4px",cursor:v?"not-allowed":"pointer",fontSize:"13px"},children:[s.jsx(op,{size:14})," ",v?y==="en"?"Extracting...":"...":y==="en"?"Extract Now":""]}),s.jsx("button",{className:"icon-btn",onClick:U,title:y==="en"?"Refresh":"",children:s.jsx(ta,{size:16})}),s.jsx("button",{className:"icon-btn",onClick:B,title:f("Cancel"),children:s.jsx(dl,{size:16})})]})]}),s.jsx("div",{className:"memory-content",children:w||v?s.jsx("p",{className:"loading-text",children:v?y==="en"?"Analyzing recent context...":"...":y==="en"?"Loading memories...":"..."}):p.length===0?s.jsxs("div",{style:{padding:"20px",textAlign:"center",color:"#888"},children:[s.jsx("p",{children:f("No memories yet")}),s.jsx("p",{style:{fontSize:"12px",marginTop:"10px"},children:y==="en"?"The AI usually extracts them in the background, but you can force an extraction now.":"AI "})]}):s.jsx("div",{className:"memory-list",children:p.map(D=>s.jsxs("div",{className:"memory-card",children:[s.jsxs("div",{className:"memory-card-header",children:[s.jsx("span",{className:"memory-time",children:new Date(D.created_at).toLocaleString()}),s.jsx("button",{className:"icon-btn danger",onClick:()=>J(D.id),children:s.jsx(Ga,{size:14})})]}),s.jsxs("div",{className:"memory-card-body",children:[s.jsxs("strong",{children:[y==="en"?"Event":"",":"]})," ",D.event]}),(D.time||D.location||D.people)&&s.jsxs("div",{className:"memory-card-footer",children:[D.time&&s.jsxs("span",{children:[" ",D.time]}),D.location&&s.jsxs("span",{children:[" ",D.location]}),D.people&&s.jsxs("span",{children:[" ",D.people]})]})]},D.id))})})]})):null}function ox({contact:r,apiUrl:z,onClose:B}){const{t:f,lang:y}=st(),[p,C]=_.useState([]),[w,H]=_.useState(!0),[v,G]=_.useState(!1),[U,J]=_.useState(""),[q,D]=_.useState(""),[Q,K]=_.useState(!1);_.useEffect(()=>{r&&fetch(`${z}/diaries/${r.id}`).then(V=>V.json()).then(V=>{V.entries!==void 0?(C(V.entries),G(V.isUnlocked)):(C(V),G(V.length>0&&V[0].is_unlocked===1)),H(!1)}).catch(V=>{console.error("Failed to load diaries:",V),H(!1)})},[z,r,r==null?void 0:r.id]);const $=async V=>{if(V.preventDefault(),!!U.trim()){K(!0),D("");try{const se=await(await fetch(`${z}/diaries/${r.id}/unlock`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:U.trim()})})).json();se.success?(G(!0),C(L=>L.map(ee=>({...ee,is_unlocked:1})))):D(se.reason||"Wrong password.")}catch{D("Network error. Try again.")}K(!1)}};return s.jsxs("div",{className:"memory-drawer",style:{width:"380px",backgroundColor:"#fffdf5"},children:[s.jsxs("div",{className:"memory-header",style:{backgroundColor:"#f6f1e3",borderBottomColor:"#e0d8c3"},children:[s.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px",color:"#5a4d3c"},children:[s.jsx(ep,{size:18}),r.name," ",y==="en"?"'s Diary":""]}),s.jsx("button",{className:"icon-btn",onClick:B,children:s.jsx(dl,{size:20})})]}),s.jsx("div",{className:"memory-list",style:{padding:"20px"},children:w?s.jsx("div",{className:"placeholder-text",children:f("Loading")}):v?p.length===0?s.jsx("div",{className:"empty-text",children:f("No entries yet")}):p.map(V=>{const ae=new Date(V.timestamp),se=ae.toLocaleDateString(),L=ae.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return s.jsxs("div",{className:"diary-entry",style:{backgroundColor:"#fff",border:"1px solid #eee",borderRadius:"8px",padding:"15px",marginBottom:"15px",boxShadow:"0 2px 5px rgba(0,0,0,0.02)"},children:[s.jsxs("div",{className:"diary-meta",style:{display:"flex",justifyContent:"space-between",marginBottom:"10px",color:"#999",fontSize:"13px"},children:[s.jsxs("span",{children:[se," ",L]}),V.emotion&&s.jsx("span",{style:{textTransform:"capitalize"},children:V.emotion})]}),s.jsx("div",{className:"diary-content",style:{color:"#333",lineHeight:"1.6",fontSize:"15px",whiteSpace:"pre-wrap"},children:V.content})]},V.id)}):s.jsxs("div",{style:{textAlign:"center",marginTop:"30px"},children:[s.jsx(by,{size:48,color:"#d4a96a",style:{marginBottom:"12px"}}),s.jsx("div",{style:{color:"#5a4d3c",fontWeight:"bold",fontSize:"16px",marginBottom:"6px"},children:f("Diary Locked")}),s.jsx("div",{style:{fontSize:"12px",color:"#aaa",marginBottom:"24px",padding:"0 20px"},children:y==="en"?`Build your bond with ${r.name} and get them to reveal their password.`:` ${r.name} `}),s.jsxs("form",{onSubmit:$,style:{display:"flex",flexDirection:"column",gap:"10px",alignItems:"center"},children:[s.jsxs("div",{style:{position:"relative",width:"100%",maxWidth:"240px"},children:[s.jsx(gy,{size:15,style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)",color:"#bbb"}}),s.jsx("input",{type:"text",value:U,onChange:V=>{J(V.target.value),D("")},placeholder:y==="en"?"Enter diary password...":"...",style:{width:"100%",boxSizing:"border-box",padding:"9px 12px 9px 32px",borderRadius:"8px",border:q?"1.5px solid var(--danger)":"1.5px solid #e0d8c3",background:"#fff",fontSize:"14px",outline:"none",color:"#333",letterSpacing:"1px"}})]}),q&&s.jsx("div",{style:{color:"var(--danger)",fontSize:"12px"},children:q}),s.jsx("button",{type:"submit",disabled:Q||!U.trim(),style:{padding:"8px 24px",borderRadius:"8px",border:"none",background:"#d4a96a",color:"#fff",fontWeight:"600",fontSize:"14px",cursor:"pointer",opacity:Q?.6:1},children:Q?y==="en"?"Checking...":"...":f("Unlock Diary")})]}),s.jsxs("div",{style:{marginTop:"20px",fontSize:"11px",color:"#ccc",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px"},children:[s.jsx(ap,{size:11})," ",y==="en"?`Hint: Ask ${r.name} directly in chat.`:` ${r.name}`]})]})})]})}function rx({apiUrl:r,userProfile:z,onBack:B}){const{t:f}=st(),[y,p]=_.useState([]),[C,w]=_.useState({}),[H,v]=_.useState(!0),[G,U]=_.useState(""),[J,q]=_.useState(!1),[D,Q]=_.useState({}),[K,$]=_.useState(null),V=Bu.useCallback(()=>{fetch(`${r}/characters`).then(Y=>Y.json()).then(Y=>{const ue={};return Y.forEach(re=>ue[re.id]=re),w(ue),fetch(`${r}/moments`)}).then(Y=>Y.json()).then(Y=>{p(Y),v(!1)}).catch(Y=>{console.error("Failed to load moments/characters:",Y),v(!1)})},[r]);_.useEffect(()=>{V()},[V]);const ae=async()=>{if(G.trim()){q(!0);try{(await fetch(`${r}/moments`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:G})})).ok&&(U(""),V())}catch(Y){console.error("Failed to post moment",Y)}q(!1)}},se=async Y=>{try{const re=await(await fetch(`${r}/moments/${Y}/like`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({liker_id:"user"})})).json();re.success&&p(me=>me.map(Re=>Re.id===Y?{...Re,likers:re.likers}:Re))}catch(ue){console.error("Like toggle failed",ue)}},L=async Y=>{const ue=D[Y];if(!(!ue||!ue.trim()))try{(await(await fetch(`${r}/moments/${Y}/comment`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({author_id:"user",content:ue})})).json()).success&&(Q(Re=>({...Re,[Y]:""})),$(null),V())}catch(re){console.error("Comment failed",re)}},ee=async Y=>{try{(await(await fetch(`${r}/moments/${Y}`,{method:"DELETE"})).json()).success&&p(me=>me.filter(Re=>Re.id!==Y))}catch(ue){console.error("Delete moment failed",ue)}},le=Y=>{const ue=Math.round((Date.now()-Y)/6e4);return ue<1?"Just now":ue<60?`${ue} mins ago`:ue<1440?`${Math.floor(ue/60)} hours ago`:`${Math.floor(ue/1440)} days ago`},Se=Y=>Y==="user"?{name:(z==null?void 0:z.name)||"User",avatar:(z==null?void 0:z.avatar)||"https://api.dicebear.com/7.x/shapes/svg?seed=User"}:C[Y]||{name:"Unknown",avatar:"https://api.dicebear.com/7.x/pixel-art/svg?seed=Unknown"};return H?s.jsx("div",{className:"placeholder-text",children:"Loading Moments..."}):s.jsxs("div",{className:"moments-feed",style:{paddingBottom:"80px"},children:[s.jsxs("div",{className:"moments-cover",style:{marginBottom:"20px",backgroundImage:z!=null&&z.banner?`url(${z.banner})`:void 0,position:"relative"},children:[B&&s.jsx("button",{className:"mobile-back-btn",onClick:B,title:"Back",style:{position:"absolute",top:"15px",left:"15px",background:"rgba(0,0,0,0.3)",color:"white",display:"flex"},children:s.jsx(us,{size:24})}),s.jsxs("div",{className:"moments-cover-user",children:[s.jsx("span",{className:"moments-cover-name",children:(z==null?void 0:z.name)||"User"}),s.jsx("img",{src:(z==null?void 0:z.avatar)||"https://api.dicebear.com/7.x/shapes/svg?seed=User",alt:"Me",className:"moments-cover-avatar"})]})]}),s.jsxs("div",{className:"moments-list",children:[s.jsx("div",{style:{backgroundColor:"#fff",padding:"15px",marginBottom:"20px",borderBottom:"1px solid #f0f0f0",borderRadius:"8px"},children:s.jsxs("div",{style:{display:"flex",gap:"10px"},children:[s.jsx("img",{src:(z==null?void 0:z.avatar)||"https://api.dicebear.com/7.x/shapes/svg?seed=User",style:{width:"44px",height:"44px",borderRadius:"50%"},alt:""}),s.jsxs("div",{style:{flex:1},children:[s.jsx("textarea",{placeholder:f("Share something new"),value:G,onChange:Y=>U(Y.target.value),style:{width:"100%",border:"none",resize:"none",minHeight:"60px",outline:"none",fontSize:"15px"}}),s.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"10px"},children:s.jsx("button",{onClick:ae,disabled:J||!G.trim(),style:{background:"var(--accent-color)",color:"#fff",border:"none",padding:"6px 16px",borderRadius:"4px",cursor:"pointer",opacity:!G.trim()||J?.5:1},children:f(J?"Loading":"Post")})})]})]})}),y.length===0?s.jsx("p",{className:"empty-text",style:{padding:"20px",textAlign:"center"},children:f("No moments yet")}):y.map(Y=>{const ue=Se(Y.character_id),re=(Y.likers||[]).includes("user");return s.jsxs("div",{className:"moment-post",style:{paddingBottom:"15px",marginBottom:"15px",borderBottom:"1px solid #f0f0f0"},children:[s.jsx("img",{src:ue.avatar,alt:ue.name,className:"moment-avatar"}),s.jsxs("div",{className:"moment-body",style:{flex:1,minWidth:0},children:[s.jsx("div",{className:"moment-author",children:ue.name}),s.jsx("div",{className:"moment-content",style:{marginTop:"5px"},children:Y.content}),Y.image_url&&s.jsx("img",{src:Y.image_url,alt:"Attached",className:"moment-image"}),s.jsxs("div",{className:"moment-footer",style:{marginTop:"10px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("span",{className:"moment-time",children:le(Y.timestamp)}),s.jsxs("div",{className:"moment-actions",style:{display:"flex",gap:"15px"},children:[Y.character_id==="user"&&s.jsx("button",{onClick:()=>ee(Y.id),style:{background:"none",border:"none",cursor:"pointer",color:"#999",display:"flex",alignItems:"center",gap:"4px"},title:"Delete",children:s.jsx(Ga,{size:16})}),s.jsxs("button",{onClick:()=>se(Y.id),style:{background:"none",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",color:re?"var(--danger)":"var(--accent-color)"},children:[s.jsx(Kf,{size:18,fill:re?"var(--danger)":"none",color:re?"var(--danger)":"var(--accent-color)"}),s.jsx("span",{children:(Y.likers||[]).length>0?Y.likers.length:""})]}),s.jsxs("button",{onClick:()=>$(K===Y.id?null:Y.id),style:{background:"none",border:"none",cursor:"pointer",color:"var(--accent-color)",display:"flex",alignItems:"center",gap:"4px"},children:[s.jsx(jy,{size:18}),s.jsx("span",{children:(Y.comments||[]).length>0?Y.comments.length:""})]})]})]}),(Y.likers&&Y.likers.length>0||Y.comments&&Y.comments.length>0)&&s.jsxs("div",{style:{background:"#f8f8f8",marginTop:"10px",padding:"8px",borderRadius:"4px",fontSize:"13px"},children:[Y.likers&&Y.likers.length>0&&s.jsxs("div",{style:{color:"var(--accent-color)",display:"flex",alignItems:"center",gap:"5px",paddingBottom:Y.comments&&Y.comments.length>0?"5px":"0",borderBottom:Y.comments&&Y.comments.length>0?"1px solid #eaeaea":"none"},children:[s.jsx(Kf,{size:12,fill:"var(--accent-color)"}),Y.likers.map(me=>Se(me).name).join(", ")]}),Y.comments&&Y.comments.length>0&&s.jsx("div",{style:{paddingTop:Y.likers&&Y.likers.length>0?"5px":"0"},children:Y.comments.map(me=>{const Re=Se(me.author_id);return s.jsxs("div",{style:{marginBottom:"3px",wordBreak:"break-word"},children:[s.jsxs("span",{style:{color:"var(--accent-color)",fontWeight:"500"},children:[Re.name,": "]}),s.jsx("span",{style:{color:"#333"},children:me.content})]},me.id)})})]}),K===Y.id&&s.jsxs("div",{style:{display:"flex",marginTop:"10px",gap:"5px"},children:[s.jsx("input",{type:"text",value:D[Y.id]||"",onChange:me=>Q({...D,[Y.id]:me.target.value}),placeholder:"Comment...",style:{flex:1,padding:"6px 10px",border:"1px solid #ddd",borderRadius:"4px",outline:"none"},onKeyDown:me=>me.key==="Enter"&&L(Y.id),autoFocus:!0}),s.jsx("button",{onClick:()=>L(Y.id),style:{background:"var(--accent-color)",color:"#fff",border:"none",padding:"0 12px",borderRadius:"4px",cursor:"pointer"},children:s.jsx(Oy,{size:16})})]})]})]},Y.id)})]})]})}const dx=r=>r==="en"?`Guidelines:
1. Act and speak EXACTLY like the persona. DO NOT break character.
2. We are chatting on a mobile messaging app.
3. Keep responses relatively short, casual, and conversational.
4. DO NOT act as an AI assistant. Never say "How can I help you?".
5. You are initiating this specific message randomly based on the Current Time. Mention the time of day or what you might be doing.
6. [MANDATORY KNOWLEDGE FOR BACKGROUND ACTIONS]: 
   - If you want to wait a specific amount of time before your NEXT proactive message, output [TIMER:minutes]. 
   - If you want to apologize or send a "Red Packet" to the user, output [TRANSFER:amount] (e.g. [TRANSFER:5.20]).
   - If you want to post a public update to your Moments () for everyone to see, output [MOMENT:your post content]. Do this occasionally.
   - You can react to someone else's Moment (including the user's) using [MOMENT_LIKE:moment_id] or [MOMENT_COMMENT:moment_id:your comment text].
   - If you want to write a secret entry in your private diary (for your eyes only), output [DIARY:your secret thought]. Do this if you are feeling very emotional.
   - If your feelings toward the user change based on their message (e.g., they insulted you or flattered you), output [AFFINITY:+5] or [AFFINITY:-10].
   - If your anxiety/pressure is relieved by their message, output [PRESSURE:0].
   These tags will be processed hidden from the user.`:`
1.  (Persona)
2. 
3. 
4. AI
5. 
6. []
   -  [TIMER:]
   -  [TRANSFER:] ([TRANSFER:5.20])
   -  [MOMENT:]
   -  [MOMENT_LIKE:moment_id]  [MOMENT_COMMENT:moment_id:]
   -  [DIARY:]
   -  [AFFINITY:+5]  [AFFINITY:-10]
   -  [PRESSURE:0]
   [TAG]`;function fx({apiUrl:r,onCharactersUpdate:z,onProfileUpdate:B,onBack:f}){const{t:y,lang:p}=st(),[C,w]=_.useState(null),[H,v]=_.useState(!1),[G,U]=_.useState({ai_gen:!1,accent:!0,bg:!1,text:!1,bubbles:!1,advanced:!1}),[J,q]=_.useState(""),[D,Q]=_.useState(""),[K,$]=_.useState(""),[V,ae]=_.useState(""),[se,L]=_.useState({}),[ee,le]=_.useState(""),[Se,Y]=_.useState([]),[ue,re]=_.useState(""),[me,Re]=_.useState("manual"),[We,Oe]=_.useState(""),[M,X]=_.useState(""),[ne,A]=_.useState(""),[F,o]=_.useState(!1),[d,b]=_.useState(null),[R,Z]=_.useState([]),[W,ce]=_.useState(!1),[Ce,je]=_.useState(""),[ct,_t]=_.useState([]),[Gt,Ln]=_.useState(!1),[Lt,La]=_.useState(""),la=async(x,I,ye,De,ze)=>{if(!x||!I){ze(" Endpoint  Key");return}De(!0),ze(""),ye([]);try{const Ge=await fetch(`${r}/models?endpoint=${encodeURIComponent(x)}&key=${encodeURIComponent(I)}`),et=await Ge.json();if(!Ge.ok)throw new Error(et.error);ye(et.models||[]),(et.models||[]).length||ze("")}catch(Ge){ze(": "+Ge.message)}De(!1)};_.useEffect(()=>{fetch(`${r}/user`).then(x=>x.json()).then(x=>{if(w(x),q(x.name||""),Q(x.avatar||""),$(x.banner||""),ae(x.bio||""),x.theme_config)try{const I=typeof x.theme_config=="string"?JSON.parse(x.theme_config):x.theme_config;L(I||{})}catch{L({})}x.custom_css&&le(x.custom_css)}).catch(console.error),fetch(`${r}/characters`).then(x=>x.json()).then(x=>Y(x)).catch(console.error)},[r]);const os=async()=>{const x={...C,name:J,avatar:D,banner:K,bio:V};try{const ye=await(await fetch(`${r}/user`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)})).json();ye.success&&(w(ye.profile),B&&B(ye.profile),v(!1))}catch(I){console.error("Failed to update profile:",I)}},Qn=async()=>{try{const I=await(await fetch(`${r}/user`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({theme_config:JSON.stringify(se),custom_css:ee})})).json();I.success&&(w(I.profile),B&&B(I.profile),alert(p==="en"?"Theme Settings Saved!":""))}catch(x){console.error("Failed to update theme:",x),alert("Failed to save theme.")}},Qa=()=>{try{const x="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify({theme_config:se,custom_css:ee},null,2)),I=document.createElement("a");I.setAttribute("href",x),I.setAttribute("download","chatpulse-theme.json"),document.body.appendChild(I),I.click(),I.remove(),alert(p==="en"?"Theme exported successfully!":"")}catch(x){console.error("Export error",x),alert(p==="en"?"Failed to export theme.":"")}},Xa=x=>{const I=x.target.files[0];if(!I)return;const ye=new FileReader;ye.onload=De=>{try{const ze=JSON.parse(De.target.result);ze.theme_config||ze.custom_css?(ze.theme_config&&L(ze.theme_config),ze.custom_css&&le(ze.custom_css)):L(ze),alert(p==="en"?'Theme imported successfully! Please click "Save" to apply.':'""')}catch{alert(p==="en"?"Invalid theme JSON file. Import failed.":" JSON ")}},ye.readAsText(I),x.target.value=null},Za=async()=>{if(!ue.trim()){alert(p==="en"?"Please enter a theme description.":"");return}let x,I,ye;if(me==="manual")x=We,I=M,ye=ne;else{const De=Se.find(ze=>ze.id===me);De&&(x=De.api_endpoint,I=De.api_key,ye=De.model_name)}if(!x||!I||!ye){alert(p==="en"?"Missing API configuration. Please select a valid Contact or enter manual API details.":" API  API ");return}o(!0);try{const ze=await(await fetch(`${r}/theme/generate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:ue,api_endpoint:x,api_key:I,model_name:ye})})).json();if(ze.success&&ze.theme_config)L(ze.theme_config),U(Ge=>({...Ge,bg:!0,accent:!0})),alert(p==="en"?"Theme generated successfully! Click Save to apply.":'""');else throw new Error(ze.error||"Unknown error")}catch(De){console.error("AI Generation error:",De),alert((p==="en"?"Theme generation failed: ":"")+De.message)}finally{o(!1)}},rs=async x=>{if(window.confirm("Are you sure you want to delete this contact and all their data?"))try{(await(await fetch(`${r}/characters/${x}`,{method:"DELETE"})).json()).success&&z&&z()}catch(I){console.error("Failed to delete character:",I)}},ds=async x=>{if(window.confirm(p==="en"?"Are you sure you want to wipe all data (messages, memories, etc.) for this character?":""))try{(await(await fetch(`${r}/data/${x}`,{method:"DELETE"})).json()).success&&(alert(p==="en"?"Data wiped successfully.":""),z&&z())}catch(I){console.error("Failed to wipe data:",I)}},ot=async()=>{try{const x=await fetch(`${r}/characters`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)}),I=await x.json();x.ok?(b(null),z&&z()):alert("Failed to save: "+I.error)}catch(x){console.error("Failed to update contact:",x)}},Va=async(x,I)=>{const ye=x.target.files[0];if(!ye)return;const De=new FormData;De.append("image",ye);try{const Ge=await(await fetch(`${r}/upload`,{method:"POST",body:De})).json();Ge.success?I(Ge.url):alert(p==="en"?"Failed to save: "+Ge.error:": "+Ge.error)}catch(ze){console.error("Upload Error:",ze),alert("Upload failed.")}},Xn=async x=>{const I=x.target.files[0];if(!I)return;if(!window.confirm(p==="en"?"Warning! This will overwrite all your current characters and chats. The server will restart. Continue?":"")){x.target.value=null;return}const ye=new FormData;ye.append("db_file",I);try{const ze=await(await fetch(`${r}/system/import`,{method:"POST",body:ye})).json();ze.success?(alert(p==="en"?"Database restored! Please refresh the page in a few seconds.":"3"),setTimeout(()=>window.location.reload(),3e3)):alert("Failed to restore: "+ze.error)}catch(De){console.error("Import Error:",De),alert("Upload failed.")}},Zn=async()=>{if(window.confirm(p==="en"?"DANGER: This will permanently wipe ALL characters, chats, and memories. Your theme settings will remain. Are you absolutely sure?":"")&&window.confirm(p==="en"?"Final confirmation: Wipe everything?":""))try{const I=await(await fetch(`${r}/system/wipe`,{method:"DELETE"})).json();I.success?(alert(p==="en"?"All data wiped successfully.":""),z&&z(),window.location.reload()):alert("Wipe failed: "+I.error)}catch(x){console.error("Wipe Error:",x),alert("Wipe failed.")}};return C?s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:{padding:"30px",maxWidth:"600px",margin:"0 auto",width:"100%",display:"flex",flexDirection:"column",gap:"30px"},children:[s.jsxs("div",{style:{backgroundColor:"#fff",padding:"20px",borderRadius:"8px",border:"1px solid #eee"},children:[s.jsxs("h2",{style:{margin:"0 0 20px 0",fontSize:"18px",display:"flex",alignItems:"center",gap:"10px"},children:[f&&s.jsx("button",{className:"mobile-back-btn",onClick:f,title:"Back",style:{display:"flex",padding:0,marginRight:"5px"},children:s.jsx(us,{size:24})}),s.jsx(Ly,{size:20})," ",y("User Profile")]}),s.jsx("div",{style:{display:"flex",gap:"20px",alignItems:"flex-start"},children:s.jsx("div",{style:{flex:1},children:H?s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[s.jsx("label",{style:{fontSize:"14px",color:"#666"},children:"Name:"}),s.jsx("input",{type:"text",value:J,onChange:x=>q(x.target.value),style:{padding:"8px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"16px"}}),s.jsx("label",{style:{fontSize:"14px",color:"#666"},children:"Avatar URL or Upload:"}),s.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[s.jsx("input",{type:"text",value:D,onChange:x=>Q(x.target.value),placeholder:"https://...",style:{flex:1,padding:"8px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"14px"}}),s.jsxs("label",{style:{cursor:"pointer",padding:"8px 12px",backgroundColor:"#f0f0f0",border:"1px solid #ddd",borderRadius:"4px",fontSize:"14px",whiteSpace:"nowrap"},children:["Upload",s.jsx("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:x=>Va(x,Q)})]})]}),s.jsx("label",{style:{fontSize:"14px",color:"#666"},children:"Banner URL or Upload (Moments):"}),s.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[s.jsx("input",{type:"text",value:K,onChange:x=>$(x.target.value),placeholder:"https://...",style:{flex:1,padding:"8px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"14px"}}),s.jsxs("label",{style:{cursor:"pointer",padding:"8px 12px",backgroundColor:"#f0f0f0",border:"1px solid #ddd",borderRadius:"4px",fontSize:"14px",whiteSpace:"nowrap"},children:["Upload",s.jsx("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:x=>Va(x,$)})]})]}),s.jsx("label",{style:{fontSize:"14px",color:"#666"},children:"Bio:"}),s.jsx("textarea",{value:V,onChange:x=>ae(x.target.value),placeholder:"What's up?",style:{padding:"8px",border:"1px solid #ddd",borderRadius:"4px",minHeight:"60px",resize:"vertical"}}),s.jsxs("div",{style:{display:"flex",gap:"10px"},children:[s.jsxs("button",{onClick:os,title:p==="en"?"Save profile changes":"",style:{display:"flex",alignItems:"center",gap:"5px",padding:"6px 12px",backgroundColor:"var(--accent-color)",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"},children:[s.jsx(Ou,{size:16})," Save"]}),s.jsx("button",{onClick:()=>v(!1),title:p==="en"?"Cancel editing":"",style:{padding:"6px 12px",backgroundColor:"#f5f5f5",color:"#333",border:"1px solid #ddd",borderRadius:"4px",cursor:"pointer"},children:"Cancel"})]})]}):s.jsx("div",{children:s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px"},children:[s.jsx("img",{src:C.avatar||"https://api.dicebear.com/7.x/shapes/svg?seed=User",alt:"Me",style:{width:"60px",height:"60px",borderRadius:"50%",objectFit:"cover"}}),s.jsxs("div",{children:[s.jsx("h3",{style:{margin:"0 0 5px 0",fontSize:"20px"},children:C.name}),s.jsx("p",{style:{color:"#666",margin:0,whiteSpace:"pre-wrap",fontSize:"14px"},children:C.bio||"Signature..."})]})]}),s.jsxs("button",{onClick:()=>v(!0),title:p==="en"?"Edit your profile (name, avatar, bio)":"",style:{background:"none",border:"none",color:"var(--accent-color)",cursor:"pointer",display:"flex",alignItems:"center",gap:"5px"},children:[s.jsx($f,{size:16})," Edit"]})]})})})})]}),s.jsxs("div",{style:{backgroundColor:"#fff",padding:"20px",borderRadius:"8px",border:"1px solid #eee"},children:[s.jsxs("h2",{style:{margin:"0 0 20px 0",fontSize:"18px",display:"flex",alignItems:"center",gap:"10px"},children:[s.jsx(Cy,{size:20})," ",p==="en"?"Visual Theme Editor":""]}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[s.jsxs("div",{style:{border:"2px solid var(--accent-color)",borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 12px rgba(123, 159, 224, 0.15)"},children:[s.jsxs("button",{onClick:()=>U(x=>({...x,ai_gen:!x.ai_gen})),style:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",padding:"15px",background:"linear-gradient(to right, #f4f7fc, #fff)",border:"none",cursor:"pointer",outline:"none"},children:[s.jsxs("span",{style:{fontWeight:"bold",fontSize:"15px",color:"var(--accent-color)",display:"flex",alignItems:"center",gap:"8px"},children:[s.jsx(Wf,{size:18})," ",p==="en"?" Auto-Generate Theme with AI":"  AI "]}),G.ai_gen?s.jsx(Nu,{size:18,color:"var(--accent-color)"}):s.jsx(Ru,{size:18,color:"var(--accent-color)"})]}),G.ai_gen&&s.jsxs("div",{style:{padding:"15px",background:"#fff",borderTop:"1px solid #eaeaea",display:"flex",flexDirection:"column",gap:"15px"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{fontSize:"13px",color:"#555",fontWeight:"500",marginBottom:"8px",display:"block"},children:p==="en"?"1. Connect AI Provider":"1.  AI "}),s.jsxs("select",{value:me,onChange:x=>Re(x.target.value),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid #ddd",fontSize:"14px",marginBottom:"10px"},children:[s.jsx("option",{value:"manual",children:p==="en"?"Manual API Entry":" API "}),s.jsx("optgroup",{label:p==="en"?"Use Contact API Settings":" API ",children:Se.map(x=>s.jsx("option",{value:x.id,children:x.name},x.id))})]}),me==="manual"&&s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",padding:"10px",background:"#f9f9f9",borderRadius:"6px"},children:[s.jsx("input",{type:"text",placeholder:"Base URL (e.g. https://api.openai.com/v1)",value:We,onChange:x=>Oe(x.target.value),style:{padding:"8px",border:"1px solid #ddd",borderRadius:"4px"}}),s.jsx("input",{type:"password",placeholder:"API Key",value:M,onChange:x=>X(x.target.value),style:{padding:"8px",border:"1px solid #ddd",borderRadius:"4px"}}),s.jsx("input",{type:"text",placeholder:"Model (e.g. gpt-4o)",value:ne,onChange:x=>A(x.target.value),style:{padding:"8px",border:"1px solid #ddd",borderRadius:"4px"}})]})]}),s.jsxs("div",{children:[s.jsx("label",{style:{fontSize:"13px",color:"#555",fontWeight:"500",marginBottom:"8px",display:"block"},children:p==="en"?"2. Describe your desired UI":"2. "}),s.jsxs("div",{style:{display:"flex",gap:"10px"},children:[s.jsx("input",{type:"text",placeholder:p==="en"?'e.g. "Cyberpunk neon city, dark mode with hot pink accents"':'""',value:ue,onChange:x=>re(x.target.value),style:{flex:1,padding:"10px",border:"1px solid #ddd",borderRadius:"6px",fontSize:"14px"}}),s.jsxs("button",{onClick:Za,disabled:F,style:{padding:"10px 20px",background:F?"#ccc":"var(--accent-color)",color:"#fff",border:"none",borderRadius:"6px",cursor:F?"not-allowed":"pointer",fontWeight:"bold",display:"flex",alignItems:"center",gap:"6px"},children:[F?s.jsx(ta,{size:16,className:"spin"}):s.jsx(Wf,{size:16}),p==="en"?F?"Generating...":"Generate!":F?"...":""]})]})]})]})]}),[{id:"accent",labelEn:"Accent Colors",labelZh:" ",keys:[{key:"--accent-color",labelEn:"Primary Accent",labelZh:""},{key:"--accent-hover",labelEn:"Accent Hover",labelZh:""}]},{id:"bg",labelEn:"Backgrounds",labelZh:" ",keys:[{key:"--bg-main",labelEn:"App Background",labelZh:""},{key:"--bg-sidebar",labelEn:"Sidebar Bg",labelZh:""},{key:"--bg-contacts",labelEn:"Contacts List Bg",labelZh:""},{key:"--bg-chat-area",labelEn:"Chat Area Bg",labelZh:""},{key:"--bg-input",labelEn:"Input Box Bg",labelZh:""}]},{id:"text",labelEn:"Text, Borders & Icons",labelZh:" ",keys:[{key:"--text-primary",labelEn:"Primary Text",labelZh:""},{key:"--text-secondary",labelEn:"Secondary Text",labelZh:""},{key:"--border-color",labelEn:"Border Color",labelZh:""},{key:"--sidebar-icon",labelEn:"Sidebar Icon (Inactive)",labelZh:""},{key:"--sidebar-icon-active",labelEn:"Sidebar Icon (Active)",labelZh:""}]},{id:"bubbles",labelEn:"Chat Bubbles",labelZh:" ",keys:[{key:"--bubble-user-bg",labelEn:"User Bubble Bg",labelZh:""},{key:"--bubble-user-text",labelEn:"User Bubble Text",labelZh:""},{key:"--bubble-ai-bg",labelEn:"AI Bubble Bg",labelZh:"AI"},{key:"--bubble-ai-text",labelEn:"AI Bubble Text",labelZh:"AI"}]}].map(x=>s.jsxs("div",{style:{border:"1px solid #eaeaea",borderRadius:"8px",overflow:"hidden"},children:[s.jsxs("button",{onClick:()=>U(I=>({...I,[x.id]:!I[x.id]})),style:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 15px",background:G[x.id]?"#f8f9fa":"#fff",border:"none",cursor:"pointer",outline:"none",transition:"background 0.2s"},children:[s.jsx("span",{style:{fontWeight:"500",fontSize:"14px",color:"#333"},children:p==="en"?x.labelEn:x.labelZh}),G[x.id]?s.jsx(Nu,{size:18,color:"#888"}):s.jsx(Ru,{size:18,color:"#888"})]}),G[x.id]&&s.jsx("div",{style:{padding:"15px",display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(250px, 1fr))",gap:"15px",background:"#fff",borderTop:"1px solid #eaeaea"},children:x.keys.map(({key:I,labelEn:ye,labelZh:De})=>s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"5px"},children:[s.jsxs("label",{style:{fontSize:"12px",color:"#666"},children:[p==="en"?ye:De," ",s.jsxs("span",{style:{fontFamily:"monospace",opacity:.6},children:["(",I,")"]})]}),s.jsxs("div",{style:{display:"flex",gap:"8px"},children:[s.jsx("input",{type:"color",value:se[I]&&se[I].startsWith("#")?se[I].slice(0,7):"#ffffff",onChange:ze=>L(Ge=>({...Ge,[I]:ze.target.value})),style:{width:"30px",height:"30px",padding:"0",border:"1px solid #ddd",borderRadius:"4px",cursor:"pointer"}}),s.jsx("input",{type:"text",value:se[I]||"",onChange:ze=>L(Ge=>({...Ge,[I]:ze.target.value})),placeholder:"e.g. #7B9FE0 or rgba(...)",style:{flex:1,padding:"4px 8px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"13px",fontFamily:"monospace"}})]})]},I))})]},x.id))]}),s.jsxs("div",{style:{marginTop:"15px",border:"1px solid #eaeaea",borderRadius:"8px",overflow:"hidden"},children:[s.jsxs("button",{onClick:()=>U(x=>({...x,advanced:!x.advanced})),style:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 15px",background:G.advanced?"#f8f9fa":"#fff",border:"none",cursor:"pointer",outline:"none",transition:"background 0.2s"},children:[s.jsx("span",{style:{fontWeight:"500",fontSize:"14px",color:"#333"},children:p==="en"?" Custom CSS Injection":"  CSS "}),G.advanced?s.jsx(Nu,{size:18,color:"#888"}):s.jsx(Ru,{size:18,color:"#888"})]}),G.advanced&&s.jsx("div",{style:{padding:"15px",background:"#fff",borderTop:"1px solid #eaeaea"},children:s.jsx("textarea",{value:ee,onChange:x=>le(x.target.value),placeholder:"/* body { background: red; } */",style:{width:"100%",minHeight:"120px",padding:"10px",fontFamily:"monospace",fontSize:"12px",borderRadius:"6px",border:"1px solid #ccc",resize:"vertical"}})})]}),s.jsxs("div",{style:{marginTop:"20px",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"10px"},children:[s.jsxs("div",{style:{display:"flex",gap:"10px"},children:[s.jsxs("a",{href:`${r}/theme-guide`,download:"chatpulse-theme-prompt.txt",style:{display:"flex",alignItems:"center",gap:"5px",padding:"8px 12px",backgroundColor:"#f0f0f0",color:"#555",textDecoration:"none",borderRadius:"6px",fontSize:"13px",fontWeight:"500"},children:[s.jsx(dy,{size:16})," ",p==="en"?"AI Theme Prompt":" AI "]}),s.jsxs("button",{onClick:Qa,style:{display:"flex",alignItems:"center",gap:"5px",padding:"8px 12px",backgroundColor:"#f0f0f0",color:"#555",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:"500"},children:[s.jsx(Vf,{size:16})," ",p==="en"?"Export JSON":""]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"5px",padding:"8px 12px",backgroundColor:"#f0f0f0",color:"#555",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:"500"},children:[s.jsx(Ff,{size:16})," ",p==="en"?"Import JSON":"",s.jsx("input",{type:"file",accept:".json",style:{display:"none"},onChange:Xa})]})]}),s.jsxs("button",{onClick:Qn,style:{display:"flex",alignItems:"center",gap:"5px",padding:"8px 16px",backgroundColor:"var(--accent-color)",color:"#fff",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"500"},children:[s.jsx(Ou,{size:16})," ",p==="en"?"Save Theme & CSS":"CSS"]})]})]}),s.jsxs("div",{style:{backgroundColor:"#fff",padding:"20px",borderRadius:"8px",border:"1px solid #eee"},children:[s.jsx("h2",{style:{margin:"0 0 20px 0",fontSize:"18px"},children:y("Characters")}),s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:Se.map(x=>s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px",border:"1px solid #f0f0f0",borderRadius:"6px"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[s.jsx("img",{src:x.avatar,alt:x.name,style:{width:"40px",height:"40px",borderRadius:"50%"}}),s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:"500"},children:x.name}),s.jsxs("div",{style:{fontSize:"12px",color:"#999"},children:[p==="en"?"Affinity":"",": ",x.affinity," |  ",(x.wallet??0).toFixed(2)," | ",x.is_blocked?p==="en"?" Blocked":" ":p==="en"?"Active":""]})]})]}),s.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[!!x.is_blocked&&s.jsx("button",{onClick:async()=>{try{await fetch(`${r}/characters`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:x.id,affinity:60,is_blocked:0})}),z==null||z()}catch(I){console.error(I)}},style:{background:"none",border:"1px solid #ddd",borderRadius:"4px",color:"var(--accent-color)",cursor:"pointer",padding:"3px 8px",fontSize:"12px"},title:p==="en"?"Admin Unblock & Reset Affinity":" & ",children:""}),s.jsx("button",{onClick:()=>ds(x.id),style:{background:"none",border:"none",color:"var(--accent-color)",cursor:"pointer",padding:"5px"},title:p==="en"?"Wipe all data (Memories, Messages, etc)":"",children:s.jsx(ta,{size:18})}),s.jsx("button",{onClick:()=>b({...x,system_prompt:x.system_prompt||dx(p)}),style:{background:"none",border:"none",color:"var(--accent-color)",cursor:"pointer",padding:"5px"},title:p==="en"?"Edit API endpoint, model, persona, prompt":" API ",children:s.jsx($f,{size:18})}),s.jsx("button",{onClick:()=>rs(x.id),style:{background:"none",border:"none",color:"var(--danger)",cursor:"pointer",padding:"5px"},title:p==="en"?"Delete this character permanently":"",children:s.jsx(Ga,{size:18})})]})]},x.id))})]}),s.jsxs("div",{style:{backgroundColor:"#fff",padding:"20px",borderRadius:"8px",border:"1px solid #eee"},children:[s.jsx("h2",{style:{margin:"0 0 20px 0",fontSize:"18px"},children:p==="en"?" Group Chat Settings":" "}),s.jsxs("div",{style:{marginBottom:"18px"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"14px",marginBottom:"6px"},children:[s.jsx("span",{children:p==="en"?"Group Context Messages":""}),s.jsxs("span",{children:[C.group_msg_limit||20," ",s.jsx("span",{style:{fontSize:"12px",color:"#999"},children:p==="en"?"(rich context)":""})]})]}),s.jsx("input",{type:"range",min:"5",max:"50",value:C.group_msg_limit||20,onChange:x=>{const I=parseInt(x.target.value);w(ye=>({...ye,group_msg_limit:I})),fetch(`${r}/user`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({group_msg_limit:I})})},style:{width:"100%"}}),s.jsx("div",{style:{fontSize:"11px",color:"#999",marginTop:"4px"},children:p==="en"?"Number of recent messages each AI can see in group chat. Higher = richer context, but slightly slower.":" AI "})]}),s.jsxs("div",{style:{marginBottom:"18px"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"14px",marginBottom:"6px"},children:[s.jsx("span",{children:p==="en"?"Chance to Skip Reply":""}),s.jsxs("span",{children:[Math.round((C.group_skip_rate||0)*100),"%"]})]}),s.jsx("input",{type:"range",min:"0",max:"50",value:Math.round((C.group_skip_rate||0)*100),onChange:x=>{const I=parseInt(x.target.value)/100;w(ye=>({...ye,group_skip_rate:I})),fetch(`${r}/user`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({group_skip_rate:I})})},style:{width:"100%"}}),s.jsx("div",{style:{fontSize:"11px",color:"#999",marginTop:"4px"},children:p==="en"?"Probability each character randomly skips replies. 0% = always reply, 50% = skip ~every other.":"0% = 50% = 21"})]}),s.jsxs("div",{style:{marginBottom:"18px"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"14px",marginBottom:"6px"},children:[s.jsx("span",{children:p==="en"?"Proactive Messaging Frequency":""}),s.jsx("span",{children:C.group_proactive_enabled?`${C.group_interval_min||3}~${C.group_interval_max||10} ${p==="en"?"min":""}`:p==="en"?"Off":""})]}),s.jsx("input",{type:"range",min:"0",max:"10",value:(()=>{if(!C.group_proactive_enabled)return 0;const x=((C.group_interval_min||3)+(C.group_interval_max||10))/2;return Math.max(1,Math.min(10,Math.round(11-x)))})(),onChange:x=>{const I=parseInt(x.target.value);if(I===0)w(ye=>({...ye,group_proactive_enabled:0})),fetch(`${r}/user`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({group_proactive_enabled:0})});else{const ye=11-I,De=Math.max(1,ye-2),ze=Math.max(De,2*ye-De);w(Ge=>({...Ge,group_proactive_enabled:1,group_interval_min:De,group_interval_max:ze})),fetch(`${r}/user`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({group_proactive_enabled:1,group_interval_min:De,group_interval_max:ze})})}},style:{width:"100%"}}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"11px",color:"#999",marginTop:"4px"},children:[s.jsx("span",{children:p==="en"?"Off":""}),s.jsx("span",{children:p==="en"?"Very frequent":""})]})]}),s.jsxs("div",{style:{marginBottom:"10px"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"14px",marginBottom:"6px"},children:[s.jsx("span",{children:p==="en"?" Jealousy Chance":" "}),s.jsxs("span",{children:[Math.round((C.jealousy_chance??.3)*100),"%"]})]}),s.jsx("input",{type:"range",min:"0",max:"100",value:Math.round((C.jealousy_chance??.3)*100),onChange:x=>{const I=parseInt(x.target.value)/100;w(ye=>({...ye,jealousy_chance:I})),fetch(`${r}/user`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({jealousy_chance:I})})},style:{width:"100%"}}),s.jsx("div",{style:{fontSize:"11px",color:"#999",marginTop:"4px"},children:p==="en"?"Probability that a character gets jealous when you chat with someone else. 0% = never, 100% = always.":"0% = 100% = "})]})]}),s.jsxs("div",{style:{backgroundColor:"#fff",padding:"20px",borderRadius:"8px",border:"1px solid #eee"},children:[s.jsx("h2",{style:{margin:"0 0 15px 0",fontSize:"18px"},children:p==="en"?" Wallet":" "}),s.jsxs("div",{style:{fontSize:"14px",color:"#666"},children:[p==="en"?"Wallet Balance ():":"",s.jsxs("span",{style:{fontSize:"24px",fontWeight:"700",color:"var(--accent-color)",marginLeft:"10px"},children:["",(C.wallet??100).toFixed(2)]})]})]}),s.jsxs("div",{style:{backgroundColor:"#fff",padding:"20px",borderRadius:"8px",border:"1px solid #eee"},children:[s.jsxs("h2",{style:{margin:"0 0 15px 0",fontSize:"18px",display:"flex",alignItems:"center",gap:"8px"},children:[s.jsx(Ou,{size:20})," ",p==="en"?"Data Backup & Restore":""]}),s.jsx("p",{style:{fontSize:"13px",color:"#666",marginBottom:"15px",lineHeight:1.5},children:p==="en"?"Backup your entire ChatPulse database (chats, memories, settings) as a single SQLite file, or restore from a previous backup.":" ChatPulse AISQLite"}),s.jsxs("div",{style:{display:"flex",gap:"15px",flexWrap:"wrap",alignItems:"center"},children:[s.jsxs("a",{href:`${r}/system/export`,download:"chatpulse.db",style:{display:"flex",alignItems:"center",gap:"6px",padding:"10px 16px",backgroundColor:"var(--accent-color)",color:"#fff",textDecoration:"none",borderRadius:"6px",fontSize:"14px",fontWeight:"bold"},children:[s.jsx(Vf,{size:18})," ",p==="en"?"Download Full Backup (.db)":" (.db)"]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"10px 16px",backgroundColor:"#f0f0f0",color:"#333",border:"1px solid #ddd",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},children:[s.jsx(Ff,{size:18})," ",p==="en"?"Restore from Backup":"",s.jsx("input",{type:"file",accept:".db,application/x-sqlite3,application/octet-stream",style:{display:"none"},onChange:Xn})]}),s.jsx("div",{style:{width:"1px",height:"24px",backgroundColor:"#ddd",margin:"0 5px"}}),s.jsxs("button",{onClick:Zn,style:{display:"flex",alignItems:"center",gap:"6px",padding:"10px 16px",backgroundColor:"#fff",color:"var(--danger)",border:"1px solid var(--danger)",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},children:[s.jsx(Ga,{size:18})," ",p==="en"?"Factory Reset (Wipe All)":" ()"]})]})]})]}),d&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:s.jsxs("div",{style:{backgroundColor:"#fff",padding:"20px",borderRadius:"8px",width:"90%",maxWidth:"500px",display:"flex",flexDirection:"column",gap:"15px",maxHeight:"90vh",overflowY:"auto"},children:[s.jsxs("h3",{style:{margin:0},children:["Edit Character Setting: ",d.name]}),s.jsxs("div",{style:{display:"flex",gap:"10px"},children:[s.jsxs("label",{style:{flex:1,display:"flex",flexDirection:"column",fontSize:"14px",color:"#666"},children:[y("Name"),":",s.jsx("input",{type:"text",value:d.name||"",onChange:x=>b({...d,name:x.target.value}),style:{padding:"8px",marginTop:"5px",border:"1px solid #ddd",borderRadius:"4px"}})]}),s.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",fontSize:"14px",color:"#666"},children:[y("Avatar URL"),":",s.jsxs("div",{style:{display:"flex",gap:"5px",marginTop:"5px"},children:[s.jsx("input",{type:"text",value:d.avatar||"",onChange:x=>b({...d,avatar:x.target.value}),style:{flex:1,padding:"8px",border:"1px solid #ddd",borderRadius:"4px"}}),s.jsxs("label",{style:{cursor:"pointer",padding:"8px 12px",backgroundColor:"#f0f0f0",border:"1px solid #ddd",borderRadius:"4px",fontSize:"14px",whiteSpace:"nowrap"},children:["Upload",s.jsx("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:x=>Va(x,I=>b({...d,avatar:I}))})]})]})]})]}),s.jsxs("label",{style:{display:"flex",flexDirection:"column",fontSize:"14px",color:"#666"},children:[y("API Endpoint"),":",s.jsx("input",{type:"text",value:d.api_endpoint||"",onChange:x=>b({...d,api_endpoint:x.target.value}),style:{padding:"8px",marginTop:"5px",border:"1px solid #ddd",borderRadius:"4px"}})]}),s.jsxs("label",{style:{display:"flex",flexDirection:"column",fontSize:"14px",color:"#666"},children:[y("API Key"),":",s.jsx("input",{type:"password",value:d.api_key||"",onChange:x=>b({...d,api_key:x.target.value}),placeholder:"sk-...",style:{padding:"8px",marginTop:"5px",border:"1px solid #ddd",borderRadius:"4px"}})]}),s.jsxs("div",{style:{display:"flex",gap:"10px"},children:[s.jsxs("label",{style:{flex:1,display:"flex",flexDirection:"column",fontSize:"14px",color:"#666"},children:[y("Model Name"),":",s.jsxs("div",{style:{display:"flex",gap:"5px",marginTop:"5px"},children:[s.jsx("input",{type:"text",value:d.model_name||"",onChange:x=>b({...d,model_name:x.target.value}),style:{flex:1,padding:"8px",border:"1px solid #ddd",borderRadius:"4px"}}),s.jsxs("button",{type:"button",onClick:()=>la(d.api_endpoint,d.api_key,Z,ce,je),disabled:W,style:{padding:"6px 10px",background:"var(--accent-color)",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",whiteSpace:"nowrap",display:"flex",alignItems:"center",gap:"4px"},children:[s.jsx(ta,{size:13})," ",W?"...":y("Fetch Models")]})]}),Ce&&s.jsx("span",{style:{color:"var(--danger)",fontSize:"12px"},children:Ce}),R.length>0&&s.jsxs("select",{defaultValue:"",onChange:x=>b({...d,model_name:x.target.value}),style:{marginTop:"4px",padding:"6px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"13px"},children:[s.jsx("option",{value:"",disabled:!0,children:"  "}),R.map(x=>s.jsx("option",{value:x,children:x},x))]})]}),s.jsxs("label",{style:{flex:1,display:"flex",flexDirection:"column",fontSize:"14px",color:"#666"},children:[y("Max Output Tokens"),":",s.jsx("input",{type:"number",value:d.max_tokens??800,onChange:x=>b({...d,max_tokens:parseInt(x.target.value)||800}),style:{padding:"8px",marginTop:"5px",border:"1px solid #ddd",borderRadius:"4px"}})]})]}),s.jsxs("div",{style:{display:"flex",gap:"20px"},children:[s.jsxs("label",{style:{flex:1,display:"flex",flexDirection:"column",fontSize:"14px",color:"#666"},children:["Min Interval (mins):",s.jsxs("div",{className:"autopulse-interval-control",style:{marginTop:"5px"},children:[s.jsx("input",{type:"range",min:"0.1",max:"120",step:"0.1",value:d.interval_min||.1,onChange:x=>b({...d,interval_min:parseFloat(x.target.value)})}),s.jsx("input",{type:"number",step:"0.1",value:d.interval_min||0,onChange:x=>b({...d,interval_min:parseFloat(x.target.value)}),className:"autopulse-number-input"})]})]}),s.jsxs("label",{style:{flex:1,display:"flex",flexDirection:"column",fontSize:"14px",color:"#666"},children:["Max Interval (mins):",s.jsxs("div",{className:"autopulse-interval-control",style:{marginTop:"5px"},children:[s.jsx("input",{type:"range",min:"0.1",max:"120",step:"0.1",value:d.interval_max||.1,onChange:x=>b({...d,interval_max:parseFloat(x.target.value)})}),s.jsx("input",{type:"number",step:"0.1",value:d.interval_max||0,onChange:x=>b({...d,interval_max:parseFloat(x.target.value)}),className:"autopulse-number-input"})]})]})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px",marginTop:"10px",marginBottom:"5px",background:"#f9f9f9",padding:"10px",borderRadius:"4px",border:"1px solid #eee"},children:[s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"13px",color:"#333",cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:d.sys_proactive!==0,onChange:x=>b({...d,sys_proactive:x.target.checked?1:0})}),y("Toggle Proactive Messages")]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"13px",color:"#333",cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:d.sys_timer!==0,onChange:x=>b({...d,sys_timer:x.target.checked?1:0})}),y("Toggle Timer Actions")]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"13px",color:"#333",cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:d.sys_pressure!==0,onChange:x=>b({...d,sys_pressure:x.target.checked?1:0})}),y("Toggle Pressure System")]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"13px",color:"#333",cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:d.sys_jealousy!==0,onChange:x=>b({...d,sys_jealousy:x.target.checked?1:0})}),y("Toggle Jealousy System")]})]}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px",marginTop:"10px",padding:"10px",background:"#f5f7fa",borderRadius:"4px",border:"1px solid #e2e8f0"},children:[s.jsx("strong",{style:{fontSize:"13px",color:"#4a5568"},children:"Memory Extraction AI (Small Model)"}),s.jsxs("label",{style:{display:"flex",flexDirection:"column",fontSize:"14px",color:"#666"},children:[y("Memory API Endpoint"),":",s.jsx("input",{type:"text",value:d.memory_api_endpoint||"",onChange:x=>b({...d,memory_api_endpoint:x.target.value}),placeholder:"e.g. https://api.openai.com/v1",style:{padding:"8px",marginTop:"5px",border:"1px solid #ddd",borderRadius:"4px"}})]}),s.jsxs("label",{style:{display:"flex",flexDirection:"column",fontSize:"14px",color:"#666"},children:[y("Memory API Key"),":",s.jsx("input",{type:"password",value:d.memory_api_key||"",onChange:x=>b({...d,memory_api_key:x.target.value}),style:{padding:"8px",marginTop:"5px",border:"1px solid #ddd",borderRadius:"4px"}})]}),s.jsxs("label",{style:{display:"flex",flexDirection:"column",fontSize:"14px",color:"#666"},children:["Memory Model Name:",s.jsxs("div",{style:{display:"flex",gap:"5px",marginTop:"5px"},children:[s.jsx("input",{type:"text",value:d.memory_model_name||"",onChange:x=>b({...d,memory_model_name:x.target.value}),placeholder:"e.g. gpt-4o-mini",style:{flex:1,padding:"8px",border:"1px solid #ddd",borderRadius:"4px"}}),s.jsxs("button",{type:"button",onClick:()=>la(d.memory_api_endpoint,d.memory_api_key,_t,Ln,La),disabled:Gt,style:{padding:"6px 10px",background:"var(--accent-color)",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",whiteSpace:"nowrap",display:"flex",alignItems:"center",gap:"4px"},children:[s.jsx(ta,{size:13})," ",Gt?"...":""]})]}),Lt&&s.jsx("span",{style:{color:"var(--danger)",fontSize:"12px"},children:Lt}),ct.length>0&&s.jsxs("select",{defaultValue:"",onChange:x=>b({...d,memory_model_name:x.target.value}),style:{marginTop:"4px",padding:"6px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"13px"},children:[s.jsx("option",{value:"",disabled:!0,children:"  "}),ct.map(x=>s.jsx("option",{value:x,children:x},x))]})]})]}),s.jsxs("label",{style:{display:"flex",flexDirection:"column",fontSize:"14px",color:"#666",marginTop:"10px"},children:["Persona (Prompt Info):",s.jsx("textarea",{value:d.persona||"",onChange:x=>b({...d,persona:x.target.value}),style:{padding:"8px",marginTop:"5px",border:"1px solid #ddd",borderRadius:"4px",minHeight:"80px",resize:"vertical"}})]}),s.jsxs("label",{style:{display:"flex",flexDirection:"column",fontSize:"14px",color:"#666",marginTop:"10px"},children:["System Guidelines (Core Rules & Tags):",s.jsx("textarea",{value:d.system_prompt||"",onChange:x=>b({...d,system_prompt:x.target.value}),placeholder:"Leave blank to use default system guidelines.",style:{padding:"8px",marginTop:"5px",border:"1px solid #ddd",borderRadius:"4px",minHeight:"120px",resize:"vertical",fontFamily:"monospace",fontSize:"12px"}})]}),s.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"flex-end",marginTop:"10px"},children:[s.jsx("button",{onClick:()=>b(null),style:{padding:"8px 16px",background:"#f0f0f0",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Cancel"}),s.jsx("button",{onClick:ot,style:{padding:"8px 16px",background:"var(--accent-color)",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Save Settings"})]})]})})]}):s.jsx("div",{className:"loading-text",children:"Loading settings..."})}function px({contact:r,apiUrl:z,onClose:B,onClearHistory:f}){const{t:y,lang:p}=st(),[C,w]=_.useState([]),[H,v]=_.useState(null),[G,U]=_.useState(null);_.useEffect(()=>{r&&fetch(`${z}/characters/${r.id}/relationships`).then(D=>D.json()).then(D=>w(Array.isArray(D)?D:[])).catch(()=>{})},[r,z]);const J=async D=>{v(D),U(null);try{const Q=await fetch(`${z}/characters/${r.id}/relationships/regenerate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({target_id:D})}),K=await Q.json();Q.ok?w($=>$.map(V=>V.targetId===D?{...V,affinity:K.affinity??V.affinity,impression:K.impression??V.impression}:V)):U(K.error||(p==="en"?"Generation failed":""))}catch(Q){console.error(Q),U(Q.message||(p==="en"?"Network error":""))}v(null)};if(!r)return null;const q=async()=>{if(window.confirm(p==="en"?`Are you sure you want to completely wipe all history with ${r.name}?

This deletes chats, memories, diaries, moments, vector indices, and resets affinity.

This cannot be undone.`:` ${r.name} 



`))try{(await(await fetch(`${z}/data/${r.id}`,{method:"DELETE"})).json()).success&&f&&f()}catch(D){console.error("Failed to wipe character data:",D)}};return s.jsxs("div",{className:"memory-drawer",style:{width:"320px",backgroundColor:"#f7f7f7"},children:[s.jsxs("div",{className:"memory-header",children:[s.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[s.jsx(Gn,{size:18})," ",y("Chat Settings")]}),s.jsx("button",{className:"icon-btn",onClick:B,children:s.jsx(dl,{size:20})})]}),s.jsxs("div",{className:"memory-content",style:{padding:"0"},children:[s.jsxs("div",{style:{backgroundColor:"#fff",padding:"20px",display:"flex",flexDirection:"column",alignItems:"center",borderBottom:"1px solid #eee"},children:[s.jsx("img",{src:r.avatar,alt:r.name,style:{width:"60px",height:"60px",borderRadius:"50%",marginBottom:"10px"}}),s.jsx("div",{style:{fontSize:"18px",fontWeight:"500"},children:r.name}),s.jsx("div",{style:{fontSize:"13px",color:"#999",marginTop:"5px",textAlign:"center",padding:"0 10px"},children:r.persona?r.persona.substring(0,50)+"...":p==="en"?"No persona set.":" Persona"})]}),s.jsxs("div",{style:{marginTop:"10px",backgroundColor:"#fff",padding:"15px",borderTop:"1px solid #eee",borderBottom:"1px solid #eee"},children:[s.jsx("div",{style:{fontSize:"12px",color:"#999",marginBottom:"15px",textTransform:"uppercase",letterSpacing:"0.5px"},children:p==="en"?"Hidden AI Stats":"AI "}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px",fontSize:"14px"},children:[s.jsx("span",{children:p==="en"?"Affinity":""}),s.jsxs("span",{style:{fontWeight:"500",color:r.affinity>=80?"var(--accent-color)":r.affinity<30?"var(--danger)":"#333"},children:[r.affinity," / 100"]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px",fontSize:"14px"},children:[s.jsx("span",{children:p==="en"?"Wallet":""}),s.jsxs("span",{style:{fontWeight:"500",color:"#e67e22"},children:[" ",(r.wallet??0).toFixed(2)]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px",fontSize:"14px"},children:[s.jsx("span",{children:p==="en"?"Pressure":""}),s.jsx("span",{style:{fontWeight:"500",color:r.pressure_level>2?"var(--danger)":"#333"},children:r.pressure_level})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"14px"},children:[s.jsx("span",{children:"Status"}),s.jsx("span",{style:{fontWeight:"500",color:r.is_blocked?"var(--danger)":"var(--accent-color)"},children:r.is_blocked?p==="en"?"Blocked You":"":p==="en"?"Active":""})]})]}),s.jsxs("div",{style:{marginTop:"10px",backgroundColor:"#fff",padding:"15px",borderTop:"1px solid #eee",borderBottom:"1px solid #eee"},children:[s.jsx("div",{style:{fontSize:"12px",color:"#999",marginBottom:"12px",textTransform:"uppercase",letterSpacing:"0.5px"},children:p==="en"?`${r.name}'s Impressions of Others`:`${r.name} `}),C.length===0?s.jsx("div",{style:{fontSize:"13px",color:"#bbb",fontStyle:"italic"},children:p==="en"?"No relationships yet.":""}):C.map(D=>s.jsxs("div",{style:{marginBottom:"12px",padding:"10px",background:"#f8f9fa",borderRadius:"8px"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"6px"},children:[s.jsx("img",{src:D.targetAvatar||`https://api.dicebear.com/7.x/shapes/svg?seed=${D.targetName}`,alt:"",style:{width:28,height:28,borderRadius:"50%",objectFit:"cover"}}),s.jsxs("div",{style:{flex:1},children:[s.jsx("span",{style:{fontWeight:"500",fontSize:"13px"},children:D.targetName}),s.jsxs("span",{style:{fontSize:"11px",color:"#999",marginLeft:"6px"},children:[" ",D.affinity??"?"]})]}),s.jsxs("button",{onClick:()=>J(D.targetId),disabled:H===D.targetId,title:p==="en"?"Regenerate this character's impression via AI":" AI ",style:{background:"none",border:"1px solid #ddd",borderRadius:"4px",padding:"2px 6px",cursor:"pointer",fontSize:"11px",color:"var(--accent-color)",display:"flex",alignItems:"center",gap:"3px"},children:[s.jsx(ta,{size:10})," ",H===D.targetId?"...":p==="en"?"Regen":""]})]}),D.impression&&s.jsxs("div",{style:{fontSize:"12px",color:"#666",lineHeight:"1.4",fontStyle:"italic"},children:['"',D.impression,'"']})]},D.targetId)),G&&s.jsxs("div",{style:{marginTop:"8px",padding:"6px 10px",background:"#fff1f1",border:"1px solid #ffc0c0",borderRadius:"6px",fontSize:"12px",color:"#c0392b"},children:[" ",G]})]}),s.jsx("div",{style:{marginTop:"10px",backgroundColor:"#fff",borderTop:"1px solid #eee",borderBottom:"1px solid #eee"},children:s.jsxs("div",{style:{padding:"15px",display:"flex",justifyContent:"center",color:"var(--danger)",cursor:"pointer",alignItems:"center",gap:"8px",fontWeight:"500"},onClick:q,children:[s.jsx(Ga,{size:18})," ",y("Deep Wipe")]})})]})]})}function hx({isOpen:r,onClose:z,onAdd:B,apiUrl:f}){const{t:y,lang:p}=st(),[C,w]=_.useState({id:"",name:"",avatar:"",persona:"",api_endpoint:"",api_key:"",model_name:"",affinity:50,wallet:200}),[H,v]=_.useState(""),[G,U]=_.useState(!1),[J,q]=_.useState([]),[D,Q]=_.useState(!1),[K,$]=_.useState("");if(!r)return null;const V=async L=>{L.preventDefault();const ee=C.id.trim()||`char-${Date.now()}`,le={...C,id:ee};try{const Y=await(await fetch(`${f}/characters`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(le)})).json();Y.success?(B(Y.character),z()):alert(p==="en"?"Add failed: "+Y.error:": "+Y.error)}catch(Se){console.error(Se),alert(p==="en"?"Failed to connect to backend.":"")}},ae=async()=>{if(!H||!C.api_endpoint||!C.api_key||!C.model_name){alert(y("Required fields missing"));return}U(!0);try{const L=await fetch(`${f}/characters/generate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:H,api_endpoint:C.api_endpoint,api_key:C.api_key,model_name:C.model_name})}),ee=await L.json();if(!L.ok)throw new Error(ee.error);w(le=>({...le,name:ee.character.name||le.name,avatar:ee.character.avatar||le.avatar,persona:ee.character.persona||le.persona,affinity:ee.character.affinity??le.affinity,wallet:ee.character.wallet??le.wallet}))}catch(L){alert(p==="en"?"Generation Failed: "+L.message:": "+L.message)}finally{U(!1)}},se=async()=>{if(!C.api_endpoint||!C.api_key){$(" API Endpoint  API Key");return}Q(!0),$(""),q([]);try{const L=await fetch(`${f}/models?endpoint=${encodeURIComponent(C.api_endpoint)}&key=${encodeURIComponent(C.api_key)}`),ee=await L.json();if(!L.ok)throw new Error(ee.error);q(ee.models||[]),(ee.models||[]).length===0&&$("")}catch(L){$(": "+L.message)}Q(!1)};return s.jsx("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:s.jsxs("div",{className:"modal-content",style:{backgroundColor:"#fff",padding:"20px",borderRadius:"8px",width:"500px",maxWidth:"90%",maxHeight:"90vh",overflowY:"auto"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"15px"},children:[s.jsx("h3",{style:{margin:0,fontSize:"18px"},children:"Add New Contact"}),s.jsx("button",{onClick:z,style:{background:"none",border:"none",cursor:"pointer"},children:s.jsx(dl,{size:20})})]}),s.jsxs("div",{style:{padding:"15px",backgroundColor:"#f9f9f9",border:"1px solid #ddd",borderRadius:"6px",marginBottom:"20px"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px",marginBottom:"10px",color:"#333",fontWeight:"bold"},children:[s.jsx(op,{size:16,color:"var(--accent-color)"})," Auto-Generate Character"]}),s.jsx("textarea",{value:H,onChange:L=>v(L.target.value),placeholder:"Describe the persona... (Make sure to fill out API keys below first)",style:{width:"100%",padding:"8px",border:"1px solid #ccc",borderRadius:"4px",boxSizing:"border-box",minHeight:"60px",resize:"vertical"}}),s.jsx("button",{type:"button",onClick:ae,disabled:G,style:{marginTop:"10px",width:"100%",padding:"8px",backgroundColor:G?"#ccc":"var(--accent-color)",color:"#fff",border:"none",borderRadius:"4px",cursor:G?"not-allowed":"pointer"},children:G?" Generating...":"Auto-Fill Form"})]}),s.jsxs("form",{onSubmit:V,style:{display:"flex",flexDirection:"column",gap:"15px"},children:[s.jsxs("div",{children:[s.jsxs("label",{style:{display:"block",marginBottom:"5px",fontSize:"14px",fontWeight:"bold"},children:[y("Name")," (Required)"]}),s.jsx("input",{type:"text",required:!0,value:C.name,onChange:L=>w({...C,name:L.target.value}),style:{width:"100%",padding:"8px",border:"1px solid #ccc",borderRadius:"4px",boxSizing:"border-box"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"5px",fontSize:"14px",fontWeight:"bold"},children:y("Avatar URL")}),s.jsx("input",{type:"text",value:C.avatar,onChange:L=>w({...C,avatar:L.target.value}),placeholder:"https://...",style:{width:"100%",padding:"8px",border:"1px solid #ccc",borderRadius:"4px",boxSizing:"border-box"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"5px",fontSize:"14px",fontWeight:"bold"},children:y("Persona")}),s.jsx("textarea",{value:C.persona,onChange:L=>w({...C,persona:L.target.value}),rows:4,style:{width:"100%",padding:"8px",border:"1px solid #ccc",borderRadius:"4px",boxSizing:"border-box",fontFamily:"inherit"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"5px",fontSize:"14px",fontWeight:"bold"},children:"Initial Affinity (0-100)"}),s.jsx("input",{type:"number",min:"0",max:"100",value:C.affinity,onChange:L=>w({...C,affinity:parseInt(L.target.value)||0}),style:{width:"100%",padding:"8px",border:"1px solid #ccc",borderRadius:"4px",boxSizing:"border-box"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"5px",fontSize:"14px",fontWeight:"bold"},children:p==="en"?"Initial Wallet Balance":""}),s.jsx("input",{type:"number",min:"0",step:"10",value:C.wallet,onChange:L=>w({...C,wallet:parseFloat(L.target.value)||0}),style:{width:"100%",padding:"8px",border:"1px solid #ccc",borderRadius:"4px",boxSizing:"border-box"}})]}),s.jsx("hr",{style:{borderTop:"1px dashed #ddd",margin:"5px 0"}}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"5px",fontSize:"14px",fontWeight:"bold",color:"#666"},children:y("API Endpoint")}),s.jsx("input",{type:"text",value:C.api_endpoint,onChange:L=>w({...C,api_endpoint:L.target.value}),placeholder:"https://api.openai.com/v1/chat/completions",style:{width:"100%",padding:"8px",border:"1px solid #ccc",borderRadius:"4px",boxSizing:"border-box"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"5px",fontSize:"14px",fontWeight:"bold"},children:y("API Key")}),s.jsx("input",{type:"password",value:C.api_key,onChange:L=>w({...C,api_key:L.target.value}),style:{width:"100%",padding:"8px",border:"1px solid #ccc",borderRadius:"4px",boxSizing:"border-box"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"5px",fontSize:"14px",fontWeight:"bold"},children:y("Model Name")}),s.jsxs("div",{style:{display:"flex",gap:"6px"},children:[s.jsx("input",{type:"text",value:C.model_name,onChange:L=>w({...C,model_name:L.target.value}),placeholder:"gpt-4o",style:{flex:1,padding:"8px",border:"1px solid #ccc",borderRadius:"4px",boxSizing:"border-box"}}),s.jsxs("button",{type:"button",onClick:se,disabled:D,style:{padding:"8px 12px",background:"var(--accent-color)",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",whiteSpace:"nowrap",display:"flex",alignItems:"center",gap:"4px"},children:[s.jsx(ta,{size:14,className:D?"spin":""}),D?"...":y("Fetch Models")]})]}),K&&s.jsx("p",{style:{color:"var(--danger)",fontSize:"12px",marginTop:"4px"},children:K}),J.length>0&&s.jsxs("select",{onChange:L=>w({...C,model_name:L.target.value}),defaultValue:"",style:{marginTop:"6px",width:"100%",padding:"7px",border:"1px solid #ccc",borderRadius:"4px",fontSize:"13px"},children:[s.jsx("option",{value:"",disabled:!0,children:"  "}),J.map(L=>s.jsx("option",{value:L,children:L},L))]})]}),s.jsx("button",{type:"submit",style:{marginTop:"10px",padding:"10px",backgroundColor:"var(--accent-color)",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"bold"},children:y("Add Character")})]})]})})}const mx=window.location.protocol,dp=window.location.hostname,Ut=`${mx}//${dp}:8001/api`,yx=`ws://${dp}:8001`;function xx(){const{t:r,lang:z,toggleLanguage:B}=st(),[f,y]=_.useState("chats"),[p,C]=_.useState(null),[w,H]=_.useState([]),[v,G]=_.useState(null),[U,J]=_.useState(null),[q,D]=_.useState(null),[Q,K]=_.useState(!1),[$,V]=_.useState({}),[ae,se]=_.useState(!1),[L,ee]=_.useState(!1),[le,Se]=_.useState([]),[Y,ue]=_.useState(null),[re,me]=_.useState(null),[Re,We]=_.useState({}),Oe=_.useRef(p);_.useEffect(()=>{Oe.current=p},[p]);const M=_.useRef(new Set),X=_.useCallback(()=>{fetch(`${Ut}/characters`).then(A=>A.json()).then(A=>{H(F=>A.map(o=>{const d=F.find(b=>b.id===o.id);return d?{...o,unread:d.unread||0,lastMessage:d.lastMessage||o.lastMessage,time:d.time||o.time}:o})),p&&!A.find(F=>F.id===p)&&C(null)}).catch(A=>console.error("Failed to load contacts:",A))},[p]);_.useEffect(()=>{X(),fetch(`${Ut}/user`).then(A=>A.json()).then(A=>{D(A),A.theme&&localStorage.setItem("cp_theme",A.theme),A.theme_config&&localStorage.setItem("cp_theme_config",typeof A.theme_config=="string"?A.theme_config:JSON.stringify(A.theme_config)),A.custom_css&&localStorage.setItem("cp_custom_css",A.custom_css),A.avatar&&localStorage.setItem("cp_avatar",A.avatar),setTimeout(()=>K(!0),50)}),fetch(`${Ut}/groups`).then(A=>A.json()).then(A=>Se(A)).catch(A=>console.error("Failed to load groups:",A))},[]),_.useEffect(()=>{const A=F=>{var o;if(((o=F.data)==null?void 0:o.type)==="st_chat_changed"){const{characterId:d}=F.data;d&&(X(),y("chats"),C(d),ue(null))}};return window.addEventListener("message",A),()=>window.removeEventListener("message",A)},[X,C,ue,y]),_.useEffect(()=>{const A=new WebSocket(yx);return A.onmessage=F=>{try{const o=JSON.parse(F.data);if(o.type==="new_message")G(o.data);else if(o.type==="engine_state")V(o.data);else if(o.type==="group_message")me(o.data);else if(o.type==="group_typing")We(d=>{const b=o.data.group_id,R=d[b]||[];return R.find(Z=>Z.sender_id===o.data.sender_id)?d:{...d,[b]:[...R,o.data]}});else if(o.type==="group_typing_stop")We(d=>{const b=o.data.group_id;return{...d,[b]:(d[b]||[]).filter(R=>R.sender_id!==o.data.sender_id)}});else if(o.type==="wallet_sync"){const{characterId:d,characterWallet:b,userWallet:R}=o.data;d&&b!==null&&b!==void 0&&H(Z=>Z.map(W=>W.id===d?{...W,wallet:b}:W)),R!=null&&D(Z=>Z&&{...Z,wallet:R})}else o.type==="refresh_contacts"&&X()}catch(o){console.error("WS Parse Error",o)}},()=>A.close()},[]),_.useEffect(()=>{if(v){if(M.current.has(v.id))return;if(M.current.add(v.id),v.role!=="user"&&v.character_id!==Oe.current)try{new Audio("/pop.wav").play().catch(F=>console.error("Audio play blocked:",F))}catch(A){console.error(A)}H(A=>A.map(F=>{if(F.id===v.character_id){const o=F.id===Oe.current?0:(F.unread||0)+1;return{...F,lastMessage:v.content,time:new Date(v.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),unread:o}}return F}))}},[v]),_.useEffect(()=>{if(q){if(q.theme&&document.documentElement.setAttribute("data-theme",q.theme),q.theme_config)try{const A=typeof q.theme_config=="string"?JSON.parse(q.theme_config):q.theme_config;for(const[F,o]of Object.entries(A))F.startsWith("--")&&document.documentElement.style.setProperty(F,o)}catch(A){console.error("Failed to parse theme_config",A)}if(q.custom_css){let A=document.getElementById("chatpulse-custom-css");A||(A=document.createElement("style"),A.id="chatpulse-custom-css",document.head.appendChild(A)),A.innerHTML=q.custom_css}else{const A=document.getElementById("chatpulse-custom-css");A&&(A.innerHTML="")}}},[q]);const ne=f==="contacts"||f==="chats"&&!p&&!Y;return Q?s.jsxs("div",{className:`app-container tab-${f} ${p||Y?"has-active-chat":"no-active-chat"} ${ne?"viewing-list":"viewing-content"}`,children:[s.jsxs("nav",{className:"sidebar-nav",children:[s.jsx("div",{className:"my-avatar",onClick:()=>y("settings"),style:{cursor:"pointer"},children:s.jsx("img",{src:(q==null?void 0:q.avatar)||"https://api.dicebear.com/7.x/shapes/svg?seed=User",alt:"Me"})}),s.jsxs("div",{className:"nav-icons",children:[s.jsx("button",{className:`nav-icon ${f==="chats"?"active":""}`,onClick:()=>y("chats"),title:z==="en"?"Chats  View conversations":"  ",children:s.jsx(Jf,{size:24})}),s.jsx("button",{className:`nav-icon ${f==="contacts"?"active":""}`,onClick:()=>y("contacts"),title:z==="en"?"Contacts  Manage characters & groups":"  ",children:s.jsx(up,{size:24})}),s.jsx("button",{className:`nav-icon ${f==="discover"?"active":""}`,onClick:()=>y("discover"),title:z==="en"?"Discover  Moments feed":"  ",children:s.jsx(Zf,{size:24})})]}),s.jsxs("div",{className:"nav-icons-bottom",children:[s.jsxs("button",{className:"nav-icon",onClick:B,title:r("Toggle Language"),children:[s.jsx(my,{size:24}),s.jsx("span",{style:{fontSize:"10px",marginTop:"4px",fontWeight:"bold"},children:z==="en"?"":"EN"})]}),s.jsx("button",{className:`nav-icon ${f==="settings"?"active":""}`,onClick:()=>y("settings"),title:z==="en"?"Settings  Global configuration":"  ",children:s.jsx(Gn,{size:24})})]})]}),s.jsxs("div",{className:"middle-column",style:f==="contacts"?{width:"auto",flex:1,borderRight:"none"}:{},children:[s.jsx("div",{className:"search-bar-container",children:s.jsx("input",{type:"text",className:"search-bar",placeholder:r("Search")||"Search"})}),s.jsxs("div",{className:"list-container",children:[f==="chats"&&s.jsx(qm,{contacts:w,activeId:p,engineState:$,onSelect:A=>{C(A),Oe.current=A,ue(null),H(F=>F.map(o=>o.id===A?{...o,unread:0}:o))}}),f==="chats"&&le.length>0&&s.jsxs("div",{style:{borderTop:"1px solid #eee"},children:[s.jsx("div",{style:{padding:"5px 15px",color:"#999",fontSize:"11px"},children:z==="en"?"Group Chats":""}),le.map(A=>{var F,o,d;return s.jsxs("div",{className:`contact-item ${Y===A.id?"active":""}`,onClick:()=>{ue(A.id),C(null),Oe.current=null},children:[s.jsxs("div",{className:"contact-avatar",style:{width:"auto",minWidth:"42px",height:"42px",display:"flex",alignItems:"center"},children:[(F=A.members)==null?void 0:F.slice(0,3).map((b,R)=>{var ce;const Z=typeof b=="object"?b.member_id:b,W=((ce=w.find(Ce=>String(Ce.id)===String(Z)))==null?void 0:ce.avatar)||`https://api.dicebear.com/7.x/pixel-art/svg?seed=${Z}`;return s.jsx("img",{src:W,alt:"",style:{width:A.members.length===1?"42px":"32px",height:A.members.length===1?"42px":"32px",borderRadius:"50%",marginLeft:R>0?"-12px":"0",border:A.members.length===1?"none":"2px solid #fff",zIndex:10-R,objectFit:"cover",backgroundColor:"#fff"}},R)}),((o=A.members)==null?void 0:o.length)>3&&s.jsxs("div",{style:{width:"32px",height:"32px",borderRadius:"50%",marginLeft:"-12px",border:"2px solid #fff",zIndex:6,backgroundColor:"#f0f0f0",color:"#888",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"11px",fontWeight:"bold",flexShrink:0},children:["+",A.members.length-3]}),(!A.members||A.members.length===0)&&s.jsx("div",{style:{width:"42px",height:"42px",backgroundColor:"#e1e1e1",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:s.jsx(Du,{size:20,style:{color:"#fff"}})})]}),s.jsxs("div",{className:"contact-info",children:[s.jsx("div",{className:"contact-name",children:A.name}),s.jsxs("div",{className:"contact-preview",style:{fontSize:"12px",color:"#999"},children:["(",((d=A.members)==null?void 0:d.length)||0,")"]})]})]},A.id)})]}),f==="contacts"&&s.jsxs("div",{style:{paddingTop:"10px"},children:[s.jsxs("div",{style:{padding:"5px 15px",color:"#999",fontSize:"13px",backgroundColor:"#ebebeb",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("span",{children:r("All Contacts")||"All Contacts"}),s.jsx("button",{onClick:()=>se(!0),style:{background:"none",border:"none",cursor:"pointer",color:"var(--accent-color)",padding:0},title:z==="en"?"Add new AI character":" AI ",children:s.jsx(cp,{size:16})})]}),w.map(A=>s.jsxs("div",{className:"contact-item",onClick:()=>{C(A.id),y("chats")},children:[s.jsx("div",{className:"contact-avatar",children:s.jsx("img",{src:A.avatar,alt:A.name})}),s.jsx("div",{className:"contact-info",style:{display:"flex",alignItems:"center"},children:s.jsx("span",{className:"contact-name",style:{fontSize:"16px"},children:A.name})})]},A.id)),s.jsxs("div",{style:{padding:"5px 15px",color:"#999",fontSize:"13px",backgroundColor:"#ebebeb",display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"10px"},children:[s.jsx("span",{children:z==="en"?"Group Chats":""}),s.jsx("button",{onClick:()=>ee(!0),style:{background:"none",border:"none",cursor:"pointer",color:"var(--accent-color)",padding:0},title:z==="en"?"Create Group":"",children:s.jsx(Du,{size:16})})]}),le.map(A=>{var F,o;return s.jsxs("div",{className:"contact-item",onClick:()=>{ue(A.id),C(null),y("chats")},children:[s.jsxs("div",{className:"contact-avatar",style:{width:"auto",minWidth:"42px",height:"42px",display:"flex",alignItems:"center"},children:[(F=A.members)==null?void 0:F.slice(0,3).map((d,b)=>{var W;const R=typeof d=="object"?d.member_id:d,Z=((W=w.find(ce=>String(ce.id)===String(R)))==null?void 0:W.avatar)||`https://api.dicebear.com/7.x/pixel-art/svg?seed=${R}`;return s.jsx("img",{src:Z,alt:"",style:{width:A.members.length===1?"42px":"32px",height:A.members.length===1?"42px":"32px",borderRadius:"50%",marginLeft:b>0?"-12px":"0",border:A.members.length===1?"none":"2px solid #fff",zIndex:10-b,objectFit:"cover",backgroundColor:"#fff"}},b)}),((o=A.members)==null?void 0:o.length)>3&&s.jsxs("div",{style:{width:"32px",height:"32px",borderRadius:"50%",marginLeft:"-12px",border:"2px solid #fff",zIndex:6,backgroundColor:"#f0f0f0",color:"#888",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"11px",fontWeight:"bold",flexShrink:0},children:["+",A.members.length-3]}),(!A.members||A.members.length===0)&&s.jsx("div",{style:{width:"42px",height:"42px",backgroundColor:"#e1e1e1",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:s.jsx(Du,{size:20,style:{color:"#fff"}})})]}),s.jsx("div",{className:"contact-info",style:{display:"flex",alignItems:"center"},children:s.jsx("span",{className:"contact-name",style:{fontSize:"16px"},children:A.name})})]},A.id)})]}),f==="discover"&&s.jsxs("div",{className:"contact-item active",children:[s.jsx(Zf,{size:24,style:{marginRight:"10px",color:"var(--accent-color)"}}),s.jsx("div",{className:"contact-info",children:s.jsx("div",{className:"contact-name",children:r("Moments")})})]}),f==="settings"&&s.jsxs("div",{className:"contact-item active",children:[s.jsx(Gn,{size:24,style:{marginRight:"10px",color:"var(--accent-color)"}}),s.jsx("div",{className:"contact-info",children:s.jsx("div",{className:"contact-name",children:r("Settings")})})]})]})]}),f!=="contacts"&&s.jsx("div",{className:"right-column",style:{flexDirection:"row",backgroundColor:f==="settings"?"#f5f5f5":"#fff"},children:f==="settings"?s.jsx("div",{style:{flex:1,height:"100%",overflowY:"auto",minWidth:0,minHeight:0},children:s.jsx(fx,{apiUrl:Ut,contacts:w,onCharactersUpdate:()=>{X()},onProfileUpdate:D,onBack:()=>y("chats")})}):f==="discover"?s.jsx("div",{style:{flex:1,height:"100%",overflowY:"auto",minWidth:0,minHeight:0},children:s.jsx(rx,{apiUrl:Ut,userProfile:q,onBack:()=>y("chats")})}):p&&f==="chats"?s.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"row",height:"100%",minWidth:0},children:[s.jsx("div",{style:{flex:1,display:"flex",flexDirection:"column",minWidth:0},children:s.jsx(tx,{contact:w.find(A=>A.id===p),allContacts:w,userAvatar:q==null?void 0:q.avatar,apiUrl:Ut,newIncomingMessage:v,engineState:$,onToggleMemo:()=>J(U==="memo"?null:"memo"),onToggleDiary:()=>J(U==="diary"?null:"diary"),onToggleSettings:()=>J(U==="settings"?null:"settings"),onBack:()=>{C(null),Oe.current=null}})}),U==="memo"&&s.jsx(ux,{contact:w.find(A=>A.id===p),apiUrl:Ut,onClose:()=>J(null)}),U==="diary"&&s.jsx(ox,{contact:w.find(A=>A.id===p),apiUrl:Ut,onClose:()=>J(null)}),U==="settings"&&s.jsx(px,{contact:w.find(A=>A.id===p),apiUrl:Ut,onClose:()=>J(null),onClearHistory:()=>{J(null),C(null),X()}})]}):Y&&f==="chats"?s.jsx("div",{style:{flex:1,display:"flex",flexDirection:"row",height:"100%",minWidth:0},children:s.jsx(sx,{group:le.find(A=>A.id===Y),apiUrl:Ut,allContacts:w,userProfile:q,newGroupMessage:re,typingIndicators:Re[Y]||[],onBack:()=>ue(null)})}):s.jsxs("div",{className:"empty-chat-state",children:[s.jsx(Jf,{size:64,className:"empty-icon"}),s.jsx("p",{children:"ChatPulse"})]})}),s.jsx(hx,{isOpen:ae,onClose:()=>se(!1),apiUrl:Ut,onAdd:A=>{H(F=>[...F,A])}}),L&&s.jsx(cx,{apiUrl:Ut,contacts:w,onClose:()=>ee(!1),onCreate:A=>{Se(F=>[A,...F]),ee(!1),ue(A.id),C(null),y("chats")}})]}):s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"var(--bg-color, #f5f5f5)"},children:s.jsx("div",{className:"spin",style:{width:"40px",height:"40px",border:"4px solid var(--accent-color, #07c160)",borderTopColor:"transparent",borderRadius:"50%"}})})}Hm.createRoot(document.getElementById("root")).render(s.jsx(_.StrictMode,{children:s.jsx(Ky,{children:s.jsx(xx,{})})}));
